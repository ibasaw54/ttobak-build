(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{260:function(e,t,n){e.exports=n(389)},389:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(125),i=n.n(o),u=n(7),c=n(30),s=n(6),l=n.n(s),d=n(12),p=n(15),f=n(16),m=n(18),h=n(17),g=n(55),b=n(29),v=n(3),x=n(2),_="https://ttobak.s3.ap-northeast-2.amazonaws.com/",w={ttobak1_1:_+"img/ttobak/ttobak1-1.png",ttobak1_2:_+"img/ttobak/ttobak1-2.png",ttobak1_3:_+"img/ttobak/ttobak1-3.png",ttobak1_4:_+"img/ttobak/ttobak1-4.png",ttobak2_1:_+"img/ttobak/ttobak2-1.png",ttobak2_2:_+"img/ttobak/ttobak2-2.png",ttobak2_3:_+"img/ttobak/ttobak2-3.png",ttobak2_4:_+"img/ttobak/ttobak2-4.png",ttobak3_1:_+"img/ttobak/ttobak3-1.png",ttobak3_2:_+"img/ttobak/ttobak3-2.png",ttobak3_3:_+"img/ttobak/ttobak3-3.png",ttobak3_4:_+"img/ttobak/ttobak3-4.png",speech_bubble:_+"img/ttobak/speech_buble.png"},y={card1:_+"img/characters/card1.png",card2:_+"img/characters/card2.png",worm1:_+"img/characters/worm1.png",worm2_1:_+"img/characters/worm2_1.png",worm2_2:_+"img/characters/worm2_2.png",worm3_1:_+"img/characters/worm3_1.png"},k={recording_end:_+"effect/recording_end.mp3",recording_start:_+"effect/recording_start.mp3",touch_effect:_+"effect/tic.mp3",twinkle:_+"effect/twinkle.mp3"},E={root_background:_+"img/root_sign/root_background.png",icon_background:_+"img/Icon/icon_background.png",IconList:[_+"img/Icon/icon0.png",_+"img/Icon/icon1.png",_+"img/Icon/icon2.png",_+"img/Icon/icon3.png"]},T={bt_again:_+"img/button/bt_again.png",bt_continue:_+"img/button/bt_continue.png",bt_stop:_+"img/button/bt_stop.png"},S={d1_AnswerDown:_+"img/d1_sweep/answer_down.png",d1_AnswerUp:_+"img/d1_sweep/answer_up.png",d1_UpButton_UP:_+"img/d1_sweep/up.png",d1_DownButton_UP:_+"img/d1_sweep/down.png",d1_UpButton_DOWN:_+"img/d1_sweep/up_pushed.png",d1_DownButton_DOWN:_+"img/d1_sweep/down_pushed.png",d1_background:_+"img/d1_sweep/d1_background.png",d1_box:_+"img/d1_sweep/box.png"},O={d2_Box1_1:_+"img/d2_recognition/box1-1.png",d2_Box1_2:_+"img/d2_recognition/box1-2.png",d2_Box1_3:_+"img/d2_recognition/box1-3.png",d2_Box2_1:_+"img/d2_recognition/box2-1.png",d2_Box2_2:_+"img/d2_recognition/box2-2.png",d2_Box2_3:_+"img/d2_recognition/box2-3.png",d2_Tree1:_+"img/d2_recognition/tree1.png",d2_Tree2:_+"img/d2_recognition/tree2.png",d2_background:_+"img/d2_recognition/d2_background.png"},j={bt_complete:_+"img/button/bt_complete.png",d3_background:_+"img/d3_attention/d3_background.png"},C={bt_complete:_+"img/button/bt_complete.png",t1_background:_+"img/t1_shadowing/t1_background.png",t1_textbox:_+"img/t1_shadowing/textbox.png"},A={bt_complete:_+"img/button/bt_complete.png",t2_background:_+"img/t2_counting/t2_background.png",t2_basket:_+"img/t2_counting/basket.png",t2_Apples:[_+"img/t2_counting/apple1.png",_+"img/t2_counting/apple2.png",_+"img/t2_counting/apple3.png",_+"img/t2_counting/apple4.png"]},B={t3_background:_+"img/t3_common/t3_background.png",t3_textbox:_+"img/t3_common/textbox.png",t3_excpic:_+"img/t3_common/excpic.png"},I={t5_background:_+"img/t5_sound/t5_background.png"},P={t6_background:_+"img/t6_consomatch/t6_background.png",t6_frame:_+"img/t6_consomatch/frame.png",t6_excpic:_+"img/t6_consomatch/excpic.png"},R={t7_background:_+"img/t7_consocommon/t7_background.png",t7_frame:_+"img/t7_consocommon/frame.png",t7_excpic:_+"img/t7_consocommon/excpic.png"},D=[_+"img/main/therapy0.png",_+"img/main/therapy1.png",_+"img/main/therapy2.png",_+"img/main/therapy3.png",_+"img/main/therapy4.png",_+"img/main/therapy5.png",_+"img/main/therapy6.png",_+"img/main/therapy7.png",_+"img/main/therapy8.png",_+"img/main/therapy9.png",_+"img/main/therapy10.png",_+"img/main/therapy11.png"],L={bt_pause:_+"img/button/bt_pause.png",bt_back:_+"img/Icon/bt_back.png"};function H(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n"]);return H=function(){return e},e}function U(){var e=Object(v.a)(["\n    border-radius: 100%;\n    background-color: rgba(0,0,0,0);\n    border: 0px solid;\n    width: ",";\n    height: ",";\n"]);return U=function(){return e},e}var N=x.c.div(U(),(function(e){return e.size||"100px"}),(function(e){return e.size||"100px"})),q=x.c.img(H());var z=function(e){var t=e.iconNum,n=e.size;return a.a.createElement(N,{size:n},a.a.createElement(q,{src:E.IconList[t]}))};function F(){var e=Object(v.a)(["\n    display: flex;\n    font-size: 1.4rem;\n    margin-left: 10px;\n    align-items: center;\n    text-align: center;\n"]);return F=function(){return e},e}function M(){var e=Object(v.a)(["\n    height: 37px;\n    padding: 15px;\n    background-color: #ffffff;\n    border-radius: 40px;\n    border: 1.5px solid #DFD7C4;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.6rem;\n    margin: 0 10px;\n"]);return M=function(){return e},e}function G(){var e=Object(v.a)(["\n    height: 37px;\n    width: 37px;\n    background-color: #ffffff;\n    border-radius: 40px;\n    border: 1.5px solid #DFD7C4;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.6rem;\n"]);return G=function(){return e},e}function W(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    background-color: #ffffff;\n    border: 1.5px solid #DFD7C4;\n    border-radius: 40px;\n    align-items: center;\n    padding: 2px;\n    flex: 1;\n"]);return W=function(){return e},e}function Y(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    height: 37px;\n    justify-content: space-between;\n    flex-direction: row;\n    margin-bottom: 15px;\n"]);return Y=function(){return e},e}var Q=x.c.div(Y()),V=Object(x.c)(u.b)(W()),J=Object(x.c)(u.b)(G()),X=x.c.div(M()),K=x.c.div(F()),Z=function(e){var t=e.student,n=e.isDiagOkay;return a.a.createElement(Q,null,a.a.createElement(V,{to:"/user/stdinfo"},a.a.createElement(z,{size:"33px",iconNum:t.ic_id}),a.a.createElement(K,null,t.name)),a.a.createElement(X,{onTouchEnd:n},"\uac80\uc0ac\ud558\uae30"),a.a.createElement(J,{to:"/user/setting"},"\uc124\uc815"))};function $(){var e=Object(v.a)(["\n    align-items: center;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    border-radius: 15px;\n    touch-action: none;\n"]);return $=function(){return e},e}function ee(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    height: calc(100% - 40px);\n    font-size: 0.8rem;\n    text-align: ",";\n"]);return ee=function(){return e},e}function te(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    height: 40px;\n    text-align: center;\n    font-size: 1.3rem;\n    background-color: ",";\n    border-radius: 15px 15px 0px 0px;\n"]);return te=function(){return e},e}function ne(){var e=Object(v.a)(["\n            touch-action: none;\n        "]);return ne=function(){return e},e}function re(){var e=Object(v.a)(["\n    align-items: center;\n    width: ",";\n    height: ",";\n    background-color: ",";\n    border-radius: 15px;\n    ","\n"]);return re=function(){return e},e}var ae=Object(x.c)(u.b)(re(),(function(e){return e.width||"100%"}),(function(e){return e.height||"100%"}),(function(e){return e.color||"grey"}),(function(e){if(e.touchNone)return Object(x.b)(ne())})),oe=x.c.div(te(),(function(e){return e.color||"red"})),ie=x.c.div(ee(),(function(e){return e.isDaily?"start":"center"})),ue=x.c.div($(),(function(e){return e.width||"100%"}),(function(e){return e.height||"100%"}),(function(e){return e.color||"grey"})),ce=function(e){var t=e.text,n=e.Contents,r=e.color,o=e.headercolor,i=e.width,u=e.height,c=e.linkto,s=e.isImageLoaded,l=e.data,d=e.isFirstDiagnose,p=e.touchNone,f=null,m=!1;return l?(f={pathname:c+"/daily",state:{data:l}},m=!0):f={pathname:c,state:{isImageLoaded:s}},p||d?a.a.createElement(ue,{color:r,width:i,height:u},a.a.createElement(oe,{color:o},t),a.a.createElement(ie,{isDaily:m},n)):a.a.createElement(ae,{to:f,color:r,width:i,height:u,touchNone:p},a.a.createElement(oe,{color:o},t),a.a.createElement(ie,{isDaily:m},n))};function se(){var e=Object(v.a)(["\n    font-size: 1rem;\n"]);return se=function(){return e},e}function le(){var e=Object(v.a)(["\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin-bottom: 5px;\n"]);return le=function(){return e},e}function de(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    width: auto;\n"]);return de=function(){return e},e}function pe(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    margin-left: 15px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: row;\n    padding: 5px 0;\n"]);return fe=function(){return e},e}function me(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: row;\n    padding: 5px 0;\n"]);return me=function(){return e},e}var he=Object(x.c)(u.b)(me()),ge=x.c.div(fe()),be=x.c.div(pe()),ve=x.c.img(de()),xe=x.c.div(le()),_e=x.c.div(se());var we=function(e){var t=e.flex,n=e.url,r=e.content,o=he;return n||(o=ge),a.a.createElement(o,{to:n},a.a.createElement(ve,{src:r.img,alt:r.name}),a.a.createElement(be,{flex:t},a.a.createElement(xe,null,r.title||"\uc5b4\uc74c\uccad\ucde8\ub825"),a.a.createElement(_e,null,r.explain||"\uc18c\ub9ac\ub97c \ub4e3\uace0 \uad6c\ubd84\ud574\uc694!")))};function ye(){var e=Object(v.a)(["\n    height: 65%;\n"]);return ye=function(){return e},e}function ke(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n"]);return ke=function(){return e},e}var Ee=x.c.div(ke()),Te=x.c.div(ye());var Se=function(e){var t=e.daily_custom;return e.daily_complete?a.a.createElement("div",null,"\uc624\ub298 \ud559\uc2b5\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."):t?a.a.createElement(Ee,null,a.a.createElement(Te,null,a.a.createElement(we,{content:t}))):a.a.createElement("div",null,"loading...")},Oe="#FDF5DB",je="#AC9BC9",Ce="#F6DB57",Ae="#62AAF5",Be="#F59F6E",Ie="#97C3EB",Pe="#F7BC93",Re="#F8E384",De="apple",Le={swp:{title:"\uccad\uac01\ucc98\ub9ac\uc18d\ub3c4",explain:"500Hz, 1000Hz, 2000Hz \uc758 \uc8fc\ud30c\uc218\uc640 80ms\ubd80\ud130 30ms \uae4c\uc9c0 \uc2dc\uac04\uc758 \uc9e7\uc740 \uae30\uacc4\uc74c\uc744 \ub4e4\ub824\uc90d\ub2c8\ub2e4.\uc774 \uae30\uacc4\uc74c\uc740 \uc62c\ub77c\uac00\ub294 \uc74c\uacfc \ub0b4\ub824\uac00\ub294 \uc74c\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc8fc\ud30c\uc218\uac00 \ub192\uc744 \uc218\ub85d \uc2dc\uac04\uc774 \uc9e7\uc744 \uc218\ub85d \ub808\ubca8\uc774 \uc62c\ub77c\uac00\uba70, \uc5b4\ub290 \uc218\uc900\uae4c\uc9c0 \ub4e3\uace0 \uc62c\ub77c\uac00\ub294 \uc18c\ub9ac\uc778\uc9c0, \ub0b4\ub824\uac00\ub294 \uc18c\ub9ac\uc778\uc9c0 \ud310\ub2e8\ud560 \uc218 \uc788\ub294\uc9c0 \ud655\uc778\ud558\ub294 \uac80\uc0ac\uc785\ub2c8\ub2e4."},recognition:{title:"\uc74c\uc6b4\uccad\ucde8\ub825",explain:"\ud55c \uc74c\uc808\uc758 \ub2e8\uc5b4\ub97c \ub450 \uac1c \ub4e4\ub824\uc90d\ub2c8\ub2e4. \uadf8 \uc911 \ub610\ubc15\uc774\uac00 \ub9d0\ud558\ub294 \uc74c\uc808\uacfc \uac19\uc740 \uc74c\uc808\uc744 \uc18c\ub9ac\ub9cc \ub4e3\uace0 \ud310\ub2e8\ud560 \uc218 \uc788\ub294\uc9c0 \ud655\uc778\ud558\ub294 \uac80\uc0ac\uc785\ub2c8\ub2e4. "},attention:{title:"\uc120\ud0dd\uc801\uc9d1\uc911\ub825",explain:"\uc5ec\ub7ec \uc0ac\ub78c\uc758 \ubaa9\uc18c\ub9ac\uac00 \ub4e4\ub9ac\ub294 \uc0c1\ud669\uc5d0\uc11c, \uac00\uc7a5 \ud06c\uace0 \uba85\ud655\ud558\uac8c \ub4e4\ub9ac\ub294 \uc18c\ub9ac\ub97c \uc798 \uc778\uc9c0\ud560 \uc218 \uc788\ub294\uc9c0 \ud655\uc778\ud558\ub294 \uac80\uc0ac\uc785\ub2c8\ub2e4. \ubaa9\uc18c\ub9ac\ub97c \ub4e3\uace0 \ub530\ub77c \ub9d0\ud558\uba74 \ubc1c\uc74c \uc815\ud655\ub3c4\uc640 \uc18d\ub3c4 \ub4f1\uc744 \uccb4\ud06c\ud569\ub2c8\ub2e4. "}},He={level1:{text:"\ubbf8\ud761",color:"#D17869"},level2:{text:"\ubcf4\ud1b5",color:"#F5CF66"},level3:{text:"\uc6b0\uc218",color:"#8BAB8D"}};function Ue(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-family: 'paybooc-Medium';\n    padding: 10px 30px;\n"]);return Ue=function(){return e},e}function Ne(){var e=Object(v.a)(["\n    align-self: flex-end;\n    border-radius: 26px;\n    border: 0px solid;\n    margin-top: 10px;\n    padding: 0 10px;\n    background-color:#AC9BC9;\n    color: #ffffff;\n"]);return Ne=function(){return e},e}function qe(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    flex: 1;\n    width: 100%;\n    height: auto;\n"]);return qe=function(){return e},e}function ze(){var e=Object(v.a)(["\n    width: 100%;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1.5rem;\n    line-height: 2rem;\n"]);return ze=function(){return e},e}function Fe(){var e=Object(v.a)(["\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    width: 60%;\n    height: 60%;\n    border-radius: 40px 90px / 80px 40px;\n    background-color: white;\n    border: 3px solid ",";\n    padding: 7%;\n"]);return Fe=function(){return e},e}function Me(){var e=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    touch-action: none;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 4;\n"]);return Me=function(){return e},e}var Ge=x.c.div(Me()),We=x.c.div(Fe(),je),Ye=x.c.div(ze()),Qe=x.c.div(qe()),Ve=x.c.button(Ne()),Je=x.c.div(Ue()),Xe=function(e){var t=e.text,n=e.isConfirm,r=e.onSubmit,o=e.onCancel,i=n?a.a.createElement(Ve,{onClick:o},a.a.createElement(Je,null,"\ucde8\uc18c")):null;return a.a.createElement(Ge,null,a.a.createElement(We,null,a.a.createElement(Ye,null,t),a.a.createElement(Qe,null,a.a.createElement(Ve,{onClick:r},a.a.createElement(Je,null,"\ud655\uc778")),i)))};function Ke(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(v.a)(["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    justify-content: space-between;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    width: 100vw;\n    height: 100vh;\n    padding: 3% 4.5% 4% 4.5%;\n"]);return $e=function(){return e},e}var et=x.c.div($e()),tt=x.c.div(Ze()),nt=x.c.div(Ke()),rt=function(e){var t=e.data,n=e.student,o=e.isImageLoaded,i=e.daily_custom,u=e.daily_link,c=e.daily_complete,s=e.isDiagOkay,l=e.isFirstDiagnose,d=Object(b.a)(e,["data","student","isImageLoaded","daily_custom","daily_link","daily_complete","isDiagOkay","isFirstDiagnose"]),p=Object(r.useState)(0),f=Object(g.a)(p,2);f[0],f[1];return a.a.createElement(a.a.Fragment,null,d.showPopUp?a.a.createElement(Xe,{text:"\ub9c8\uc9c0\ub9c9 \uac80\uc0ac\ub85c\ubd80\ud130 \uc77c\uc8fc\uc77c \ud6c4\uc5d0 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",onSubmit:d.onOkButtonHandle}):null,a.a.createElement(et,null,a.a.createElement(Z,{student:n,isDiagOkay:s}),a.a.createElement(tt,null,a.a.createElement(ce,{isFirstDiagnose:l,text:"\ub9de\ucda4 \ud559\uc2b5",width:"56vw",headercolor:Ce,color:Re,linkto:u,data:t,Contents:l?a.a.createElement("div",null,"\uccab \ubc88\uc9f8 \uac80\uc0ac\ub97c \uc9c4\ud589\ud574\uc8fc\uc138\uc694."):a.a.createElement(Se,{daily_custom:i,daily_complete:c})}),a.a.createElement(nt,null,a.a.createElement(ce,{text:"\ubcf5\uc2b5\ud558\uae30",Contents:a.a.createElement("div",null,"(\uc900\ube44 \uc911)"),headercolor:Ae,color:Ie,width:"31w",height:"34vh",linkto:"/main/select",isImageLoaded:o,touchNone:!0}),a.a.createElement(ce,{text:"\ud559\uc2b5 \uc120\ud0dd\ud558\uae30",Contents:a.a.createElement("div",null,"\ud559\uc2b5\uc744 \uc120\ud0dd\ud574\uc694!"),headercolor:Be,color:Pe,width:"31vw",height:"34vh",linkto:"/main/select",isImageLoaded:o})))))},at=n(224),ot="https://ttobak.s3.ap-northeast-2.amazonaws.com/",it=n.n(at).a.create({baseURL:"http://ec2-13-209-66-81.ap-northeast-2.compute.amazonaws.com:8000/api/"}),ut="diagnose/ask",ct="diagnose/answer",st="diagnose/okay",lt="diagnose/did",dt="cure/ask",pt="cure/answer",ft="cure/save",mt="diagnose/result",ht="statistic/get",gt="swp",bt="ph",vt="foc",xt="consomatch",_t=function(e){return it.post(ut,{s_id:e,idx_txt:gt})},wt=function(e,t,n,r){return it.post(ct,{s_id:e,ques_id:t,ori_answer1:n[0],ori_answer2:n[1],stu_answer1:r[0],stu_answer2:r[1],is_review:"F",idx_txt:gt})},yt=function(e){return it.post(ut,{s_id:e,idx_txt:bt})},kt=function(e,t,n,r){return it.post(ct,{s_id:e,ques_id:r[0],ques_id2:r[1],ori_answer:t,stu_answer:n,is_review:"F",idx_txt:bt})},Et=function(e){return it.post(ut,{s_id:e,idx_txt:vt})},Tt=function(e,t,n,r,a,o){return it.post(ct,{s_id:e,idx_txt:vt,ques_id:t,full_score:n,phone_score:r,speed_score:a,rhythm_score:o,is_review:"F"})},St=function(e,t){return it.post(ct,{s_id:e,idx_txt:t,tutorial:"true"})},Ot=function(e){return it.post(dt,{s_id:e})},jt=function(e){return it.post(ft,{s_id:e})},Ct=function(e){return it.post(st,{s_id:e})},At=function(e){return it.post(lt,{s_id:e})},Bt=function(e,t,n){return it.post(pt,{s_id:e,idx_txt:t,tutorial:"true",ques_id:n})},It=function(e,t){return it.post(dt,{s_id:e,idx_txt:t})},Pt=function(e,t,n,r,a,o,i,u,c,s){return it.post(pt,{s_id:e,idx_txt:u,full_score:t,phone_score:n,speed_score:r,rhythm_score:a,is_review:o,cure_id:i,is_daily:c,is_first:s})},Rt=function(e,t){return it.post(dt,{s_id:e,idx_txt:t})},Dt=function(e,t,n,r,a,o,i,u){return it.post(pt,{s_id:e,cure_id:r,idx_txt:o,is_review:a||"F",ori_answer:t,stu_answer:n,is_daily:i,is_first:u})},Lt=function(e){return it.post(dt,{s_id:e,idx_txt:xt})},Ht=function(e,t,n,r,a,o,i){return it.post(pt,{s_id:e,idx_txt:xt,cure_id:t[0],cure_id2:t[1],cure_id3:t[2],stu_answer:n,ori_answer:r,is_review:a,is_daily:o,is_first:i})},Ut=function(e){return it.post(mt,{s_id:e})},Nt=function(e,t,n){return it.post(ht,{s_id:e,cure_or_test:t?"cure":"test",period:n})},qt=[{name:"poem",img:D[0],url:"/therapy/poem",title:"\uc758\ubbf8 | \ub530\ub77c \uc77d\uae30",explain:"\ub3d9\uc694\uc640 \ub3d9\uc2dc\ub97c \ub530\ub77c \uc77d\uc5b4\uc694"},{name:"vowelword",img:D[1],url:"/therapy/word/vowelword",title:"\ubaa8\uc74c | \ub2e8\uc5b4",explain:"\ubaa8\uc74c \ub2e8\uc5b4\ub97c \ub4e3\uace0 \ubb34\uc5c7\uc778\uc9c0 \ub9de\ud600 \ubd10\uc694"},{name:"vowelsound",img:D[2],url:"/therapy/sound/vowel",title:"\ubaa8\uc74c | \uc18c\ub9ac \uad6c\ubd84",explain:"\ub2e8\uc5b4\ub97c \ub4e3\uace0 \ubaa8\uc74c\uc744 \uad6c\ubd84\ud574 \ubd10\uc694"},{name:"consomatch",img:D[3],url:"/therapy/consomatch",title:"\uc790\uc74c | \uadf8\ub9bc-\uc18c\ub9ac \ub9e4\uce6d",explain:"\uadf8\ub9bc\uc5d0 \ub9de\ub294 \ub2e8\uc5b4\uc778\uc9c0 \ub9de\ud600 \ubd10\uc694"},{name:"consocommon",img:D[4],url:"/therapy/consocommon",title:"\uc790\uc74c | \uc74c\uc6b4 \ud3ec\ud568 \uc5ec\ubd80",explain:"\ub2e8\uc5b4\ub97c \ub4e3\uace0 \uc5b4\ub5a4 \uc790\uc74c\uc774 \ub4e4\uc5b4\uac00\ub294\uc9c0 \ub9de\ud600 \ubd10\uc694"},{name:"consoword",img:D[5],url:"/therapy/word/consoword",title:"\uc790\uc74c | \ub2e8\uc5b4 \ubc1c\uc74c\ud558\uae30",explain:"\ub2e8\uc5b4\ub97c \ubc1c\uc74c\ud574  \ubd10\uc694"},{name:"consosound",img:D[6],url:"/therapy/sound/conso",title:"\uc790\uc74c | \uc18c\ub9ac \uad6c\ubd84",explain:"\ub2e8\uc5b4\ub97c \ub4e3\uace0 \uc790\uc74c\uc744 \uad6c\ubd84\ud574 \ubd10\uc694"},{name:"count",img:D[7],url:"/therapy/count",title:"\uc74c\uc6b4 | \uc74c\uc808 \uc218 \uacc4\uc0b0",explain:"\ub2e8\uc5b4\ub97c \ub4e3\uace0 \uba87 \uae00\uc790\uc778\uc9c0 \ub9de\ud600 \ubd10\uc694"},{name:"common",img:D[8],url:"/therapy/common",title:"\uc74c\uc6b4 | \uacf5\ud1b5\uc18c\ub9ac \ucc3e\uae30",explain:"\ub2e8\uc5b4\ub97c \ub4e3\uace0 \uac19\uc740 \uc790\uc74c\uc744 \ucc3e\uc544 \ubd10\uc694"}],zt=n(19),Ft=function(e){return{type:"USER_GET",promise:{method:"post",url:"user/get",data:{u_id:e}}}},Mt=function(e){return window.localStorage.removeItem("u_id"),{type:"USER_LOGOUT",data:{}}},Gt=function(e,t){return{type:"STUDENT_GET",promise:{method:"post",url:"student/get",data:{s_id:e,u_id:t}}}},Wt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).goBack=function(){r.props.history.goBack()},r.request=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.user,e.prev=1,console.log(t.student.s_id),e.next=5,Ot(t.student.s_id);case 5:return n=e.sent,a=n.data,e.next=9,jt(t.student.s_id);case 9:o=e.sent,console.log("data",a),console.log("save",o.data.current),1!==a.code&&"tutorial"!==a.code||(qt.filter((function(e){return e.name===o.data.current}))[0],r.setState({data:a,daily_custom:qt[0],daily_link:qt[0].url})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),r.imagesPreloading=function(e){for(var t=0;t<qt.length;t++){(new Image).src=qt[t].img}for(var n in e)for(var a in e[n])if("object"===typeof e[n][a]){var o=e[n][a];for(var i in o){(new Image).src=o[i],++r.numOfLoadedImage}}else{(new Image).src=e[n][a],++r.numOfLoadedImage}},r.isDiagOkay=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.user,e.next=3,Ct(t.student.s_id);case 3:n=e.sent,a=n.data,console.log(a),a.is_okay?r.props.history.push("/diagnose/sweep"):r.setState({showPopUp:!0});case 7:case"end":return e.stop()}}),e)}))),r.onOkButtonHandle=function(){r.setState({showPopUp:!1})},r.developMode=function(){r.setState({develop:!0,isFirstDiagnose:!1})},r.state={data:null,isImageLoaded:!1,daily_custom:null,daily_link:null,daily_complete:!1,isFirstDiagnose:!1,showPopUp:!1,develop:!1},r.numOfLoadedImage=0,r.pictures={Images:L,MainRoot:E,Pause:T},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.user,n=this.props.dispatch,t.user.u_id&&t.student.s_id){e.next=5;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 5:return n(Ft(t.user.u_id)),n(Gt(t.student.s_id,t.user.u_id)),e.next=9,At(t.student.s_id);case 9:r=e.sent,r.data.is_first&&this.setState({isFirstDiagnose:!0}),this.request(),this.imagesPreloading(this.pictures);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,n=e.isImageLoaded,r=e.daily_custom,o=e.daily_link,i=e.daily_complete,u=e.isFirstDiagnose,c=e.showPopUp,s=this.props.user;return s.student.s_id&&s.student.name?a.a.createElement(rt,{goBack:this.goBack,student:s.student,data:t,isImageLoaded:n,daily_custom:r,daily_link:o,daily_complete:i,isDiagOkay:this.isDiagOkay,isFirstDiagnose:u,onOkButtonHandle:this.onOkButtonHandle,showPopUp:c,developMode:this.developMode}):(console.log("nnn",s),null)}}]),n}(a.a.Component);var Yt=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Wt));function Qt(){var e=Object(v.a)(["\n    position : absolute;\n    width:7%;\n    top: 10px;\n    left: 10px;\n"]);return Qt=function(){return e},e}var Vt=x.c.img(Qt());var Jt=function(e){var t=e.goBack;return a.a.createElement(Vt,{src:L.bt_back,alt:"\ub4a4\ub85c\uac00\uae30",onClick:t})};function Xt(){var e=Object(v.a)(["\n    width: 100%;\n    padding-top: 3px;\n    text-align: center;\n    font-size: 0.5em;\n    font-family: 'paybooc-Light';\n    color: #464646;\n    z-index: 1;\n"]);return Xt=function(){return e},e}function Kt(){var e=Object(v.a)(["\n    width: 100%;\n    text-align: center;\n    font-size: 2em;\n    font-family: 'paybooc-Bold';\n    color: #464646;\n    z-index: 1;\n"]);return Kt=function(){return e},e}function Zt(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 20px;\n    position: sticky;\n"]);return Zt=function(){return e},e}var $t=x.c.div(Zt()),en=x.c.div(Kt()),tn=x.c.div(Xt());var nn=function(e){var t=e.title,n=e.subTitle,r=e.goBack;return a.a.createElement("div",null,a.a.createElement($t,null,a.a.createElement(en,null,t),!!n||a.a.createElement(tn,null,n)),!r||a.a.createElement(Jt,{goBack:r}))};function rn(){var e=Object(v.a)(["\n    height: 2px;\n    width: 100%;\n    background-color: #DFD7C4;\n"]);return rn=function(){return e},e}function an(){var e=Object(v.a)(["\n    height: 100px;\n"]);return an=function(){return e},e}function on(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    padding: 7%;\n    padding-top: 0%;\n"]);return on=function(){return e},e}var un=x.c.div(on()),cn=x.c.div(an()),sn=x.c.div(rn()),ln=function(e){var t=e.ContentsList,n=e.goBack;return document.body.style.overflow="visible",a.a.createElement(un,null,a.a.createElement(nn,{title:"\uc120\ud0dd\ud558\uae30",goBack:n}),t.map((function(e,t){return a.a.createElement("div",{key:t},a.a.createElement(cn,null,a.a.createElement(we,{flex:5,content:e,url:e.url+"/selected"})),a.a.createElement(sn,null))})))},dn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.location;return Object(p.a)(this,n),(r=t.call(this)).goBack=function(){r.props.history.goBack()},r.state={},console.log(a),r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;this.props.history;e.user.u_id&&e.student.s_id||this.props.history.push("/root/signin")}},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user.student.s_id;return a.a.createElement(ln,{ContentsList:qt,goBack:this.goBack,s_id:e})}}]),n}(a.a.Component);var pn=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(dn)),fn=n(404);function mn(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    font-size: 2rem;\n"]);return mn=function(){return e},e}function hn(){var e=Object(v.a)(["\n    width: 500px;\n    font-size: 1rem;\n"]);return hn=function(){return e},e}function gn(){var e=Object(v.a)(["\n    display: flex;\n    justify-content:center;\n    align-items:center;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: cover;\n    width: 100vw;\n    height: 100vh;\n"]);return gn=function(){return e},e}var bn=x.c.div(gn(),E.root_background),vn=x.c.div(hn()),xn=x.c.div(mn()),_n=function(e){var t=e.percent;return a.a.createElement(bn,null,t?a.a.createElement(vn,null,a.a.createElement(fn.a,{percent:t,success:100===t,indicating:!0},100===t?"\ub85c\ub529 \uc644\ub8cc":"\ub85c\ub529 \uc911...")):a.a.createElement(xn,null,"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694"))};function wn(){var e=Object(v.a)(["\n    position : absolute;\n    width:7%;\n    top: 10px;\n    left: 10px;\n"]);return wn=function(){return e},e}var yn=x.c.img(wn());var kn=function(e){var t=e.onPauseButtonHandle;return a.a.createElement(yn,{src:L.bt_pause,alt:"\uc77c\uc2dc\uc815\uc9c0",onTouchEnd:t})};function En(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.3rem;\n    text-align: center;\n    font-weight: bold;\n"]);return En=function(){return e},e}function Tn(){var e=Object(v.a)(["\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 8px 10px;\n    top: 3vh;\n    right: 3vh;\n    background-color: ",";\n    border-radius: 100px;\n    border: 1px solid grey;\n"]);return Tn=function(){return e},e}var Sn=x.c.div(Tn(),Oe),On=x.c.div(En()),jn=function(e){var t=e.currentIndex,n=e.totalNum;return a.a.createElement(Sn,null,a.a.createElement(On,null,t||0,"/",n||0))};function Cn(){var e=Object(v.a)(["\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: cover;\n    width: 100vw;\n    height: 100vh;\n    font-family:'NanumBarunGothic';\n    font-weight: 400;\n"]);return Cn=function(){return e},e}var An=x.c.div(Cn(),(function(e){return e.src})),Bn=function(e){var t=e.BackgroundImg,n=e.Children,r=e.onPauseButtonHandle,o=e.currentIndex,i=e.totalNum;return a.a.createElement(An,{src:t},n,a.a.createElement(kn,{onPauseButtonHandle:r}),a.a.createElement(jn,{currentIndex:o,totalNum:i}))};function In(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n"]);return In=function(){return e},e}function Pn(){var e=Object(v.a)(["\n    width: ",";\n    height: ",";\n"]);return Pn=function(){return e},e}function Rn(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: ",";\n"]);return Rn=function(){return e},e}function Dn(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    flex: 1;\n    width: 100%;\n    height: auto;\n"]);return Dn=function(){return e},e}function Ln(){var e=Object(v.a)(["\n    width: 100%;\n    margin: 6% 0 0 0;\n    text-align: center;\n    font-weight: bold;\n    font-size: 2rem;\n"]);return Ln=function(){return e},e}function Hn(){var e=Object(v.a)(["\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    width: 60%;\n    height: 60%;\n    border-radius: 40px 90px / 80px 40px;\n    background-color: white;\n    border: 3px solid ",";\n"]);return Hn=function(){return e},e}function Un(){var e=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    touch-action: none;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 4;\n"]);return Un=function(){return e},e}var Nn=x.c.div(Un()),qn=x.c.div(Hn(),je),zn=x.c.div(Ln()),Fn=x.c.div(Dn()),Mn=x.c.div(Rn(),"80px"),Gn=x.c.img(Pn(),"80px","80px"),Wn=x.c.div(In()),Yn=function(e){var t=e.onPopupButtonHandle,n=e.buttonText;return a.a.createElement(Nn,null,a.a.createElement(qn,null,a.a.createElement(zn,null,"\uc798 \ud588\uc5b4\uc694!"),a.a.createElement(Fn,null,a.a.createElement(Mn,{onTouchEnd:t},a.a.createElement(Gn,{src:T.bt_continue}),a.a.createElement(Wn,null,n||"\ub2e4\uc74c")))))};function Qn(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n"]);return Qn=function(){return e},e}function Vn(){var e=Object(v.a)(["\n    width: ",";\n    height: ",";\n"]);return Vn=function(){return e},e}function Jn(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: ",";\n"]);return Jn=function(){return e},e}function Xn(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n"]);return Xn=function(){return e},e}function Kn(){var e=Object(v.a)(["\n            font-weight: bold;\n            font-size: 2rem;\n        "]);return Kn=function(){return e},e}function Zn(){var e=Object(v.a)(["\n            font-size: ",";\n        "]);return Zn=function(){return e},e}function $n(){var e=Object(v.a)(["\n    width: 100%;\n    margin: 6% 0 0 0;\n    text-align: center;\n    ","\n"]);return $n=function(){return e},e}function er(){var e=Object(v.a)(["\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    width: 60%;\n    height: 60%;\n    border-radius: 40px 90px / 80px 40px;\n    background-color: white;\n    border: 3px solid ",";\n"]);return er=function(){return e},e}function tr(){var e=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    touch-action: none;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 4;\n"]);return tr=function(){return e},e}var nr=x.c.div(tr()),rr=x.c.div(er(),je),ar=x.c.div($n(),(function(e){return e.size?Object(x.b)(Zn(),e.size):Object(x.b)(Kn())})),or=x.c.div(Xn()),ir=x.c.div(Jn(),"80px"),ur=x.c.img(Vn(),"80px","80px"),cr=x.c.div(Qn()),sr=function(e){var t=e.onContinueButtonHandle,n=e.text,r=e.size;return a.a.createElement(nr,null,a.a.createElement(rr,null,n?a.a.createElement(ar,{size:r},n):null,a.a.createElement(or,null,a.a.createElement(ir,{onTouchEnd:t},a.a.createElement(ur,{src:T.bt_continue}),a.a.createElement(cr,null,"\uc774\uc5b4 \ud558\uae30")),a.a.createElement(ir,null,a.a.createElement(u.b,{to:"/main/main"},a.a.createElement(ur,{src:T.bt_stop}),a.a.createElement(cr,null,"\uadf8\ub9cc \ud558\uae30"))))))};function lr(){var e=Object(v.a)(["\n    from{\n        bottom:0px;\n    }\n    to{\n        top:10px;\n    }\n"]);return lr=function(){return e},e}function dr(){var e=Object(v.a)(["\n    position: relative;\n    width: 80%;\n    z-index: 1;\n    margin-left: 10%;\n"]);return dr=function(){return e},e}function pr(){var e=Object(v.a)(["\n                position: relative;\n                width: 100%;\n                top: 16%;\n                z-index: 2;\n            "]);return pr=function(){return e},e}function fr(){var e=Object(v.a)(["\n                position: relative;\n                width: 100%;\n                top: 16%;\n                z-index: 2;\n                animation: "," 0.5s 0.3s 2 alternate;\n                animation-timing-function:ease;\n            "]);return fr=function(){return e},e}function mr(){var e=Object(v.a)(["\n    ","\n"]);return mr=function(){return e},e}function hr(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    width: 50%;\n"]);return hr=function(){return e},e}var gr=x.c.div(hr()),br=x.c.img(mr(),(function(e){return e.isAnimate?Object(x.b)(fr(),xr):Object(x.b)(pr())})),vr=x.c.img(dr()),xr=Object(x.d)(lr()),_r=function(e){var t=e.Box,n=e.Tree,r=e.Clicked,o=e.id,i=e.isAnimate;return a.a.createElement(gr,null,a.a.createElement(br,{src:t,alt:"box",onTouchEnd:function(){return r(o)},isAnimate:i}),a.a.createElement(vr,{src:n,alt:"tree2"}))};function wr(){var e=Object(v.a)(["\n    position: absolute;\n    display: flex;\n    bottom: 3%;\n    justify-content:space-around;\n    margin: 0 10%;\n"]);return wr=function(){return e},e}var yr=x.c.div(wr()),kr=function(e){var t=e.Box,n=e.Clicked,r=e.isAnimate;return a.a.createElement(yr,null,a.a.createElement(_r,{Tree:O.d2_Tree1,Box:t[0],Clicked:n,id:0,isAnimate:r[0]}),a.a.createElement(_r,{Tree:O.d2_Tree2,Box:t[1],Clicked:n,id:1,isAnimate:r[1]}))};function Er(){var e=Object(v.a)(["\n    position:absolute;\n    width: 16%;\n    top: 3%;\n    right: 43%;\n"]);return Er=function(){return e},e}var Tr=x.c.img(Er()),Sr=function(e){var t=e.props;return a.a.createElement("div",null,a.a.createElement(Tr,{src:t.TTobaki,alt:"\ub610\ubc15\uc774",onTouchEnd:t.TTobakiTouch}),a.a.createElement(kr,{Box:t.Box,Clicked:t.Clicked,isAnimate:t.isAnimate}),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle,text:"\uadf8\ub9cc \ud558\uae30\ub97c \ub204\ub974\uba74 \uac80\uc0ac \uc9c4\ud589 \uc0c1\ud669\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.",size:"1rem"}):null,t.showNextPopup?a.a.createElement(Yn,{onPopupButtonHandle:t.onPopupButtonHandle,buttonText:"\ub2e4\uc74c \uac80\uc0ac"}):null)},Or=function(e){var t=e.Background,n=Object(b.a)(e,["Background"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n.onPauseButtonHandle,currentIndex:n.currentIndex,totalNum:n.totalNum,Children:a.a.createElement(Sr,{props:n})})},jr={gameState:!1,Box:[O.d2_Box1_1,O.d2_Box2_1],TTobaki:w.ttobak3_1,oriAnswer:null,stdAnswer:null,answerIndex:0,isAnimate:[!1,!1],isImageLoaded:!1,showPopup:!1,showNextPopup:!1,currentIndex:1,totalNum:0},Cr=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).newRequest=Object(d.a)(l.a.mark((function t(){var n,r,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("new request"),n=e.props.user,r=n.student.s_id,t.prev=3,t.next=6,yt(r);case 6:a=t.sent,o=a.data,console.log(o),t.t0=o.code,t.next=1===t.t0?12:2===t.t0?20:3===t.t0?21:"tutorial"===t.t0?22:24;break;case 12:return e.answers=o.answers,e.phs=o.phs,e.currentIndex=0,e.currentDiag=[e.getListFilter("ques_id",e.answers[e.currentIndex][0]),e.getListFilter("ques_id",e.answers[e.currentIndex][1]),e.getListFilter("ques_id",e.answers[e.currentIndex][2])],e.setState({gameState:!1,Box:[O.d2_Box1_1,O.d2_Box2_1],stdAnswer:null,TTobaki:w.ttobak1_1,answerIndex:e.currentDiag[0].ques_id===e.currentDiag[2].ques_id?0:1,totalNum:e.answers.length}),e.setListener(),setTimeout((function(){return e.playSound()}),2e3),t.abrupt("break",25);case 20:case 21:return t.abrupt("break",25);case 22:return e.tutorial(o),t.abrupt("break",25);case 24:return t.abrupt("break",25);case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(3),console.log(t.t1);case 30:case"end":return t.stop()}}),t,null,[[3,27]])}))),e.tutorial=function(t){e.setState({gameState:"tutorial"}),e.sample_answer=new Audio(ot+t.sample_ques[0].ques_path1),e.sample_ques=[new Audio(ot+t.sample_ques[0].ques_path1),new Audio(ot+t.sample_ques[1].ques_path1)],e.voice=[new Audio(ot+t.voice[0].voc_path),new Audio(ot+t.voice[1].voc_path),new Audio(ot+t.voice[2].voc_path)],e.voice[0].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.sample_answer&&e.sample_answer.play()}),1e3)})),e.sample_answer.addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.voice[1]&&e.voice[1].play()}),1e3)})),e.voice[1].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.sample_ques[0]&&e.sample_ques[0].play(),e.setState({isAnimate:[!0,!1],TTobaki:w.ttobak3_2})}),1e3)})),e.sample_ques[0].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.sample_ques[1]&&e.sample_ques[1].play(),e.setState({isAnimate:[!1,!0],TTobaki:w.ttobak3_2})}),300)})),e.voice[2].addEventListener("ended",Object(d.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St(e.props.user.student.s_id,"ph");case 2:n=t.sent,r=n.data,console.log(r),e.setState({initState:jr}),e.newRequest(),e.sample_answer=null,e.sample_ques=null,e.voice=null;case 10:case"end":return t.stop()}}),t)})))),setTimeout((function(){e.voice[0]&&(e.voice[0].play(),e.setState({TTobaki:w.ttobak3_2}))}),2e3)},e.tutorialBoxHandle=function(){setTimeout((function(){e.voice[2]&&(e.voice[2].play(),e.setState({TTobaki:w.ttobak3_2}))}),1e3)},e.setListener=function(){if(e.phSound)for(var t=0;t<e.phSound.length;t++)e.phSound[t].remove();e.phSound=[new Audio(ot+e.currentDiag[0].ques_path1),new Audio(ot+e.currentDiag[1].ques_path1),new Audio(ot+e.currentDiag[2].ques_path1)],e.phSound[2].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.phSound[0]&&(e.phSound[0].play(),e.setState({isAnimate:[!0,!1],TTobaki:w.ttobak3_2}))}),800)})),e.phSound[0].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.phSound[1]&&(e.phSound[1].play(),e.setState({isAnimate:[!1,!0],TTobaki:w.ttobak3_2}))}),300)})),e.phSound[1].addEventListener("ended",(function(){e.setState({gameState:!0,TTobaki:w.ttobak1_1})}))},e.getListFilter=function(t,n){return e.phs.filter((function(e){return e[t]===n}))[0]},e.TTobakiTouch=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!0===e.state.gameState&&(e.playSound(),e.setState({gameState:!1,isAnimate:[!1,!1]}));case 1:case"end":return t.stop()}}),t)}))),e.onBoxTouchHandle=function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a,o,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state,a=r.Box,o=r.answerIndex,i=r.TTobaki,"tutorial"!==(u=r.gameState)){t.next=8;break}if(0!==n){t.next=7;break}e.setState({gameState:!1}),e.tutorialBoxHandle(),t.next=8;break;case 7:return t.abrupt("return");case 8:if(!1!==u){t.next=10;break}return t.abrupt("return");case 10:t.t0=n,t.next=0===t.t0?13:1===t.t0?15:17;break;case 13:return e.setState({gameState:!1,Box:[o===n?O.d2_Box1_3:O.d2_Box1_2,a[1]],TTobaki:[o===n?w.ttobak2_1:i]}),t.abrupt("break",18);case 15:return e.setState({gameState:!1,Box:[a[0],o===n?O.d2_Box2_3:O.d2_Box2_2],TTobaki:[o===n?w.ttobak2_1:i]}),t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:e.finished(n);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.animateBox=function(t){t?e.setState({isAnimate:[!0,!0]}):e.setState({isAnimate:[!0,!1]})},e.playSound=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({TTobaki:w.ttobak3_2}),e.phSound[2]&&e.phSound[2].play();case 2:case"end":return t.stop()}}),t)}))),e.diagDone=function(){console.log("diagnose done!"),e.setState({showNextPopup:!0})},e.finished=function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a,o,i,u,c,s,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({TTobaki:w.ttobak2_1}),r=e.props.user,a=r.student.s_id,o=[[e.currentDiag[0].ques_id,e.currentDiag[1].ques_id],e.currentDiag[0].ques_id===e.currentDiag[2].ques_id?e.currentDiag[0].ques_char:e.currentDiag[1].ques_char,e.currentDiag[n].ques_char],i=o[0],u=o[1],c=o[2],t.prev=4,t.next=7,kt(a,u,c,i);case 7:if(s=t.sent,d=s.data,console.log(d),1!==d.code){t.next=21;break}if(!(e.currentIndex<e.answers.length-1)){t.next=15;break}e.currentIndex++,t.next=17;break;case 15:return e.diagDone(),t.abrupt("return");case 17:e.currentDiag=[e.getListFilter("ques_id",e.answers[e.currentIndex][0]),e.getListFilter("ques_id",e.answers[e.currentIndex][1]),e.getListFilter("ques_id",e.answers[e.currentIndex][2])],e.setListener(),setTimeout((function(){e.setState({gameState:!1,Box:[O.d2_Box1_1,O.d2_Box2_1],stdAnswer:null,TTobaki:w.ttobak3_1,answerIndex:e.currentDiag[0].ques_id===e.currentDiag[2].ques_id?0:1,currentIndex:e.currentIndex+1})}),2e3),setTimeout((function(){e.playSound()}),3e3);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(4),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[4,23]])})));return function(e){return t.apply(this,arguments)}}(),e.imagesPreloading=function(t){for(var n in t)for(var r in t[n]){var a=new Image;a.src=t[n][r],a.onload=function(){e.setState({percent:++e.numOfLoadedImage/e.totalImages*100}),e.numOfLoadedImage===e.totalImages&&(e.setState({isImageLoaded:!0}),e.newRequest())}}},e.onPopupButtonHandle=function(){e.props.history.push("/diagnose/attention")},e.onContinueButtonHandle=function(){e.setState({showPopup:!1})},e.onPauseButtonHandle=function(){e.setState({showPopup:!0})},e.state=jr,e.phs=null,e.answers=null,e.phSound=null,e.answer=null,e.currentIndex=0,e.currentDiag=null,e.numOfLoadedImage=0,e.picture={D2:O,TTobak:w},e.totalImages=Object.keys(O).length+Object.keys(w).length,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount start");for(var e=[this.phSound,this.sample_ques,this.voice],t=0;t<e.length;t++)if(e[t])for(var n=0;n<e[t].length;n++)e[t][n]&&(e[t][n].pause(),e[t][n].remove(),e[t][n]=null);this.sample_answer&&(this.sample_answer.pause(),this.sample_answer.remove(),this.sample_answer=null),console.log("componentWillUnmount finished")}},{key:"render",value:function(){var e=this.state,t=e.Box,n=e.TTobaki,r=e.isAnimate,o=e.showPopup,i=e.showNextPopup,u=e.percent;return e.isImageLoaded?a.a.createElement(Or,{Background:O.d2_background,TTobaki:n,TTobakiTouch:this.TTobakiTouch,Box:t,Clicked:this.onBoxTouchHandle,isAnimate:r,showPopup:o,showNextPopup:i,onPopupButtonHandle:this.onPopupButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,currentIndex:this.state.currentIndex,totalNum:this.state.totalNum}):a.a.createElement(_n,{percent:u})}}]),n}(a.a.PureComponent);var Ar=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Cr));function Br(){var e=Object(v.a)(["\n    position:absolute;\n    width: 5%;\n    top: 40%;\n    left: 37%;\n    display: ",";\n"]);return Br=function(){return e},e}function Ir(){var e=Object(v.a)(["\n    position: absolute;\n    width: 9%;\n    top: 10px;\n    left: 10vw;\n"]);return Ir=function(){return e},e}function Pr(){var e=Object(v.a)(["\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    border-radius: 100%;\n    background-color: ",";\n    top: 15vh;\n    right: 20px;\n"]);return Pr=function(){return e},e}function Rr(){var e=Object(v.a)(["\n    position:absolute;\n    width: 25%;\n    bottom: 17%;\n"]);return Rr=function(){return e},e}function Dr(){var e=Object(v.a)(["\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: flex-end;\n"]);return Dr=function(){return e},e}var Lr=x.c.div(Dr()),Hr=x.c.img(Rr()),Ur=x.c.div(Pr(),(function(e){return e.RecordingCircle?"#fe4a2f":"#a8aaa9"})),Nr=x.c.img(Ir()),qr=x.c.img(Br(),(function(e){return e.isPlaying?"block":"none"})),zr=function(e){var t=e.props;return a.a.createElement(Lr,null,a.a.createElement(qr,{src:w.speech_bubble,alt:"bubble",isPlaying:t.isPlaying}),a.a.createElement(Nr,{src:j.bt_complete,alt:"complete",onTouchEnd:t.onCompleteButtonHandle}),a.a.createElement(Ur,{RecordingCircle:t.RecordingCircle}),a.a.createElement(Hr,{src:t.TTobak,alt:"\ub610\ubc15\uc774"}),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle,text:"\uadf8\ub9cc \ud558\uae30\ub97c \ub204\ub974\uba74 \uac80\uc0ac \uc9c4\ud589 \uc0c1\ud669\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.",size:"1rem"}):null,t.showNextPopup?a.a.createElement(Yn,{onPopupButtonHandle:t.onPopupButtonHandle,buttonText:"\uac80\uc0ac \uc644\ub8cc"}):null)},Fr=function(e){var t=e.Background,n=Object(b.a)(e,["Background"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n.onPauseButtonHandle,currentIndex:n.currentIndex,totalNum:n.totalNum,Children:a.a.createElement(zr,{props:n})})},Mr={gameState:!1,s_id:4,isImageLoaded:!1,percent:0,showPopup:!1,showNextPopup:!1,isRecording:!1,TTobaki:w.ttobak1_1,currentIndex:1,totalNum:0,isPlaying:!1,RecordingCircle:!1},Gr=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).androidResponse=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n.detail),e.audioResult=n.detail,e.andriodListener();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.stopRecording=function(t){console.log(t.detail),clearInterval(e.setRecording),e.recording_end_sound.play(),e.setState({isRecording:!1,RecordingCircle:!1})},e.newRequest=Object(d.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("new request!"),n=e.props.user,t.next=4,Et(n.student.s_id,n.student.s_id);case 4:r=t.sent,a=r.data,console.log(a),t.t0=a.code,t.next=1===t.t0?10:"tutorial"===t.t0?18:20;break;case 10:return e.cure=a.focus,e.currentIndex=0,e.currentCure=e.cure[e.currentIndex],e.currentAudio=null,e.currentAudio=new Audio(ot+e.currentCure.ques_path1),e.setState({totalNum:e.cure.length}),setTimeout((function(){return e.playSound()}),2e3),t.abrupt("break",21);case 18:return e.tutorial(a),t.abrupt("break",21);case 20:return t.abrupt("break",21);case 21:case"end":return t.stop()}}),t)}))),e.tutorial=function(t){e.setState({gameState:"tutorial"}),e.ques_char=t.sample_ques.ques_char,e.sample_ques=new Audio(ot+t.sample_ques.ques_path1),e.voice=[];for(var n=0;n<t.voice.length;n++)e.voice.push(new Audio(ot+t.voice[n].voc_path));e.voice[0].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak3_2}),setTimeout((function(){e.sample_ques&&(e.sample_ques.play(),e.setState({TTobaki:w.ttobak3_2,isPlaying:!0}))}),1e3)})),e.sample_ques.addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1,isPlaying:!1}),setTimeout((function(){e.voice[1]&&e.voice[1].play(),e.setState({TTobaki:w.ttobak3_2})}),1e3)})),e.voice[1].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1,isPlaying:!1}),setTimeout((function(){e.recording_start_sound.play(),e.setState({isRecording:!0}),e.setRecording=setInterval((function(){e.setState({RecordingCircle:!e.state.RecordingCircle})}),500),window.BRIDGE.recordAudio(e.props.user.student.gender,e.ques_char)}),800)})),e.voice[2].addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){e.sample_ques&&e.sample_ques.play()}),1e3)})),e.voice[3].addEventListener("ended",Object(d.a)(l.a.mark((function t(){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St(e.props.user.student.s_id,"foc");case 2:n=t.sent,r=n.data,console.log(r),e.setState({gameState:!1}),e.newRequest(),e.sample_ques=null,e.voice=null;case 9:case"end":return t.stop()}}),t)})))),setTimeout((function(){e.voice[0]&&e.voice[0].play()}),1e3)},e.andriodListener=Object(d.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({TTobaki:w.ttobak2_1}),t.prev=1,"Success"!==e.audioResult.status){t.next=39;break}if(n=e.props.user,"tutorial"!==e.state.gameState){t.next=8;break}return e.setState({TTobaki:w.ttobak3_2}),e.audioResult.score<85?e.voice[2]&&e.voice[2].play():e.voice[3]&&e.voice[3].play(),t.abrupt("return");case 8:return t.next=10,Tt(n.student.s_id,e.currentCure.ques_id,e.audioResult.score,e.audioResult.phone_score,e.audioResult.speed_score,e.audioResult.rhythm_score);case 10:if(r=t.sent,a=r.data,console.log(a),1!==a.code){t.next=36;break}if(!a.is_stop&&"\ubaa8\ub4e0 \ubb38\uc81c\ub97c \ud559\uc2b5\ud588\uc2b5\ub2c8\ub2e4"!==a.to_next_level){t.next=18;break}e.gameDone(),t.next=34;break;case 18:if(!a.to_next_level){t.next=22;break}e.newRequest(),t.next=34;break;case 22:if(!(e.currentIndex<e.cure.length-1)){t.next=26;break}e.currentIndex++,t.next=28;break;case 26:return e.gameDone(),t.abrupt("return");case 28:e.currentCure=e.cure[e.currentIndex],e.currentAudio.remove(),e.currentAudio=null,e.currentAudio=new Audio(ot+e.currentCure.ques_path1),setTimeout((function(){e.setState({TTobaki:w.ttobak1_1,currentIndex:e.currentIndex+1})}),3e3),setTimeout((function(){e.playSound()}),5500);case 34:t.next=37;break;case 36:console.log(a.message);case 37:t.next=40;break;case 39:console.log(e.audioResult.message);case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(1),console.log(t.t0);case 45:case"end":return t.stop()}}),t,null,[[1,42]])}))),e.playSound=function(){e.currentAudio&&(e.currentAudio.addEventListener("ended",(function(){e.setState({TTobaki:w.ttobak1_1,isPlaying:!1}),setTimeout((function(){e.recording_start_sound.play(),e.setState({isRecording:!0}),e.setRecording=setInterval((function(){e.setState({RecordingCircle:!e.state.RecordingCircle})}),500),window.BRIDGE.recordAudio(e.props.user.student.gender,e.currentCure.ques_char)}),800)})),e.currentAudio.play(),e.setState({TTobaki:w.ttobak3_2,isPlaying:!0}))},e.imagesPreloading=function(t){for(var n in t)for(var r in t[n]){var a=new Image;a.src=t[n][r],a.onload=function(){e.setState({percent:++e.numOfLoadedImage/e.totalImages*100}),e.numOfLoadedImage===e.totalImages&&(e.setState({isImageLoaded:!0}),e.newRequest())}}},e.gameDone=function(){console.log("game doen!"),e.setState({showNextPopup:!0})},e.onPopupButtonHandle=function(){e.props.history.push("/diagnose/result")},e.onContinueButtonHandle=function(){e.setState({showPopup:!1})},e.onPauseButtonHandle=function(){e.setState({showPopup:!0})},e.onCompleteButtonHandle=function(){e.state.isRecording&&window.BRIDGE.requestStopRecording()},e.recording_start_sound=new Audio(k.recording_start),e.recording_end_sound=new Audio(k.recording_end),e.numOfLoadedImage=0,e.picture={D3:j,TTobak:w},e.totalImages=Object.keys(j).length+Object.keys(w).length,e.cure=null,e.currentCure=null,e.currentIndex=0,e.currentAudio=null,e.audioResult=null,e.state=Mr,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture),window.addEventListener("android",this.androidResponse),window.addEventListener("androidStopRecording",this.stopRecording);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.remove(),this.currentAudio=null),this.sample_ques&&(this.sample_ques.pause(),this.sample_ques=null),this.voice){for(var e=0;e<this.voice.length;e++)this.voice[e]&&(this.voice.pause(),this.voice=null);window.removeEventListener("android",this.androidResponse),window.removeEventListener("androidStopRecording",this.stopRecording)}}},{key:"render",value:function(){var e=this.state,t=e.isImageLoaded,n=e.showPopup,r=e.showNextPopup,o=e.percent,i=e.TTobaki,u=e.RecordingCircle,c=e.isPlaying;return t?a.a.createElement(Fr,{Background:j.d3_background,TTobak:i,RecordingCircle:u,isPlaying:c,showPopup:n,showNextPopup:r,onPopupButtonHandle:this.onPopupButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,onCompleteButtonHandle:this.onCompleteButtonHandle,currentIndex:this.state.currentIndex,totalNum:this.state.totalNum}):a.a.createElement(_n,{percent:o})}}]),n}(a.a.Component);var Wr=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Gr));function Yr(){var e=Object(v.a)(["\n    height:100%;\n"]);return Yr=function(){return e},e}function Qr(){var e=Object(v.a)(["\n    width: 54vh;\n    height: 24vh;\n    display: flex;\n    justify-content: space-between;\n    margin-top: 16vh;\n"]);return Qr=function(){return e},e}function Vr(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    height: 65%;\n    width: 100%;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n"]);return Vr=function(){return e},e}var Jr=x.c.div(Vr(),(function(e){return e.src})),Xr=x.c.div(Qr()),Kr=x.c.img(Yr()),Zr=function(e){var t=e.Answer1,n=e.Answer2,r=e.AnswerBox;return a.a.createElement(Jr,{src:r},a.a.createElement(Xr,null,a.a.createElement(Kr,{src:t}),a.a.createElement(Kr,{src:n})))};function $r(){var e=Object(v.a)(["\n    position:absolute;\n    width: 20%;\n    top: 18%;\n    left: 4%;\n"]);return $r=function(){return e},e}function ea(){var e=Object(v.a)(["\n    display: flex;\n    justify-content:center;\n    height: 35%;\n"]);return ea=function(){return e},e}function ta(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 90%;\n    width: 68%;\n"]);return ta=function(){return e},e}function na(){var e=Object(v.a)(["\n    height: 100%;\n    width: auto;\n    margin-left: 15px;\n"]);return na=function(){return e},e}function ra(){var e=Object(v.a)(["\n    height: 100%;\n    width: auto;\n    margin-right: 15px;\n"]);return ra=function(){return e},e}function aa(){var e=Object(v.a)(["\n    width: 20%;\n    top: 60%;\n"]);return aa=function(){return e},e}function oa(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n    height: 100vh;\n"]);return oa=function(){return e},e}var ia=x.c.div(oa()),ua=x.c.img(aa()),ca=Object(x.c)(ua)(ra()),sa=Object(x.c)(ua)(na()),la=x.c.div(ta()),da=x.c.div(ea()),pa=x.c.img($r()),fa=function(e){var t=e.props;return a.a.createElement(ia,null,a.a.createElement(pa,{src:t.TTobak,alt:"\ub610\ubc15\uc774",onTouchEnd:t.TTobakiTouch}),a.a.createElement(la,null,a.a.createElement(Zr,{Answer1:t.Answer[0],Answer2:t.Answer[1],AnswerBox:t.AnswerBox}),a.a.createElement(da,null,a.a.createElement(ca,{src:t.UpButton,alt:"up",onTouchStart:function(){return t.onTouchStart(t.UP)},onTouchEnd:function(){return t.onTouchEnd(t.UP)}}),a.a.createElement(sa,{src:t.DownButton,alt:"down",onTouchStart:function(){return t.onTouchStart(t.DOWN)},onTouchEnd:function(){return t.onTouchEnd(t.DOWN)}}))),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle,text:"\uadf8\ub9cc \ud558\uae30\ub97c \ub204\ub974\uba74 \uac80\uc0ac \uc9c4\ud589 \uc0c1\ud669\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.",size:"1rem"}):null,t.showNextPopup?a.a.createElement(Yn,{onPopupButtonHandle:t.onPopupButtonHandle,buttonText:"\ub2e4\uc74c \uac80\uc0ac"}):null)},ma=function(e){var t=e.Background,n=Object(b.a)(e,["Background"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n.onPauseButtonHandle,currentIndex:n.currentIndex,totalNum:n.totalNum,Children:a.a.createElement(fa,{props:n})})},ha="up",ga={gameState:!1,UpButton:S.d1_UpButton_UP,DownButton:S.d1_DownButton_UP,stdAnswer:[],Answer:[],TTobaki:w.ttobak1_1,swpSound:null,isImageLoaded:!1,percent:0,showPopup:!1,showNextPopup:!1,currentIndex:1,totalNum:0,tutorialState:!1},ba=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o,i,u,c,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.prev=3,e.next=6,_t(n);case 6:a=e.sent,o=a.data,console.log(o),e.t0=o.code,e.next=1===e.t0?12:2===e.t0?22:3===e.t0?23:"tutorial"===e.t0?24:26;break;case 12:return i=o.answers,u=o.swp,c=u.ques_id,s=u.ques_path1,d=u.ques_path2,r.currentIndex=0,r.ques_id=c,r.ques_path=[d,s],r.oriAnswer=i,r.buttonSound=[new Audio(ot+r.ques_path[0]),new Audio(ot+r.ques_path[1])],r.setState({totalNum:r.oriAnswer.length}),r.setListener(),setTimeout((function(){return r.playSound()}),3e3),e.abrupt("break",28);case 22:case 23:return e.abrupt("break",28);case 24:return r.tutorial(o),e.abrupt("break",28);case 26:return console.log("data message: "+o.message),e.abrupt("break",28);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(3),console.log("error: "+e.t1);case 33:case"end":return e.stop()}}),e,null,[[3,30]])}))),r.tutorial=function(e){r.voice=[],r.voice_desc=[],r.swp=[new Audio(ot+e.sample_ques.ques_path2),new Audio(ot+e.sample_ques.ques_path1)],r.buttonSound=[new Audio(ot+e.sample_ques.ques_path2),new Audio(ot+e.sample_ques.ques_path1)];for(var t=function(t){r.voice.push(new Audio(ot+e.voice[t].voc_path)),r.voice_desc.push(e.voice[t].voc_desc),r.voice[t].addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1,gameState:"tutorial",tutorialState:r.voice_desc[t]})}))},n=0;n<4;n++)t(n);r.voice[0].addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){!function e(t){if(t>=2)return setTimeout((function(){r.voice[1]&&r.voice[1].play(),r.setState({TTobaki:w.ttobak3_2,gameState:!1})}),1e3),t;r.swp[0]&&r.swp[0].play(),r.setState({UpButton:S.d1_UpButton_DOWN}),setTimeout((function(){r.setState({UpButton:S.d1_UpButton_UP}),setTimeout((function(){t=e(++t)}),1e3)}),500)}(0)}),1e3)})),r.voice[3].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(r.props.user.student.s_id,"swp");case 2:t=e.sent,n=t.data,console.log(n),r.setState({initState:ga}),r.newRequest(),r.voice=null,r.voice_desc=null,r.swp=null,r.buttonSound=null;case 11:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0]&&r.voice[0].play(),r.setState({TTobaki:w.ttobak3_2,gameState:!1})}),1500)},r.tutorialButtonEvent=function(e){e===ha&&r.state.tutorialState===r.voice_desc[1]?(r.setState({tutorialState:r.voice_desc[2]}),setTimeout((function(){!function e(t){if(t>=2)return setTimeout((function(){r.voice[2]&&r.voice[2].play(),r.setState({TTobaki:w.ttobak3_2,gameState:!1})}),1200),t;r.swp[1]&&r.swp[1].play(),r.setState({DownButton:S.d1_DownButton_DOWN}),setTimeout((function(){r.setState({DownButton:S.d1_DownButton_UP}),setTimeout((function(){t=e(++t)}),1e3)}),500)}(0)}),2e3)):"down"===e&&r.state.tutorialState===r.voice_desc[2]&&setTimeout((function(){r.setState({TTobaki:w.ttobak3_2,gameState:!1,tutorialState:r.voice_desc[3]}),r.voice[3]&&r.voice[3].play()}),2e3)},r.setListener=function(){try{r.setState({swpSound:[ha===r.oriAnswer[r.currentIndex][0]?new Audio(ot+r.ques_path[0]):new Audio(ot+r.ques_path[1]),ha===r.oriAnswer[r.currentIndex][1]?new Audio(ot+r.ques_path[0]):new Audio(ot+r.ques_path[1])],currentIndex:r.currentIndex+1}),r.state.swpSound[0].addEventListener("ended",(function(){setTimeout((function(){r.state.swpSound[1]&&r.state.swpSound[1].play()}),900)})),r.state.swpSound[1].addEventListener("ended",(function(){r.setState({gameState:!0,TTobaki:w.ttobak1_1})}))}catch(e){console.log(e)}},r.onTouchStart=function(e){var t=r.state,n=t.Answer,a=t.stdAnswer,o=t.gameState;switch(e){case"down":r.setState({DownButton:S.d1_DownButton_DOWN,Answer:n.concat(!0===o?S.d1_AnswerDown:[]),stdAnswer:a.concat(!0===o?"down":[])});break;case ha:r.setState({UpButton:S.d1_UpButton_DOWN,Answer:n.concat(!0===o?S.d1_AnswerUp:[]),stdAnswer:a.concat(!0===o?ha:[])})}},r.onTouchEnd=function(e){var t=r.state.gameState;switch(e){case"down":r.setState({DownButton:S.d1_DownButton_UP}),!1!==t&&r.buttonSound[1]&&r.buttonSound[1].play();break;case ha:r.setState({UpButton:S.d1_UpButton_UP}),!1!==t&&r.buttonSound[0]&&r.buttonSound[0].play()}"tutorial"===t?r.tutorialButtonEvent(e):2===r.state.Answer.length&&r.finished()},r.TTobakiTouch=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===r.state.gameState&&r.playSound();case 1:case"end":return e.stop()}}),e)}))),r.playSound=function(){r.state.swpSound[0]&&(r.setState({gameState:!1,TTobaki:w.ttobak3_2}),r.state.swpSound[0].play())},r.finished=Object(d.a)(l.a.mark((function e(){var t,n,a,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tutorial"!==r.state.gameState){e.next=2;break}return e.abrupt("return");case 2:return r.setState({gameState:!1,TTobaki:w.ttobak2_1}),t=r.props.user,n=t.student.s_id,a=r.state.stdAnswer,o=[r.oriAnswer[r.currentIndex][0],r.oriAnswer[r.currentIndex][1]],e.prev=7,e.next=10,wt(n,r.ques_id,o,a);case 10:if(i=e.sent,u=i.data,console.log(u),setTimeout((function(){r.setState({gameState:!1,Answer:[],sweep:[],path:[],stdAnswer:[],TTobaki:w.ttobak1_1})}),1500),1!==u.code){e.next=32;break}if(!0!==u.to_next&&!0!==u.to_next_freq){e.next=20;break}r.newRequest(),console.log("next"),e.next=32;break;case 20:if(!u.is_stop&&"\ubaa8\ub4e0 \ub2e8\uacc4\ub97c \ud480\uc5c8\uc2b5\ub2c8\ub2e4."!==u.to_next){e.next=24;break}r.setState({showNextPopup:!0}),e.next=32;break;case 24:if(!(r.currentIndex<r.oriAnswer.length-1)){e.next=28;break}r.currentIndex++,e.next=30;break;case 28:return r.setState({showNextPopup:!0}),e.abrupt("return");case 30:r.setListener(),setTimeout((function(){r.playSound()}),2e3);case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(7),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[7,34]])}))),r.imagesPreloading=function(e){for(var t in e)for(var n in e[t]){var a=new Image;a.src=e[t][n],a.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&r.setState({isImageLoaded:!0})}}},r.onPopupButtonHandle=function(){r.props.history.push("/diagnose/recognition")},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.buttonSound=null,r.currentIndex=0,r.oriAnswer=null,r.ques_id=null,r.ques_path=null,r.currentIndex=0,r.numOfLoadedImage=0,r.picture={D1:S,TTobak:w},r.totalImages=Object.keys(S).length+Object.keys(w).length,r.state=ga,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture),this.newRequest();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){for(var e=[this.voice,this.voice_desc,this.swp],t=0;t<e.length;t++)if(e[t])for(var n=0;n<e[t].length;n++)e[t][n]&&(e[t][n].pause(),e[t][n]=null);this.state.swpSound&&(this.state.swpSound[0].pause(),this.state.swpSound[1].pause()),this.setState({swpSound:null})}},{key:"render",value:function(){var e=this.state,t=e.UpButton,n=e.DownButton,r=e.Answer,o=e.TTobaki,i=e.isImageLoaded,u=e.showPopup,c=e.showNextPopup,s=e.percent;return i?a.a.createElement(ma,{Background:S.d1_background,UP:ha,DOWN:"down",onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,UpButton:t,DownButton:n,Answer:r,TTobak:o,TTobakiTouch:this.TTobakiTouch,AnswerBox:S.d1_box,showPopup:u,showNextPopup:c,onPopupButtonHandle:this.onPopupButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,currentIndex:this.state.currentIndex,totalNum:this.state.totalNum}):a.a.createElement(_n,{percent:s})}}]),n}(a.a.PureComponent);var va=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(ba));function xa(){var e=Object(v.a)(["\n    width: 100%;\n    border-radius: 15px;\n    background-color: #FFFFFF;\n    border: 2px solid #DFD7C4;\n    padding: 20px 25px;\n    margin-bottom: ",";\n"]);return xa=function(){return e},e}var _a=x.c.div(xa(),(function(e){return e.margin||"0px"}));var wa=function(e){var t=e.Content,n=e.margin;return a.a.createElement(_a,{margin:n},t)};function ya(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-family: 'paybooc-Medium';\n    padding: 10px 30px;\n"]);return ya=function(){return e},e}function ka(){var e=Object(v.a)(["\n    border-radius: 26px;\n    border: 0px solid;\n    margin-top: 10px;\n    padding: 0 10px;\n    background-color:#AC9BC9;\n    color: #ffffff;\n"]);return ka=function(){return e},e}var Ea=x.c.button(ka()),Ta=x.c.div(ya());var Sa=function(e){var t=e.text,n=e.onClick,r=e.to;return a.a.createElement(u.b,{to:r},a.a.createElement(Ea,{onClick:n},a.a.createElement(Ta,null,t)))};function Oa(){var e=Object(v.a)(["\n    display: inline-block;\n    padding: 5px 7px;\n    text-align: center;\n"]);return Oa=function(){return e},e}function ja(){var e=Object(v.a)(["\n    display: inline-block;\n    justify-content: center;\n    align-items:center;\n    font-size: "," ;\n    border-radius: 10px;\n    border: 0px solid;\n    background-color:"," ;\n    color: #ffffff;\n"]);return ja=function(){return e},e}x.c.div(ja(),(function(e){return e.size||"1.1rem"}),(function(e){return e.color||"#8BAB8D"})),x.c.div(Oa());function Ca(){var e=Object(v.a)(["\n    font-size: 0.9rem;\n"]);return Ca=function(){return e},e}function Aa(){var e=Object(v.a)(["\n    flex: 1;\n    margin: 0px 0px 0px 3%;\n    padding: 13px;\n    border-radius: 10px;\n    font-size: 0.75rem;\n    background-color: #DFD7C4;\n"]);return Aa=function(){return e},e}function Ba(){var e=Object(v.a)(["\n    font-weight: bold;\n    font-size: 1.1rem;\n    margin-bottom: 5px;\n"]);return Ba=function(){return e},e}function Ia(){var e=Object(v.a)(["\n    padding: 1% 0% 3% 0%;\n"]);return Ia=function(){return e},e}function Pa(){var e=Object(v.a)(["\n    margin: 0px 0px 20px 0px;\n    display: flex;\n    flex-direction: row;\n"]);return Pa=function(){return e},e}function Ra(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Ra=function(){return e},e}var Da=x.c.div(Ra()),La=x.c.div(Pa()),Ha=x.c.div(Ia()),Ua=x.c.div(Ba()),Na=x.c.div(Aa()),qa=x.c.div(Ca()),za=function(e){e.student;var t=e.result,n=e.diagnose;return document.body.style.overflow="visible",a.a.createElement(Da,null,a.a.createElement(La,null,a.a.createElement(Ha,null,a.a.createElement(Ua,null,n.title)),a.a.createElement(Na,null,n.explain)),a.a.createElement(qa,null,"\uc120\ud0dd\uc801\uc9d1\uc911\ub825"===n.title?a.a.createElement("div",null,"\ucd1d \ubb38\uc81c \uc218\ub294 ",t["\ucd1d \ubb38\uc81c \uac1c\uc218"],"\uac1c\ub85c, \ud3c9\uade0 \ubc1c\uc74c \uc815\ud655\ub3c4\ub294 ",t["\ud3c9\uade0 \ubc1c\uc74c \uc815\ud655\ub3c4"],"% \uc785\ub2c8\ub2e4."):a.a.createElement("div",null,"\ucd1d \ubb38\uc81c \uc218\ub294 ",t["\ucd1d \ubb38\uc81c \uac1c\uc218"],"\uac1c\ub85c, \ub9de\ucd98 \ubb38\uc81c\uc758 \uc218\ub294 ",t["\ub9de\uc740 \uac1c\uc218"],"\uac1c\uc785\ub2c8\ub2e4.")))};function Fa(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 2.5px 0;\n"]);return Fa=function(){return e},e}function Ma(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: center;\n"]);return Ma=function(){return e},e}function Ga(){var e=Object(v.a)(["\n    font-weight: bold;\n    font-size: 1.1rem;\n    display: flex;\n    flex-direction: row;\n"]);return Ga=function(){return e},e}function Wa(){var e=Object(v.a)(["\n    font-size: 0.7rem;\n"]);return Wa=function(){return e},e}function Ya(){var e=Object(v.a)(["\n    font-size: 1rem;\n    font-weight: bold;\n"]);return Ya=function(){return e},e}function Qa(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 20vw;\n    margin: 10px 30px 10px 10px;\n    padding: 15px;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    border-radius: 16px;\n    background-color: #F6DB57;\n"]);return Qa=function(){return e},e}function Va(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]);return Va=function(){return e},e}var Ja=x.c.div(Va()),Xa=x.c.div(Qa()),Ka=x.c.div(Ya()),Za=x.c.div(Wa()),$a=x.c.div(Ga()),eo=x.c.div(Ma()),to=x.c.div(Fa()),no=function(e){e.student;var t=e.result,n=e.name,r=e.birth;return document.body.style.overflow="visible",a.a.createElement(Ja,null,a.a.createElement(Xa,null,a.a.createElement(Ka,null,n||"\ud64d\uae38\ub3d9"),a.a.createElement(Za,null,r||"1998\ub144 11\uc6d4 11\uc77c")),a.a.createElement(eo,null,a.a.createElement(to,null,a.a.createElement($a,null,"\ucd1d \ubb38\uc81c \uac1c\uc218 : ",t["\ucd1d \ubb38\uc81c \uac1c\uc218"],"\uac1c")),a.a.createElement(to,null,a.a.createElement($a,null,"\ucd1d \ub9de\uc740 \uac1c\uc218 : ",t["\ucd1d \ub9de\uc740 \uac1c\uc218"],"\uac1c"))))};function ro(){var e=Object(v.a)(["\n    padding: 0px 30px 25px 30px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return ro=function(){return e},e}var ao=x.c.div(ro()),oo=function(e){var t=e.result,n=e.name,r=e.birth;return document.body.style.overflow="visible",a.a.createElement("div",null,a.a.createElement(nn,{title:"\ub610\ubc15\uc774 \uac80\uc0ac \uacb0\uacfc"}),a.a.createElement(ao,null,a.a.createElement("div",null,a.a.createElement(wa,{Content:a.a.createElement(no,{result:t,name:n,birth:r}),margin:"25px"})),a.a.createElement(wa,{Content:a.a.createElement(za,{diagnose:Le.swp,result:t[Le.swp.title]}),margin:"25px"}),a.a.createElement(wa,{Content:a.a.createElement(za,{diagnose:Le.recognition,result:t[Le.recognition.title]}),margin:"25px"}),a.a.createElement(wa,{Content:a.a.createElement(za,{diagnose:Le.attention,result:t[Le.attention.title]}),margin:"25px"}),a.a.createElement(Sa,{text:"\ud655\uc778",to:"/main/main"})))},io={result:{"\uc120\ud0dd\uc801\uc9d1\uc911\ub825":{"\ucd1d \ubb38\uc81c \uc218 ":0,"\ud3c9\uade0 \ubc1c\uc74c \uc815\ud655\ub3c4":0},"\uc74c\uc6b4\uccad\ucde8\ub825":{"\ub9de\uc740 \uac2f\uc218":0,"\ucd1d \ubb38\uc81c \uc218":0},"\uccad\uac01\ucc98\ub9ac\uc18d\ub3c4":{"\ub9de\uc740 \uac2f\uc218":0,"\ucd1d \ubb38\uc81c \uc218":0},"\ucd1d \ub9de\uc740 \uac2f\uc218":0,"\ucd1d \ubb38\uc81c \uac2f\uc218":0}},uo=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).result=null,e.state=io,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:Ut(t.student.s_id).then((function(e){console.log(e.data.results),n.setState({result:e.data.results})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.result;return a.a.createElement(oo,{result:e,name:this.props.user.student.name,birth:this.props.user.student.birth})}}]),n}(a.a.Component);var co=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(uo)),so=n(41);function lo(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n"]);return lo=function(){return e},e}function po(){var e=Object(v.a)(["\n    width: ",";\n    height: ",";\n"]);return po=function(){return e},e}function fo(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: ",";\n"]);return fo=function(){return e},e}function mo(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    flex: 1;\n    width: 100%;\n    height: auto;\n"]);return mo=function(){return e},e}function ho(){var e=Object(v.a)(["\n    width: 100%;\n    margin: 6% 0 0 0;\n    text-align: center;\n    font-weight: bold;\n    font-size: 2rem;\n"]);return ho=function(){return e},e}function go(){var e=Object(v.a)(["\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    width: 60%;\n    height: 60%;\n    border-radius: 40px 90px / 80px 40px;\n    background-color: white;\n    border: 3px solid ",";\n"]);return go=function(){return e},e}function bo(){var e=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    touch-action: none;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 4;\n"]);return bo=function(){return e},e}var vo=x.c.div(bo()),xo=x.c.div(go(),je),_o=x.c.div(ho()),wo=x.c.div(mo()),yo=x.c.div(fo(),"80px"),ko=x.c.img(po(),"80px","80px"),Eo=x.c.div(lo()),To=function(e){var t=e.onRestartButtonHandle;return a.a.createElement(vo,null,a.a.createElement(xo,null,a.a.createElement(_o,null,"\ud55c \uc138\ud2b8\uac00 \ub05d\ub0ac\uc5b4\uc694!"),a.a.createElement(wo,null,a.a.createElement(yo,{onTouchEnd:t},a.a.createElement(ko,{src:T.bt_again}),a.a.createElement(Eo,null,"\uacc4\uc18d \ud558\uae30")),a.a.createElement(yo,null,a.a.createElement(u.b,{to:"/main/main"},a.a.createElement(ko,{src:T.bt_stop}),a.a.createElement(Eo,null,"\uadf8\ub9cc \ud558\uae30"))))))};function So(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n"]);return So=function(){return e},e}function Oo(){var e=Object(v.a)(["\n    width: ",";\n    height: ",";\n"]);return Oo=function(){return e},e}function jo(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: ",";\n"]);return jo=function(){return e},e}function Co(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    flex: 1;\n    width: 100%;\n    height: auto;\n"]);return Co=function(){return e},e}function Ao(){var e=Object(v.a)(["\n    width: 100%;\n    margin: 6% 0 0 0;\n    text-align: center;\n    font-weight: bold;\n    font-size: 2rem;\n"]);return Ao=function(){return e},e}function Bo(){var e=Object(v.a)(["\n    display: flex;\n    position: absolute;\n    flex-direction: column;\n    width: 60%;\n    height: 60%;\n    border-radius: 40px 90px / 80px 40px;\n    background-color: white;\n    border: 3px solid ",";\n"]);return Bo=function(){return e},e}function Io(){var e=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: center;\n    touch-action: none;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 4;\n"]);return Io=function(){return e},e}var Po=x.c.div(Io()),Ro=x.c.div(Bo(),je),Do=x.c.div(Ao()),Lo=x.c.div(Co()),Ho=Object(x.c)(u.b)(jo(),"80px"),Uo=x.c.img(Oo(),"80px","80px"),No=x.c.div(So()),qo=function(e){var t=e.text;return a.a.createElement(Po,null,a.a.createElement(Ro,null,a.a.createElement(Do,null,t||"\uc624\ub298 \ud559\uc2b5\uc774 \ub05d\ub0ac\uc5b4\uc694!"),a.a.createElement(Lo,null,a.a.createElement(Ho,{to:"/main/main"},a.a.createElement(Uo,{src:T.bt_stop}),a.a.createElement(No,null,t?"\ub2e4\uc74c":"\ud648\uc73c\ub85c")))))};function zo(){var e=Object(v.a)(["\n    position: relative;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: ",";\n    right: 8%;\n    top: -80%;\n"]);return zo=function(){return e},e}function Fo(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    font-size: 2.5rem;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n"]);return Fo=function(){return e},e}function Mo(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    direction: rtl;\n"]);return Mo=function(){return e},e}var Go=x.c.div(Mo()),Wo=x.c.div(Fo(),(function(e){return e.src})),Yo=x.c.div(zo(),(function(e){return e.isRecording?"#fe4a2f":"#a8aaa9"})),Qo=function(e){var t=e.text,n=e.src,r=(e.type,e.isRecording);return a.a.createElement(Go,null,a.a.createElement(Wo,{src:n},t||"\uce5c\uad6c\ub4e4\uc544 \uce5c\uad6c\ub4e4\uc544"),a.a.createElement(Yo,{isRecording:r}))};function Vo(){var e=Object(v.a)(["\n    position:absolute;\n    width: 5%;\n    top: 10%;\n    left: 37%;\n    display: ",";\n"]);return Vo=function(){return e},e}function Jo(){var e=Object(v.a)(["\n    position: absolute;\n    width: 9%;\n    top: 15vh;\n    right: 10px;\n"]);return Jo=function(){return e},e}function Xo(){var e=Object(v.a)(["\n    width: 100%;\n    height: 30vh;\n    margin-bottom: 5%;\n"]);return Xo=function(){return e},e}function Ko(){var e=Object(v.a)(["\n    position:absolute;\n    width: 15%;\n    top: 10%;\n"]);return Ko=function(){return e},e}function Zo(){var e=Object(v.a)(["\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: flex-end;\n"]);return Zo=function(){return e},e}var $o=x.c.div(Zo()),ei=x.c.img(Ko()),ti=x.c.div(Xo()),ni=x.c.img(Jo()),ri=x.c.img(Vo(),(function(e){return e.isPlaying?"block":"none"})),ai=function(e){var t=e.props;return a.a.createElement($o,null,a.a.createElement(ri,{src:w.speech_bubble,alt:"bubble",isPlaying:t.isPlaying}),a.a.createElement(ni,{src:C.bt_complete,alt:"complete",onTouchEnd:t.onCompleteButtonHandle}),a.a.createElement(ei,{src:t.TTobak,alt:"\ub610\ubc15\uc774"}),a.a.createElement(ti,null,a.a.createElement(Qo,{src:t.TextBox,text:t.text,isRecording:t.RecordingCircle})),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},oi=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(ai,{props:r})})},ii={cureText:null,isRecording:!1,TTobaki:w.ttobak1_1,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0,isPlaying:!1,RecordingCircle:!1,err:!1,errorInfo:!1},ui=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,It(n,"poem");case 5:a=e.sent,o=a.data,console.log("new",o),"specified"!==o.code&&1!==o.code||(r.currentIndex=0,r.cure=o.cure,r.currentCure=o.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_text,totalNum:r.cure.length,currentIndex:r.currentIndex+1}),r.intro(o.read_voice));case 9:case"end":return e.stop()}}),e)}))),r.daily=function(){console.log(r.props.location.state.data),r.cure=r.props.location.state.data.read,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.setState({totalNum:r.cure.length,cureText:r.currentCure.cure_text,currentIndex:r.currentIndex+1}),r.intro(r.props.location.state.data.read_voice)},r.intro=function(e){r.read_voice=null,r.read_voice=new Audio(ot+e[0].voc_path),r.read_voice.addEventListener("ended",(function(){setTimeout((function(){return r.playSound()}),1e3)})),r.read_voice&&setTimeout((function(){r.read_voice.play()}),1e3)},r.androidResponse=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.detail),r.audioResult=t.detail,r.andriodListener();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.stopRecording=function(e){console.log(e.detail),clearInterval(r.setRecording),r.recording_end_sound.play(),"PAUSED"!==r.gameState&&(r.gameState="PLAUING"),r.setState({isRecording:!1,RecordingCircle:!1})},r.andriodListener=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PAUSED"!==r.gameState){e.next=2;break}return e.abrupt("return");case 2:if(r.setState({TTobaki:w.ttobak2_1}),"Success"!==r.audioResult.status){e.next=27;break}return t=r.props.user,n=t.student.s_id,e.next=8,Pt(n,r.audioResult.score,r.audioResult.phone_score,r.audioResult.speed_score,r.audioResult.rhythm_score,"review"===r.learning_type?"T":"F",r.currentCure.cure_id,"poem","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 8:if(a=e.sent,o=a.data,console.log("androidListener",o),1!==o.code){e.next=24;break}if(!(o.retry&&++r.failedNum<3)){e.next=18;break}return r.currentCure.is_first="F",r.retryAudio=new Audio(ot+o.class_voice[0].voc_path),r.retryAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak3_1}),setTimeout((function(){r.currentAudio&&(r.currentAudio.play(),r.gameState="AUDIOPLAYING",r.setState({TTobaki:w.ttobak3_2,isPlaying:!0}))}),1e3)})),setTimeout((function(){r.retryAudio&&(r.retryAudio.play(),r.setState({TTobaki:w.ttobak3_2}))}),1e3),e.abrupt("return");case 18:r.failedNum=0,o.retry?r.good_script=new Audio(ot+o.class_voice[1].voc_path):r.good_script=new Audio(ot+o.class_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script&&r.good_script.play(),r.setState({TTobaki:w.ttobak2_2})}),500),e.next=25;break;case 24:2===o.code?r.gameDone():console.log(o.message);case 25:e.next=28;break;case 27:console.log(r.audioResult.message);case 28:case"end":return e.stop()}}),e)}))),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio&&r.currentAudio.remove(),r.currentAudio=null,r.currentAudio=new Audio(ot+r.currentCure.cure_path),setTimeout((function(){r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_text,currentIndex:r.currentIndex+1})}),2e3),setTimeout((function(){r.playSound()}),4e3)):r.gameDone()},r.playSound=function(){r.currentAudio&&(r.setState({TTobaki:w.ttobak3_2,isPlaying:!0}),r.currentAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1,isPlaying:!1}),setTimeout((function(){r.recording_start_sound.play(),r.gameState="RECORDING",r.setState({isRecording:!0,RecordingCircle:!0}),r.setRecording=setInterval((function(){r.setState({RecordingCircle:!r.state.RecordingCircle})}),500),setTimeout((function(){window.BRIDGE.recordAudio(r.props.user.student.gender,r.currentCure.cure_text)}),200)}),800)})),r.currentAudio.play(),r.gameState="AUDIOPLAYING")},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);for(var n in e)for(var a in e[n]){var o=new Image;o.src=e[n][a],o.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0,TTobaki:w.ttobak1_1}),clearTimeout(t),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1}),setTimeout((function(){r.continuePlay.play(),r.gameState="AUDIOPLAYING",r.continuePlay===r.currentAudio&&r.setState({isPlaying:!0}),r.setState({TTobaki:w.ttobak3_2})}),1e3)},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){"RECORDING"===r.gameState&&(window.BRIDGE.requestStopRecording(),r.continuePlay=r.currentAudio),r.gameState="PAUSED",r.setState({showPopup:!0});var e=[r.currentAudio,r.read_voice,r.retryAudio,r.good_script];console.log(e);for(var t=0;t<e.length;t++)if(e[t]&&!e[t].paused&&e[t].duration>0){e[t].pause(),r.continuePlay=e[t];break}},r.onCompleteButtonHandle=function(){r.state.isRecording&&window.BRIDGE.requestStopRecording()},r.learning_type=a.params.learning_type,r.recording_start_sound=new Audio(k.recording_start),r.recording_end_sound=new Audio(k.recording_end),r.cure=null,r.currentCure=null,r.currentIndex=0,r.currentAudio=null,r.audioResult=null,r.retryAudio=null,r.picture={T1:C,TTobak:w},r.totalImages=Object.keys(r.picture.T1).length+Object.keys(r.picture.TTobak).length,r.numOfLoadedImage=0,r.continuePlay=null,r.failedNum=0,r.state=ii,r.gameState="PLAUING",r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture),window.addEventListener("android",this.androidResponse),window.addEventListener("androidStopRecording",this.stopRecording);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.isRecording&&window.BRIDGE.requestStopRecording();for(var e=[this.currentAudio,this.read_voice,this.retryAudio,this.good_script],t=0;t<e.length;t++)e[t]&&(e[t].paused||e[t].pause(),e[t].remove(),e[t]=null);if(this.voice)for(var n=0;n<this.voice.length;n++)this.voice[n]&&(this.voice[n].pause(),this.voice[n].remove(),this.voice[n]=null);window.removeEventListener("android",this.androidResponse),window.removeEventListener("androidStopRecording",this.stopRecording)}},{key:"componentDidCatch",value:function(e,t){console.error(e),this.setState((function(){return{err:!0,errorInfo:t}})),so.a(e,{extra:t})}},{key:"render",value:function(){var e=this.state,t=e.cureText,n=e.TTobaki,r=e.RecordingCircle,o=e.isImageLoaded,i=e.isPlaying,u=e.showPopup,c=e.showDonePopup,s=e.showDailyPopup,l=e.percent,d=e.currentIndex,p=e.totalNum;return this.state.err?a.a.createElement("div",null,"error"):o?a.a.createElement(oi,{Background:C.t1_background,TextBox:C.t1_textbox,bt_complete:C.bt_complete,TTobak:n,isPlaying:i,text:t,RecordingCircle:r,onCompleteButtonHandle:this.onCompleteButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:u,showDailyPopup:s,showDonePopup:c,currentIndex:d,totalNum:p}):a.a.createElement(_n,{percent:l})}}]),n}(a.a.Component);var ci=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(ui));function si(){var e=Object(v.a)(["\n    position: relative;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: ",";\n    right: 8%;\n    top: -80%;\n"]);return si=function(){return e},e}function li(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    font-size: 2rem;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n"]);return li=function(){return e},e}function di(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    direction: rtl;\n"]);return di=function(){return e},e}var pi=x.c.div(di()),fi=x.c.div(li(),(function(e){return e.src})),mi=x.c.div(si(),(function(e){return e.isRecording?"#fe4a2f":"#a8aaa9"})),hi=function(e){var t=e.text,n=e.src,r=e.type,o=e.isRecording;return a.a.createElement(pi,null,a.a.createElement(fi,{src:n},t||r||"\uce5c\uad6c\ub4e4\uc544 \uce5c\uad6c\ub4e4\uc544"),a.a.createElement(mi,{isRecording:o}))};function gi(){var e=Object(v.a)(["\n    position: absolute;\n    width: 9%;\n    top: 15vh;\n    right: 10px;\n"]);return gi=function(){return e},e}function bi(){var e=Object(v.a)(["\n    width: 100%;\n    height: 30vh;\n    margin-bottom: 5%;\n"]);return bi=function(){return e},e}function vi(){var e=Object(v.a)(["\n    position:absolute;\n    width: 15%;\n    top: 10%;\n"]);return vi=function(){return e},e}function xi(){var e=Object(v.a)(["\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: flex-end;\n"]);return xi=function(){return e},e}var _i=x.c.div(xi()),wi=x.c.img(vi()),yi=x.c.div(bi()),ki=x.c.img(gi()),Ei=function(e){var t=e.props;return a.a.createElement(_i,null,a.a.createElement(ki,{src:C.bt_complete,alt:"complete",onTouchEnd:t.onCompleteButtonHandle}),a.a.createElement(wi,{src:t.TTobak,alt:"\ub610\ubc15\uc774"}),a.a.createElement(yi,null,a.a.createElement(hi,{src:t.TextBox,text:t.text,isRecording:t.RecordingCircle})),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},Ti=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(Ei,{props:r})})},Si={cureText:null,isRecording:!1,TTobaki:w.ttobak1_1,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0,RecordingCircle:!1,err:!1,errorInfo:!1},Oi=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,It(n,"selfpoem");case 5:a=e.sent,o=a.data,console.log(o),"specified"!==o.code&&1!==o.code||(r.currentIndex=0,r.cure=o.cure,r.currentCure=o.cure[r.currentIndex],r.currentCure.is_first="T",r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_text,totalNum:r.cure.length})),setTimeout((function(){return r.playRecording()}),2e3);case 10:case"end":return e.stop()}}),e)}))),r.daily=function(){console.log(r.props.location.state.data),r.cure=r.props.location.state.data.read,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.setState({totalNum:r.cure.length,cureText:r.currentCure.cure_text}),r.intro(r.props.location.state.data.read_voice)},r.intro=function(e){r.reac_voice=null,r.read_voice=[new Audio(ot+e[0].voc_path)],r.read_voice[0].addEventListener("ended",(function(){setTimeout((function(){return r.playRecording()}),2e3)})),r.read_voice[0]&&r.read_voice[0].play()},r.androidResponse=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.detail),r.audioResult=t.detail,r.andriodListener();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.stopRecording=function(e){console.log(e.detail),clearInterval(r.setRecording),r.recording_end_sound.play(),r.setState({isRecording:!1,RecordingCircle:!1})},r.andriodListener=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({TTobaki:w.ttobak2_1}),"Success"!==r.audioResult.status){e.next=26;break}return t=r.props.user,n=t.student.s_id,e.next=6,Pt(n,r.audioResult.score,r.audioResult.phone_score,r.audioResult.speed_score,r.audioResult.rhythm_score,"review"===r.learning_type?"T":"F",r.currentCure.cure_id,"selfpoem","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 6:if(a=e.sent,o=a.data,console.log(o),1!==o.code){e.next=23;break}if(!o.retry){e.next=18;break}return r.currentCure.is_first="F",r.retryAudio=new Audio(ot+o.class_voice.voc_path),r.retryAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak3_1}),setTimeout((function(){r.playRecording()}),2e3)})),setTimeout((function(){r.retryAudio&&(r.retryAudio.play(),r.setState({TTobaki:w.ttobak3_2}))}),1e3),e.abrupt("return");case 18:r.good_script=new Audio(ot+o.class_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script.play(),r.setState({TTobaki:w.ttobak2_2})}),1e3);case 21:e.next=24;break;case 23:2===o.code?r.gameDone():console.log(o.message);case 24:e.next=27;break;case 26:console.log(r.audioResult.message);case 27:case"end":return e.stop()}}),e)}))),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",setTimeout((function(){r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_text,currentIndex:r.currentIndex+1})}),2e3),setTimeout((function(){r.playRecording()}),4e3)):r.gameDone()},r.playRecording=function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.recording_start_sound.play(),r.setState({isRecording:!0,RecordingCircle:!0}),r.setRecording=setInterval((function(){r.setState({RecordingCircle:!r.state.RecordingCircle})}),500),setTimeout((function(){window.BRIDGE.recordAudio(r.props.user.student.gender,r.currentCure.cure_text)}),200)}),800)},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.replace("/main/main")}),1e4);for(var n in e)for(var a in e[n]){var o=new Image;o.src=e[n][a],o.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0,TTobaki:w.ttobak1_1}),clearTimeout(t),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest()},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.onCompleteButtonHandle=function(){r.state.isRecording&&window.BRIDGE.requestStopRecording()},r.learning_type=a.params.learning_type,r.recording_start_sound=new Audio(k.recording_start),r.recording_end_sound=new Audio(k.recording_end),r.cure=null,r.currentCure=null,r.currentIndex=0,r.audioResult=null,r.retryAudio=null,r.picture={T1:C,TTobak:w},r.totalImages=Object.keys(r.picture.T1).length+Object.keys(r.picture.TTobak).length,r.numOfLoadedImage=0,r.state=Si,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture),window.addEventListener("android",this.androidResponse),window.addEventListener("androidStopRecording",this.stopRecording);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.retryAudio&&(this.retryAudio.pause(),this.retryAudio=null),window.removeEventListener("android",this.androidResponse),window.removeEventListener("androidStopRecording",this.stopRecording)}},{key:"componentDidCatch",value:function(e,t){console.error(e),this.setState((function(){return{err:!0,errorInfo:t}})),so.a(e,{extra:t})}},{key:"render",value:function(){var e=this.state,t=e.cureText,n=e.TTobaki,r=e.RecordingCircle,o=e.isImageLoaded,i=e.showPopup,u=e.showDonePopup,c=e.showDailyPopup,s=e.percent,l=e.currentIndex,d=e.totalNum;return this.state.err?a.a.createElement("div",null,"error"):o?a.a.createElement(Ti,{Background:C.t1_background,TextBox:C.t1_textbox,bt_complete:C.bt_complete,TTobak:n,text:t,RecordingCircle:r,onCompleteButtonHandle:this.onCompleteButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:i,showDailyPopup:c,showDonePopup:u,currentIndex:l,totalNum:d}):a.a.createElement(_n,{percent:s})}}]),n}(a.a.Component);var ji=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Oi)),Ci=n(8),Ai=n(403),Bi=n(241),Ii=n(411),Pi=n(242);function Ri(){var e=Object(v.a)(["\n    position: absolute;\n    height: 21vh;\n    width: auto;\n    max-height: 80px;\n    z-index: 2;\n"]);return Ri=function(){return e},e}function Di(){var e=Object(v.a)(["\n    position: absolute;\n    width: 50vw;\n    height: 30vw;\n    left: 0;\n"]);return Di=function(){return e},e}var Li=x.c.div(Di()),Hi=x.c.img(Ri()),Ui=null,Ni=function(e){var t=e.touchPosition,n=Object(Pi.a)(),r=n.display,o=n.style;if(!r)return null;var i=o.WebkitTransform.split("(")[1].split(")")[0].split(", "),u=parseFloat(i[0].split("px")[0])+t[0]-.105*document.documentElement.clientHeight,c=parseFloat(i[1].split("px")[0])+t[1]-.105*document.documentElement.clientHeight;return o.WebkitTransform="translate(".concat(u,"px, ").concat(c,"px)"),a.a.createElement(Hi,{src:Ui,alt:"apple",style:o})},qi=function(e){var t=e.isTreeDragging,n=e.touchPosition,r=e.onTreeTouchStartHandle,o=e.onTreeTouchEndHandle,i=e.createRandomApple,u=Object(Ii.a)({item:{type:De},begin:function(){Ui=i()},collect:function(e){return{isDragging:!!e.isDragging()}}}),c=Object(g.a)(u,2),s=(c[0].isDragging,c[1]);return a.a.createElement("div",null,a.a.createElement(Ni,{touchPosition:n,isTreeDragging:t}),a.a.createElement(Li,{ref:s,isTreeDragging:t,onTouchStart:r,onTouchEnd:o}))},zi=n(412);function Fi(){var e=Object(v.a)(["\n            display: none;\n        "]);return Fi=function(){return e},e}function Mi(){var e=Object(v.a)(["\n    position: absolute;\n    height: 21vh;\n    width: auto;\n    max-height: 80px;\n    z-index: 1;\n    ","\n"]);return Mi=function(){return e},e}function Gi(){var e=Object(v.a)(["\n    position: absolute;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n    height: 50%;\n    width: 70%;\n    bottom: 2.5%;\n    z-index: 0;\n    padding: 1% 20% 5% 20%;\n"]);return Gi=function(){return e},e}function Wi(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    width: 70%;\n    height: auto;\n"]);return Wi=function(){return e},e}var Yi=x.c.div(Wi()),Qi=x.c.div(Gi(),(function(e){return e.src})),Vi=x.c.img(Mi(),(function(e){if(e.numOfApples<=e.id)return Object(x.b)(Fi())})),Ji=[{top:"7%",left:"35%"},{top:"12%",right:"35%"},{top:"30%",left:"30%"},{top:"34%",left:"43%"},{top:"28%",right:"28%"}],Xi=function(e){var t=e.src,n=e.Apple,r=e.dropApple,o=Object(zi.a)({accept:De,drop:r,collect:function(e){return{isOver:!!e.isOver()}}}),i=Object(g.a)(o,2),u=(i[0].isOver,i[1]);return a.a.createElement(Yi,{ref:u},a.a.createElement(Qi,{src:t,alt:"\ubc14\uad6c\ub2c8"},a.a.createElement(Vi,{src:n.applesInBasket[1],alt:"apple0",style:Ji[0],id:1,numOfApples:n.numOfApples}),a.a.createElement(Vi,{src:n.applesInBasket[2],alt:"apple1",style:Ji[1],id:2,numOfApples:n.numOfApples}),a.a.createElement(Vi,{src:n.applesInBasket[3],alt:"apple2",style:Ji[2],id:3,numOfApples:n.numOfApples}),a.a.createElement(Vi,{src:n.applesInBasket[0],alt:"apple3",style:Ji[3],id:0,numOfApples:n.numOfApples}),a.a.createElement(Vi,{src:n.applesInBasket[4],alt:"apple4",style:Ji[4],id:4,numOfApples:n.numOfApples})))};function Ki(){var e=Object(v.a)(["\n    position: absolute;\n    width:9%;\n    bottom: 10px;\n    left: 10px;\n"]);return Ki=function(){return e},e}function Zi(){var e=Object(v.a)(["\n    position:absolute;\n    width: 18%;\n    top: 6%;\n    right: 20%;\n    z-index: 0;\n"]);return Zi=function(){return e},e}function $i(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: flex-end;\n    width: 100vw;\n    height: 100vh;\n"]);return $i=function(){return e},e}var eu=x.c.div($i()),tu=x.c.img(Zi()),nu=x.c.img(Ki()),ru=function(e){var t=e.props;return a.a.createElement(eu,null,a.a.createElement(nu,{src:t.bt_complete,alt:"complete",onTouchEnd:t.onCompleteButtonHandle}),a.a.createElement(qi,{isTreeDragging:t.isDragging,touchPosition:t.touchPosition,onTreeTouchStartHandle:t.onTreeTouchStartHandle,onTreeTouchEndHandle:t.onTreeTouchEndHandle,createRandomApple:t.createRandomApple}),a.a.createElement(tu,{src:t.TTobak,alt:"\ub610\ubc15\uc774",onClick:t.TTobakiTouch}),a.a.createElement(Xi,{src:t.Basket,Apple:t.Apple,dropApple:t.dropApple}),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},au=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(ru,{props:r})})},ou=new Audio(k.touch_effect),iu=new Audio(k.twinkle),uu={gameState:!1,isDragging:!1,touchPosition:[],Apple:{randomApple:A.t2_Apples[Math.floor(4*Math.random())],applesInBasket:[],numOfApples:0},TTobaki:w.ttobak1_1,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0},cu=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).daily=function(){"tutorial"!==r.props.location.state.data.code?(r.cure=r.props.location.state.data.cure,console.log(r.cure.length),r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.setState({totalNum:r.cure.length,currentIndex:r.currentIndex+1,cureText:r.currentCure.cure_text}),setTimeout((function(){return r.playSound()}),1e3)):r.tutorial(r.props.location.state.data)},r.newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,Rt(n,"count");case 5:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=11;break}return r.tutorial(o),e.abrupt("return");case 11:"specified"===o.code||1===o.code?(r.currentIndex=0,r.cure=o.cure,r.currentCure=o.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.setState({totalNum:r.cure.length,currentIndex:r.currentIndex+1}),setTimeout((function(){return r.playSound()}),1e3)):console.log("data message: "+o.message);case 12:case"end":return e.stop()}}),e)}))),r.tutorial=function(e){r.setState({gameState:"tutorial"}),r.currentCure=e.sample_ques,r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path)],r.voice[0].addEventListener("ended",(function(){setTimeout((function(){r.currentAudio&&r.currentAudio.play(),r.setState({TTobaki:w.ttobak2_2})}),1e3)})),r.currentAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.voice[1]&&r.voice[1].play()}),1e3)})),r.voice[2].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,"count",r.currentCure.cure_id);case 2:t=e.sent,n=t.data,console.log(n),r.setState(Object(Ci.a)(Object(Ci.a)({},uu),{},{isImageLoaded:!0})),"daily"===r.learning_type?r.daily():r.newRequest(),r.currentCure=null,r.sample_ques=null,r.voice=null;case 10:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0]&&r.voice[0].play()}),2e3)},r.playSound=function(){r.currentAudio&&(r.currentAudio.play(),r.changeTTobaki(w.ttobak3_2),r.setState({gameState:!1}),r.currentAudio.addEventListener("ended",(function(){r.setState({gameState:!0,TTobaki:w.ttobak1_1})})))},r.TTobakiTouch=function(){r.state.gameState&&r.playSound()},r.changeTTobaki=function(e){r.setState({TTobaki:e})},r.answer=Object(d.a)(l.a.mark((function e(){var t,n,a,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iu.play(),r.setState({TTobaki:w.ttobak2_1}),"tutorial"!==r.state.gameState){e.next=5;break}return r.voice[2]&&r.voice[2].play(),e.abrupt("return");case 5:return t=r.state.Apple.numOfApples,n=r.props.user,a=n.student.s_id,e.next=10,Dt(a,r.cure[r.currentIndex].cure_word.length.toString(),t.toString(),r.cure[r.currentIndex].cure_id,"review"===r.learning_type?"T":"F","count","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 10:if(o=e.sent,i=o.data,console.log(i),1!==i.code){e.next=25;break}if("retry"!==i.correct_voice.voc_desc){e.next=22;break}return r.currentCure.is_first="F",r.retry_script=new Audio(ot+i.correct_voice.voc_path),r.retry_script.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1,Apple:{randomApple:A.t2_Apples[Math.floor(4*Math.random())],applesInBasket:[],numOfApples:0}}),setTimeout((function(){r.currentAudio&&r.currentAudio.play(),r.setState({TTobaki:w.ttobak3_2})}),1e3)})),setTimeout((function(){r.retry_script&&r.retry_script.play(),r.setState({TTobaki:w.ttobak3_2})}),1200),e.abrupt("return");case 22:r.good_script=new Audio(ot+i.correct_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script&&r.good_script.play(),r.setState({TTobaki:w.ttobak2_2})}),1e3);case 25:case"end":return e.stop()}}),e)}))),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.cure[r.currentIndex].cure_path),setTimeout((function(){r.setState({gameState:!1,timeOut:null,isDragging:!1,touchPosition:[],TTobaki:w.ttobak1_1,Apple:{randomApple:A.t2_Apples[Math.floor(4*Math.random())],applesInBasket:[],numOfApples:0},currentIndex:r.currentIndex+1})}),1e3),setTimeout((function(){r.playSound()}),2e3)):r.gameDone()},r.createRandomApple=function(){var e=A.t2_Apples[Math.floor(4*Math.random())];return r.setState({Apple:Object(Ci.a)(Object(Ci.a)({},r.state.Apple),{},{randomApple:e})}),e},r.dropApple=function(){var e=r.state.Apple,t=e.applesInBasket,n=e.numOfApples,a=e.randomApple;r.timeOut&&clearTimeout(r.timeOut),r.timeOut=setTimeout((function(){r.answer()}),3e3),r.setState({Apple:Object(Ci.a)(Object(Ci.a)({},r.state.Apple),{},{numOfApples:n<=5?n+1:5,applesInBasket:t.concat(a)})})},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.onTreeTouchStartHandle=function(e){ou.play(),r.setState({isDragging:!0,touchPosition:[e.changedTouches[0].pageX,e.changedTouches[0].pageY]})},r.onTreeTouchEndHandle=function(){r.setState({isDragging:!1})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);for(var n in e)for(var a in e[n])if("object"===typeof e[n][a]){var o=e[n][a];for(var i in o){var u=new Image;u.src=o[i],u.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),"daily"===r.learning_type?r.daily():r.newRequest(),clearTimeout(t))}}}else{var c=new Image;c.src=e[n][a],c.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),"daily"===r.learning_type?r.daily():r.newRequest(),clearTimeout(t))}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){r.setState({gameState:!1,timeOut:null,isDragging:!1,touchPosition:[],TTobaki:w.ttobak1_1,Apple:{randomApple:A.t2_Apples[Math.floor(4*Math.random())],applesInBasket:[],numOfApples:0}})}),2e3),setTimeout((function(){return r.playSound()}),4e3)},r.onPauseButtonHandle=function(){r.setState({showPopup:!0});for(var e=[r.currentAudio,r.currentAudio,r.retryAudio,r.good_script],t=0;t<e.length;t++)if(e[t]&&!e[t].paused&&e[t].duration>0){e[t].pause(),r.continuePlay=e[t];break}if(r.voice)for(var n=0;n<r.voice.length;n++)if(r.voice[n]&&!r.voice[n].paused&&r.voice[n].duration>0){r.voice[n].pause(),r.continuePlay=r.voice[n];break}},r.onCompleteButtonHandle=function(){r.answer(),clearTimeout(r.timeOut)},r.learning_type=a.params.learning_type,r.cure=null,r.cureLength=0,r.currentIndex=0,r.currentAudio=null,r.currentCure=0,r.timeOut=null,r.numOfLoadedImage=0,r.picture={T2:A,TTobak:w},r.totalImages=Object.keys(A).length+Object.keys(w).length+3,r.voc_script=null,r.state=uu,r.continuePlay=null,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.remove(),this.currentAudio=null),this.sample_ques=null,this.voice=null,this.voice)for(var e=0;e<this.voice.length;e++)this.voice[e]&&(this.voice[e].pause(),this.voice[e].remove(),this.voice[e]=null)}},{key:"render",value:function(){var e=this.state,t=e.isDragging,n=e.touchPosition,r=e.Apple,o=e.answer,i=e.TTobaki,u=e.isImageLoaded,c=e.showPopup,s=e.showDonePopup,l=e.showDailyPopup,d=e.percent,p=e.currentIndex,f=e.totalNum;return u?a.a.createElement(Ai.a,{backend:Bi.a},a.a.createElement(au,{Background:A.t2_background,Basket:A.t2_basket,TTobak:i,TTobakiTouch:this.TTobakiTouch,onTreeTouchStartHandle:this.onTreeTouchStartHandle,onTreeTouchEndHandle:this.onTreeTouchEndHandle,isDragging:t,touchPosition:n,createRandomApple:this.createRandomApple,dropApple:this.dropApple,Apple:r,answer:o,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,onCompleteButtonHandle:this.onCompleteButtonHandle,showPopup:c,showDailyPopup:l,showDonePopup:s,currentIndex:p,totalNum:f,bt_complete:A.bt_complete})):a.a.createElement(_n,{percent:d})}}]),n}(a.a.Component);var su=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(cu));function lu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    text-align:center;\n    font-size: 4rem;\n    font-weight: bold;\n    width: 70%;\n"]);return lu=function(){return e},e}function du(){var e=Object(v.a)(["\n    from{\n        bottom:0px;\n    }\n    to{\n        top:10px;\n    }\n"]);return du=function(){return e},e}function pu(){var e=Object(v.a)(["\n                animation: "," 0.5s 0.3s 2 alternate;\n                animation-timing-function:ease;\n            "]);return pu=function(){return e},e}function fu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items:center;\n    height: 35vh;\n    width: 35vh;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n    ","\n"]);return fu=function(){return e},e}var mu=new Audio(k.touch_effect),hu=x.c.div(fu(),(function(e){return e.src}),(function(e){if(e.isAnimate)return Object(x.b)(pu(),gu)})),gu=Object(x.d)(du()),bu=x.c.div(lu()),vu=function(e){var t=e.text,n=e.BoxImg,r=e.isAnimate,o=e.onBoxTouchHandle,i=e.index,u=e.gameState;return a.a.createElement(hu,{src:n,isAnimate:r,onTouchEnd:function(){return o(i)},onTouchStart:function(){u&&mu.play()}},a.a.createElement(bu,null,t||"\u3131"))};function xu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-evenly;\n    width: 100vw;\n    height: auto;\n    margin-bottom: 7%;\n"]);return xu=function(){return e},e}function _u(){var e=Object(v.a)(["\n    position:absolute;\n    width: 16%;\n    height: auto;\n    top: 4%;\n"]);return _u=function(){return e},e}function wu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    width: 100vw;\n    height: 100vh;\n"]);return wu=function(){return e},e}var yu=x.c.div(wu()),ku=x.c.img(_u()),Eu=x.c.div(xu()),Tu=function(e){var t=e.props;return a.a.createElement(yu,null,a.a.createElement(ku,{src:t.TTobak,alt:"\ub610\ubc15\uc774",onTouchEnd:t.onTTobakiTouchHandle}),a.a.createElement(Eu,null,t.boxTextList.map((function(e,n){return a.a.createElement(vu,{key:n,text:e,index:n,BoxImg:t.BoxImg,isAnimate:t.isAnimate[n],onBoxTouchHandle:t.onBoxTouchHandle,gameState:t.gameState})}))),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},Su=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(Tu,{props:r})})},Ou={TTobaki:w.ttobak1_1,gameState:!1,boxTextList:null,isAnimate:[!1,!1,!1,!1],isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0},ju=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,Rt(n,"common");case 5:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=11;break}return r.tutorial(o),e.abrupt("return");case 11:"specified"===o.code||1===o.code?(r.currentIndex=0,r.cure=o.cure,r.setCurrent(0),r.setState({totalNum:r.cure.length,currentIndex:r.currentIndex+1}),setTimeout((function(){return r.playSound()}),2e3)):console.log("data message: "+o.message);case 12:case"end":return e.stop()}}),e)}))),r.daily=function(){"tutorial"!==r.props.location.state.data.code?(console.log(r.props.location.state.data.cure),r.cure=r.props.location.state.data.cure,r.setState={totalNum:r.cure.length,currentIndex:r.currentIndex+1},r.setCurrent(0),setTimeout((function(){return r.playSound()}),2e3)):r.tutorial(r.props.location.state.data)},r.tutorial=function(e){r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path)],r.currentCure=e.sample_ques,r.currentAudio=[new Audio(ot+r.currentCure.com_e1path),new Audio(ot+r.currentCure.com_e2path),new Audio(ot+r.currentCure.com_e3path),new Audio(ot+r.currentCure.com_e4path),new Audio(ot+r.currentCure.com_w1path),new Audio(ot+r.currentCure.com_w2path),new Audio(ot+r.currentCure.com_w3path)],r.setListener(!0),r.setState({boxTextList:[r.currentCure.com_e1,r.currentCure.com_e2,r.currentCure.com_e3,r.currentCure.com_e4],TTobaki:w.ttobak1_1,currentIndex:r.currentIndex+1}),r.voice[0].addEventListener("ended",(function(){setTimeout((function(){r.playSound()}),1e3)})),r.voice[1].addEventListener("ended",(function(){r.setState({gameState:"tutorial",TTobaki:w.ttobak1_1})})),r.voice[2].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,"common",r.currentCure.com_id);case 2:t=e.sent,n=t.data,console.log(n),r.setState({gameState:!1}),"daily"===r.learning_type?r.daily():r.newRequest(),r.currentCure=null,r.sample_ques=null,r.voice=null;case 10:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0].play()}),2e3)},r.setCurrent=function(e){r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T";for(var t=0;t<r.currentCure.length;t++)r.currentCure[t]&&r.currentCure[t].remove(),r.currentCure[t]=null;r.currentAudio=[new Audio(ot+r.currentCure.com_e1path),new Audio(ot+r.currentCure.com_e2path),new Audio(ot+r.currentCure.com_e3path),new Audio(ot+r.currentCure.com_e4path),new Audio(ot+r.currentCure.com_w1path),new Audio(ot+r.currentCure.com_w2path),new Audio(ot+r.currentCure.com_w3path)],r.setListener(!1),setTimeout((function(){r.setState({boxTextList:[r.cure[r.currentIndex].com_e1,r.cure[r.currentIndex].com_e2,r.cure[r.currentIndex].com_e3,r.cure[r.currentIndex].com_e4],TTobaki:w.ttobak1_1,currentIndex:r.currentIndex+1})}),e)},r.setListener=function(e){r.currentAudio[0].addEventListener("ended",(function(){r.listenerFunc(0,500)})),r.currentAudio[1].addEventListener("ended",(function(){r.listenerFunc(1,500)})),r.currentAudio[2].addEventListener("ended",(function(){r.listenerFunc(2,500)})),r.currentAudio[3].addEventListener("ended",(function(){r.listenerFunc(3,1500)})),r.currentAudio[4].addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.currentAudio[5]&&(r.currentAudio[5].play(),r.setState({TTobaki:w.ttobak3_2}))}),1e3)})),r.currentAudio[5].addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.currentAudio[6]&&(r.currentAudio[6].play(),r.setState({TTobaki:w.ttobak3_2}))}),1e3)})),r.currentAudio[6].addEventListener("ended",(function(){e?setTimeout((function(){r.voice[1].play()}),1e3):r.setState({gameState:!0,TTobaki:w.ttobak1_1})}))},r.listenerFunc=function(e,t){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.currentAudio[e+1]&&(r.currentAudio[e+1].play(),r.setState({TTobaki:w.ttobak1_2}))}),t)},r.playSound=function(){r.setState({gameState:!1,TTobaki:w.ttobak1_2}),r.currentAudio[0]&&r.currentAudio[0].play()},r.onTTobakiTouchHandle=function(){!0===r.state.gameState&&r.playSound()},r.onBoxTouchHandle=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,o,i,u,c,s,d,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,a=n.gameState,o=n.boxTextList,"tutorial"!==a){e.next=4;break}return o[t]===r.currentCure.com_ans&&(r.setState({gameState:!1}),setTimeout((function(){r.voice[2].play()}),1e3)),e.abrupt("return");case 4:if(!1!==a){e.next=6;break}return e.abrupt("return");case 6:return r.setState({gameState:!1}),e.prev=7,i=r.props.user,u=i.student.s_id,c=r.state,s=c.boxTextList,d=c.is_review,e.next=13,Dt(u,r.cure[r.currentIndex].com_ans,s[t],r.cure[r.currentIndex].com_id,d,"common","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 13:if(p=e.sent,f=p.data,console.log(f),1!==f.code){e.next=29;break}if("retry"!==f.correct_voice.voc_desc){e.next=25;break}return r.currentCure.is_first="F",r.retry_script=new Audio(ot+f.correct_voice.voc_path),r.retry_script.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1,gameState:!0})})),setTimeout((function(){r.retry_script.play(),r.setState({TTobaki:w.ttobak3_2,gameState:!1})}),1e3),e.abrupt("return");case 25:r.setState({TTobaki:w.ttobak2_2}),r.good_script=new Audio(ot+f.correct_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script.play(),r.setState({gameState:!1})}),1e3);case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(7),console.log(e.t0);case 34:case"end":return e.stop()}}),e,null,[[7,31]])})));return function(t){return e.apply(this,arguments)}}(),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.setCurrent(1e3),setTimeout((function(){r.playSound()}),3e3)):r.gameDone()},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);for(var n in e)for(var a in e[n]){var o=new Image;o.src=e[n][a],o.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),clearTimeout(t),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.learning_type=a.params.learning_type,r.currentAudio=null,r.cure=null,r.currentIndex=0,r.currentCure=null,r.numOfLoadedImage=0,r.picture={T3:B,TTobak:w},r.totalImages=Object.keys(B).length+Object.keys(w).length,r.state=Ou,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){for(var e=[this.currentAudio,this.voice],t=0;t<e.length;t++)if(e[t])for(var n=0;n<e[t].length;n++)e[t][n]&&(e[t][n].pause(),e[t][n].remove(),e[t][n]=null)}},{key:"render",value:function(){var e=this.state,t=e.boxTextList,n=e.isAnimate,r=e.TTobaki,o=e.isImageLoaded,i=e.showPopup,u=e.showDonePopup,c=e.showDailyPopup,s=e.percent,l=e.gameState,d=e.currentIndex,p=e.totalNum;return o?a.a.createElement(Su,{Background:B.t3_background,TTobak:r,onTTobakiTouchHandle:this.onTTobakiTouchHandle,boxTextList:t||["\u3131","\u3134","\u3137","\u3139"],onBoxTouchHandle:this.onBoxTouchHandle,BoxImg:B.t3_textbox,isAnimate:n,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:i,showDailyPopup:c,showDonePopup:u,gameState:l,currentIndex:d,totalNum:p}):a.a.createElement(_n,{percent:s})}}]),n}(a.a.Component);var Cu=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(ju));function Au(){var e=Object(v.a)(["\n    position: relative;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: ",";\n    right: 8%;\n    top: -80%;\n"]);return Au=function(){return e},e}function Bu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    font-size: 2.5rem;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n"]);return Bu=function(){return e},e}function Iu(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    direction: rtl;\n"]);return Iu=function(){return e},e}var Pu=x.c.div(Iu()),Ru=x.c.div(Bu(),(function(e){return e.src})),Du=x.c.div(Au(),(function(e){return e.isRecording?"#fe4a2f":"#a8aaa9"})),Lu=function(e){var t=e.text,n=e.src,r=(e.type,e.isRecording);return a.a.createElement(Pu,null,a.a.createElement(Ru,{src:n},t||"\uce5c\uad6c\ub4e4\uc544 \uce5c\uad6c\ub4e4\uc544"),a.a.createElement(Du,{isRecording:r}))};function Hu(){var e=Object(v.a)(["\n    position:absolute;\n    width: 5%;\n    top: 10%;\n    left: 37%;\n    display: ",";\n"]);return Hu=function(){return e},e}function Uu(){var e=Object(v.a)(["\n    position: absolute;\n    width: 9%;\n    top: 15vh;\n    right: 10px;\n"]);return Uu=function(){return e},e}function Nu(){var e=Object(v.a)(["\n    width: 100%;\n    height: 30vh;\n    margin-bottom: 5%;\n"]);return Nu=function(){return e},e}function qu(){var e=Object(v.a)(["\n    position:absolute;\n    width: 15%;\n    top: 10%;\n"]);return qu=function(){return e},e}function zu(){var e=Object(v.a)(["\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    justify-content: center;\n    align-items: flex-end;\n"]);return zu=function(){return e},e}var Fu=x.c.div(zu()),Mu=x.c.img(qu()),Gu=x.c.div(Nu()),Wu=x.c.img(Uu()),Yu=x.c.img(Hu(),(function(e){return e.isPlaying?"block":"none"})),Qu=function(e){var t=e.props;return a.a.createElement(Fu,null,a.a.createElement(Yu,{src:w.speech_bubble,alt:"bubble",isPlaying:t.isPlaying}),a.a.createElement(Wu,{src:C.bt_complete,alt:"complete",onTouchEnd:t.onCompleteButtonHandle}),a.a.createElement(Mu,{src:t.TTobak,alt:"\ub610\ubc15\uc774"}),a.a.createElement(Gu,null,a.a.createElement(Lu,{src:t.TextBox,text:t.text,isRecording:t.RecordingCircle})),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},Vu=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(Qu,{props:r})})},Ju={cureText:null,isRecording:!1,TTobaki:w.ttobak1_1,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0,isPlaying:!1,RecordingCircle:!1},Xu=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,console.log(n,r.idx_text),e.next=6,It(n,r.idx_text);case 6:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=12;break}return"vowelword"===r.idx_text?r.voweltutorial(o):r.consotutorial(o),e.abrupt("return");case 12:"specified"!==o.code&&1!==o.code||(r.currentIndex=0,r.cure=o.cure,r.currentCure=o.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio.addEventListener("ended",r.currentAudioListner),r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_word,totalNum:r.cure.length,currentIndex:r.currentIndex+1}),setTimeout((function(){r.playSound()}),2e3));case 13:case"end":return e.stop()}}),e)}))),r.daily=function(){console.log(r.props.location.state.data),"tutorial"!==r.props.location.state.data.code?(r.cure=r.props.location.state.data.read,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio.addEventListener("ended",r.currentAudioListner),r.setState({totalNum:r.cure.length,cureText:r.currentCure.cure_word,currentIndex:r.currentIndex+1}),setTimeout((function(){r.playSound()}),12e3)):"vowelword"===r.idx_text?r.voweltutorial(r.props.location.state.data):r.consotutorial(r.props.location.state.data)},r.voweltutorial=function(e){r.isTutorial=!0,r.setState({cureText:e.sample_ques.cure_word}),r.currentCure=e.sample_ques,r.tutorialAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio.addEventListener("ended",r.currentAudioListner),r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path),new Audio(ot+e.tut_voice[3].voc_path),new Audio(ot+e.tut_voice[4].voc_path),new Audio(ot+e.tut_voice[5].voc_path)],r.voice[0].addEventListener("ended",(function(){setTimeout((function(){r.tutorialAudio.play()}),1e3)})),r.tutorialAudio.addEventListener("ended",(function(){setTimeout((function(){r.voice[1].play()}),1e3)})),r.voice[1].addEventListener("ended",(function(){setTimeout((function(){r.recording_start_sound.play(),r.gameState="RECORDING",r.setState({isRecording:!0,RecordingCircle:!0}),r.setRecording=setInterval((function(){r.setState({RecordingCircle:!r.state.RecordingCircle})}),500),setTimeout((function(){window.BRIDGE.recordAudio(r.props.user.student.gender,r.currentCure.cure_word)}),200)}),800)}));for(var t=2;t<5;t++)r.voice[t].addEventListener("ended",(function(){setTimeout((function(){r.setState({TTobaki:w.ttobak3_1}),setTimeout((function(){r.currentAudio&&(r.playSound(),r.setState({TTobaki:w.ttobak3_2,isPlaying:!0}))}),1e3)}),800)}));r.voice[5].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,r.idx_text,r.currentCure.com_id);case 2:t=e.sent,n=t.data,console.log(n),setTimeout((function(){"daily"!==r.learning_type?r.newRequest():r.daily()}),1e3),r.currentAudio&&(r.currentAudio.remove(),r.currentAudio=null);case 7:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0].play()}),1e3)},r.consotutorial=function(e){r.isTutorial=!1,r.setState({cureText:e.sample_ques.cure_word}),r.currentCure=e.sample_ques,r.tutorialAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio.addEventListener("ended",r.currentAudioListner),r.voice=[null,new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path),new Audio(ot+e.tut_voice[3].voc_path),new Audio(ot+e.tut_voice[4].voc_path)],r.voice[1].addEventListener("ended",(function(){setTimeout((function(){r.recording_start_sound.play(),r.gameState="RECORDING",r.setState({isRecording:!0,RecordingCircle:!0}),r.setRecording=setInterval((function(){r.setState({RecordingCircle:!r.state.RecordingCircle})}),500),setTimeout((function(){window.BRIDGE.recordAudio(r.props.user.student.gender,r.currentCure.cure_word)}),200)}),800)}));for(var t=2;t<5;t++)r.voice[t].addEventListener("ended",(function(){setTimeout((function(){r.setState({TTobaki:w.ttobak3_1}),setTimeout((function(){r.currentAudio&&(r.playSound(),r.setState({TTobaki:w.ttobak3_2,isPlaying:!0}))}),1e3)}),800)}));r.voice[5].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,r.idx_text,r.currentCure.com_id);case 2:t=e.sent,n=t.data,console.log(n),setTimeout((function(){"daily"!==r.learning_type?r.newRequest():r.daily()}),1e3),r.currentAudio&&(r.currentAudio.remove(),r.currentAudio=null);case 7:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[1].play()}),1e3)},r.androidResponse=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.detail),r.audioResult=t.detail,r.andriodListener();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.stopRecording=function(e){console.log(e.detail),clearInterval(r.setRecording),r.recording_end_sound.play(),"PAUSED"!==r.gameState&&(r.gameState="PLAUING"),r.setState({isRecording:!1,RecordingCircle:!1})},r.andriodListener=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PAUSED"!==r.gameState){e.next=2;break}return e.abrupt("return");case 2:if(r.setState({TTobaki:w.ttobak2_1}),"Success"!==r.audioResult.status){e.next=32;break}if(!r.isTutorial){e.next=7;break}return r.audioResult.score<85&&++r.failedNum<3?r.voice[2].play():r.audioResult.rhythm_score<0&&++r.failedNum<3?r.voice[3].play():r.audioResult.speed_score<-5&&++r.failedNum<3?r.voice[4].play():(r.failedNum=0,r.voice[5].play(),r.isTutorial=!1),e.abrupt("return");case 7:return t=r.props.user,n=t.student.s_id,e.next=11,Pt(n,r.audioResult.score,r.audioResult.phone_score,r.audioResult.speed_score,r.audioResult.rhythm_score,"review"===r.learning_type?"T":"F",r.currentCure.cure_id,r.idx_text,"daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 11:if(a=e.sent,o=a.data,console.log(o),1!==o.code){e.next=29;break}if(o.is_pass||!(++r.failedNum<3)){e.next=22;break}return r.currentCure.is_first="F",r.retryAudio&&(r.retryAudio.remove(),r.retryAudio=null),r.retryAudio=new Audio(ot+o.class_voice[0].voc_path),r.retryAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak3_1}),setTimeout((function(){r.playSound()}),1e3)})),setTimeout((function(){r.retryAudio&&(r.retryAudio.play(),r.setState({TTobaki:w.ttobak3_2}))}),1e3),e.abrupt("return");case 22:r.good_script&&(r.good_script.remove(),r.good_script=null),r.failedNum=0,o.is_pass?r.good_script=new Audio(ot+o.class_voice.voc_path):r.good_script=new Audio(ot+o.class_voice[1].voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script&&r.good_script.play(),r.setState({TTobaki:w.ttobak2_2})}),500),e.next=30;break;case 29:2===o.code?r.gameDone():console.log(o.message);case 30:e.next=33;break;case 32:console.log(r.audioResult.message);case 33:case"end":return e.stop()}}),e)}))),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.currentAudio&&(r.currentAudio.remove(),r.currentAudio=null),r.currentAudio=new Audio(ot+r.currentCure.cure_path),r.currentAudio.addEventListener("ended",r.currentAudioListner),setTimeout((function(){r.setState({TTobaki:w.ttobak1_1,cureText:r.currentCure.cure_word,currentIndex:r.currentIndex+1})}),2e3),setTimeout((function(){r.playSound()}),4e3)):r.gameDone()},r.playSound=function(){r.currentAudio&&(r.setState({TTobaki:w.ttobak3_2,isPlaying:!0}),r.currentAudio.play(),r.gameState="AUDIOPLAYING")},r.currentAudioListner=function(){r.setState({TTobaki:w.ttobak1_1,isPlaying:!1}),setTimeout((function(){r.recording_start_sound.play(),r.gameState="RECORDING",r.setState({isRecording:!0,RecordingCircle:!0}),r.setRecording=setInterval((function(){r.setState({RecordingCircle:!r.state.RecordingCircle})}),500),setTimeout((function(){window.BRIDGE.recordAudio(r.props.user.student.gender,r.currentCure.cure_word)}),200)}),800)},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);for(var n in e)for(var a in e[n]){var o=new Image;o.src=e[n][a],o.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0,TTobaki:w.ttobak1_1}),clearTimeout(t),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1}),setTimeout((function(){r.continuePlay===r.currentAudio?r.playSound():(r.gameState="AUDIOPLAYING",r.continuePlay.play()),r.setState({TTobaki:w.ttobak3_2})}),1e3)},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){"RECORDING"===r.gameState&&(window.BRIDGE.requestStopRecording(),r.continuePlay=r.currentAudio),r.gameState="PAUSED",r.setState({showPopup:!0});var e=[r.currentAudio,r.voice,r.retryAudio,r.good_script];console.log(e);for(var t=0;t<e.length;t++)if(e[t]&&!e[t].paused&&e[t].duration>0){e[t].pause(),r.continuePlay=e[t];break}},r.onCompleteButtonHandle=function(){r.state.isRecording&&window.BRIDGE.requestStopRecording()},r.idx_text=a.params.type,r.learning_type=a.params.learning_type,r.recording_start_sound=new Audio(k.recording_start),r.recording_end_sound=new Audio(k.recording_end),r.cure=null,r.currentCure=null,r.currentIndex=0,r.currentAudio=null,r.audioResult=null,r.retryAudio=null,r.picture={T1:C,TTobak:w},r.totalImages=Object.keys(r.picture.T1).length+Object.keys(r.picture.TTobak).length,r.numOfLoadedImage=0,r.continuePlay=null,r.state=Ju,r.failedNum=0,r.gameState="PLAUING",r.isTutorial=!1,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture),window.addEventListener("android",this.androidResponse),window.addEventListener("androidStopRecording",this.stopRecording);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.isRecording&&window.BRIDGE.requestStopRecording();for(var e=[this.currentAudio,this.retryAudio,this.good_script],t=0;t<e.length;t++)e[t]&&(e[t].pause(),e[t].remove(),e[t]=null);if(this.voice)for(var n=0;n<this.voice.length;n++)this.voice[n]&&(this.voice[n].pause(),this.voice[n].remove(),this.voice[n]=null);window.removeEventListener("android",this.androidResponse),window.removeEventListener("androidStopRecording",this.stopRecording)}},{key:"componentDidCatch",value:function(e,t){console.error(e),this.setState((function(){return{err:!0,errorInfo:t}})),so.a(e,{extra:t})}},{key:"render",value:function(){var e=this.state,t=e.cureText,n=e.TTobaki,r=e.RecordingCircle,o=e.isImageLoaded,i=e.isPlaying,u=e.showPopup,c=e.showDonePopup,s=e.showDailyPopup,l=e.percent,d=e.currentIndex,p=e.totalNum;return this.state.err?a.a.createElement("div",null,"error"):o?a.a.createElement(Vu,{Background:C.t1_background,TextBox:C.t1_textbox,bt_complete:C.bt_complete,TTobak:n,isPlaying:i,text:t,RecordingCircle:r,onCompleteButtonHandle:this.onCompleteButtonHandle,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:u,showDailyPopup:s,showDonePopup:c,currentIndex:d,totalNum:p}):a.a.createElement(_n,{percent:l})}}]),n}(a.a.Component);var Ku=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Xu));function Zu(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align:center;\n    font-size: ",";\n    font-weight: bold;\n    width: 80%;\n    height: 50%;\n    z-index: 2;\n"]);return Zu=function(){return e},e}function $u(){var e=Object(v.a)(["\n    display: flex;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: 100% auto;\n    width: 100%;\n    height: 100%;\n    justify-content:center;\n    z-index: 1;\n"]);return $u=function(){return e},e}function ec(){var e=Object(v.a)(["filter: drop-shadow(0px 0px 4px #666666);"]);return ec=function(){return e},e}function tc(){var e=Object(v.a)(["filter: drop-shadow(0px 0px 2px #666666);"]);return tc=function(){return e},e}function nc(){var e=Object(v.a)(["\n    display: flex;\n    width: ",";\n    height: 100%;\n    max-width: 50vw;\n    text-align: center;\n    ","\n"]);return nc=function(){return e},e}var rc=new Audio(k.touch_effect),ac=x.c.div(nc(),(function(e){return e.cardSize||"30vw"}),(function(e){return e.isTouched?Object(x.b)(tc()):e.isTouched?void 0:Object(x.b)(ec())})),oc=x.c.div($u(),(function(e){return e.src})),ic=x.c.div(Zu(),(function(e){return e.textSize||"1rem"})),uc=function(e){var t=e.src,n=e.text,o=e.textSize,i=e.cardSize,u=e.index,c=e.onCardTouchHandle,s=e.gameState,l=Object(r.useState)(!1),d=Object(g.a)(l,2),p=d[0],f=d[1];return a.a.createElement(ac,{cardSize:i,onTouchEnd:function(){s&&(f(!1),c(u))},onTouchStart:function(){s&&(f(!0),rc.play())},isTouched:p},a.a.createElement(oc,{src:t},a.a.createElement(ic,{textSize:o},n||"\u3145")))};function cc(){var e=Object(v.a)(["\n    position: absolute;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 55vw;\n    height:85vh;\n    margin-right: 8%;\n    bottom: 0; right: 0;\n    margin-bottom: 2%;\n"]);return cc=function(){return e},e}function sc(){var e=Object(v.a)(["\n    position: absolute;\n    width: 20%;\n    height: auto;\n    top: 18%;\n    left: 4%;\n"]);return sc=function(){return e},e}function lc(){var e=Object(v.a)(["\n    display: flex;\n    height: 100vh;\n"]);return lc=function(){return e},e}var dc=x.c.div(lc()),pc=x.c.img(sc()),fc=x.c.div(cc()),mc=function(e){var t=e.props;return a.a.createElement(dc,null,a.a.createElement(pc,{src:t.TTobak,alt:"\ub610\ubc15\uc774",onTouchEnd:t.TTobakiTouch}),a.a.createElement(fc,null,a.a.createElement(uc,{src:t.Card[0],alt:"\uce74\ub4dc1",textSize:"3.5rem",cardSize:"24vw",text:t.CardTextList[0],index:0,onCardTouchHandle:t.onCardTouchHandle,gameState:t.gameState}),a.a.createElement(uc,{src:t.Card[1],alt:"\uce74\ub4dc2",textSize:"3.5rem",cardSize:"24vw",text:t.CardTextList[1],index:1,onCardTouchHandle:t.onCardTouchHandle,gameState:t.gameState})),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},hc=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(mc,{props:r})})},gc={TTobaki:w.ttobak1_1,gameState:!1,CardTextList:null,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0},bc=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,Rt(n,r.type);case 5:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=11;break}return r.tutorial(o),e.abrupt("return");case 11:"specified"===o.code||1===o.code?(r.currentIndex=0,r.cure=o.cure,r.currentCure=o.cure[r.currentIndex],r.currentCure.is_first="T",r.setAudio(),r.setState({CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2],totalNum:r.cure.length,currentIndex:r.currentIndex+1}),setTimeout((function(){return r.playSound()}),2e3)):console.log("data message: "+o.message);case 12:case"end":return e.stop()}}),e)}))),r.daily=function(){"tutorial"!==r.props.location.state.data.code?(console.log(r.props.location.state.data.cure),r.cure=r.props.location.state.data.cure,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.setAudio(),r.setState={totalNum:r.cure.length,CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2],currentIndex:r.currentIndex+1},setTimeout((function(){return r.playSound()}),2e3)):r.tutorial(r.props.location.state.data)},r.tutorial=function(e){r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path)],r.currentCure=e.sample_ques,r.tutorialAudio=new Audio(ot+r.currentCure.cure_path),r.tutorialAudio.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1}),setTimeout((function(){r.voice[1]&&r.voice[1].play()}),1e3)})),r.setState({CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2]}),r.voice[0].addEventListener("ended",(function(){setTimeout((function(){r.setState({gameState:!1,TTobaki:w.ttobak1_2}),r.tutorialAudio&&r.tutorialAudio.play()}),1e3)})),r.voice[1].addEventListener("ended",(function(){r.setState({gameState:"tutorial",TTobaki:w.ttobak1_1})})),r.voice[2].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,r.type,r.currentCure.cure_id);case 2:t=e.sent,n=t.data,console.log(n),r.setState({gameState:!1}),"daily"===r.learning_type?r.daily():r.newRequest();case 7:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0]&&r.voice[0].play()}),2e3)},r.setAudio=function(){if(r.currentAudio&&(r.currentAudio.remove(),r.currentAudio=null),"consosound"===r.type){if(r.currentCure.answer=Math.floor(2*Math.random())+1,r.currentAudio=new Audio(ot+r.currentCure.cure_path),2===r.currentCure.answer){var e=r.currentCure.cure_word;r.currentCure.cure_word=r.currentCure.cure_word2,r.currentCure.cure_word2=e}}else r.currentAudio=1===r.currentCure.answer?new Audio(ot+r.currentCure.cure_path):new Audio(ot+r.currentCure.cure_path2);r.currentAudio.addEventListener("ended",(function(){r.setState({gameState:!0,TTobaki:w.ttobak1_1})}))},r.playSound=function(){r.currentAudio&&(r.setState({gameState:!1,TTobaki:w.ttobak1_2}),r.currentAudio.play())},r.onTTobakiTouchHandle=function(){r.state.gameState&&r.playSound()},r.onCardTouchHandle=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,o,i,u,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.state,a=n.gameState,o=n.CardTextList,i=r.props.user,u=i.student.s_id,"tutorial"!==a){e.next=6;break}return 0===t&&(r.setState({gameState:!1}),setTimeout((function(){r.voice[2]&&r.voice[2].play()}),1e3)),e.abrupt("return");case 6:if(a){e.next=8;break}return e.abrupt("return");case 8:return r.setState({gameState:!1}),e.next=11,Dt(u,1===r.currentCure.answer?r.currentCure.cure_word:r.currentCure.cure_word2,o[t],r.currentCure.cure_id,"review"===r.learning_type?"T":"F",r.type,"daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 11:if(c=e.sent,s=c.data,console.log(s),1!==s.code){e.next=29;break}if("retry"!==s.correct_voice.voc_desc){e.next=23;break}return r.currentCure.is_first="F",r.retry_script=new Audio(ot+s.correct_voice.voc_path),r.retry_script.addEventListener("ended",(function(){r.setState({TTobaki:w.ttobak1_1,gameState:!0})})),setTimeout((function(){r.retry_script&&r.retry_script.play(),r.setState({TTobaki:w.ttobak3_2,gameState:!1})}),1e3),e.abrupt("return");case 23:r.setState({TTobaki:w.ttobak2_2}),r.good_script=new Audio(ot+s.correct_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script&&r.good_script.play(),r.setState({gameState:!1})}),1e3);case 27:e.next=30;break;case 29:2===s.code&&r.setState({showPopup:!0});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.setAudio(),setTimeout((function(){r.setState({CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2],TTobaki:w.ttobak1_1,currentIndex:r.currentIndex+1})}),1e3),setTimeout((function(){r.playSound()}),2e3)):setTimeout((function(){r.gameDone()}),1e3)},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.imagesPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);for(var n in e)for(var a in e[n]){var o=new Image;o.src=e[n][a],o.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0,TTobaki:w.ttobak1_1}),clearTimeout(t),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.learning_type=a.params.learning_type,r.type=a.params.type+"sound",r.cure=null,r.currentCure=null,r.currentIndex=0,r.currentAudio=null,r.numOfLoadedImage=0,r.picture={T5:I,TTobak:w,Characters:y},r.totalImages=Object.keys(I).length+Object.keys(w).length+Object.keys(y).length,r.state=gc,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.remove(),this.currentAudio=null),this.tutorialAudio&&(this.tutorialAudio.pause(),this.tutorialAudio.remove(),this.tutorialAudio=null),this.voice)for(var e=0;e<this.voice.length;e++)this.voice[e]&&(this.voice[e].pause(),this.voice[e].remove(),this.voice[e]=null)}},{key:"render",value:function(){var e=this.state,t=e.TTobaki,n=e.CardTextList,r=e.isImageLoaded,o=e.showPopup,i=e.showDonePopup,u=e.showDailyPopup,c=e.percent,s=e.gameState,l=e.currentIndex,d=e.totalNum;return r?a.a.createElement(hc,{Background:I.t5_background,TTobak:t,TTobakiTouch:this.onTTobakiTouchHandle,Card:[y.card1,y.card2],CardTextList:n||["\uc544","\uc5d0"],onCardTouchHandle:this.onCardTouchHandle,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:o,showDailyPopup:u,showDonePopup:i,gameState:s,currentIndex:l,totalNum:d}):a.a.createElement(_n,{percent:c})}}]),n}(a.a.Component);var vc=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(bc));function xc(){var e=Object(v.a)(["\n    width: auto;\n    height: 78%;\n"]);return xc=function(){return e},e}function _c(){var e=Object(v.a)(["filter: drop-shadow(0px 0px 4px #666666);"]);return _c=function(){return e},e}function wc(){var e=Object(v.a)(["filter: drop-shadow(0px 0px 2px #666666);"]);return wc=function(){return e},e}function yc(){var e=Object(v.a)(["\n    display: flex;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n    width: ",";\n    height: ",";\n    justify-content:center;\n    align-items: center;\n    ","\n"]);return yc=function(){return e},e}var kc=new Audio(k.touch_effect),Ec=x.c.div(yc(),(function(e){return e.src}),(function(e){return e.frameSize}),(function(e){return e.frameSize}),(function(e){return e.isTouched?Object(x.b)(wc()):e.isTouched?void 0:Object(x.b)(_c())})),Tc=x.c.img(xc()),Sc=function(e){var t=e.src,n=e.frameSize,o=e.index,i=e.onFrameTouchHandle,u=e.gameState,c=Object(r.useState)(!1),s=Object(g.a)(c,2),l=s[0],d=s[1];return a.a.createElement(Ec,{src:P.t6_frame,frameSize:n||"100%",onTouchEnd:function(){u&&(d(!1),i(o))},onTouchStart:function(){u&&(d(!0),kc.play())},isTouched:l},a.a.createElement(Tc,{src:t||P.t6_excpic,alt:"\uadf8\ub9bc"}))};function Oc(){var e=Object(v.a)(["\n    position:absolute;\n    height: 60%;\n    bottom: 7%;\n    right: 5%;\n"]);return Oc=function(){return e},e}function jc(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-evenly;\n    align-items:flex-end;\n    width: 80vw;\n    height: ",";\n"]);return jc=function(){return e},e}function Cc(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    width: 100vw;\n    height: 100vh;\n"]);return Cc=function(){return e},e}var Ac=x.c.div(Cc()),Bc=x.c.div(jc(),(function(e){return e.frameSize})),Ic=x.c.img(Oc()),Pc=function(e){var t=e.props;return a.a.createElement(Ac,null,a.a.createElement(Bc,null,t.frameList.map((function(e,n){return a.a.createElement(Sc,{key:n,src:e,frameSize:"40vh",onFrameTouchHandle:t.onFrameTouchHandle,index:n,gameState:t.gameState})}))),a.a.createElement(Ic,{src:t.Worm,alt:"worm",onTouchEnd:t.onWormTouchHandle}),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},Rc=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(Pc,{props:r})})},Dc={gameState:!1,PicBoxList:null,Worm:y.worm2_2,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0},Lc=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).getListFilter=function(e,t){return r.cure.filter((function(n){return n[e]===t}))[0]},r.newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,Lt(n);case 5:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=11;break}return r.tutorial(o),e.abrupt("return");case 11:"specified"===o.code||1===o.code?(r.currentIndex=0,r.answer=o.answer,r.cure=o.cure,r.numOfLoadedImage!==r.totalImages&&r.pictursPreloading(r.cure),r.totalImages+=r.cure.length,r.setCurrent(0),r.setState({totalNum:r.cure.length,currentIndex:r.currentIndex+1}),setTimeout((function(){return r.playSound()}),2e3)):console.log("data message: "+o.message);case 12:case"end":return e.stop()}}),e)}))),r.daily=function(){"tutorial"!==r.props.location.state.data.code?(console.log(r.props.location.state.data),r.answer=r.props.location.state.data.answer,r.cure=r.props.location.state.data.cure,r.currentCure=r.answer[r.currentIndex],r.currentCure.is_first="T",r.numOfLoadedImage!==r.totalImages&&r.pictursPreloading(r.cure),r.setState({totalNum:r.answer.length,currentIndex:r.currentIndex+1,PicBoxList:[ot+r.getListFilter("cure_tid",r.currentCure[0]).cure_path2,ot+r.getListFilter("cure_tid",r.currentCure[1]).cure_path2,ot+r.getListFilter("cure_tid",r.currentCure[2]).cure_path2]}),r.currentAudio=new Audio(ot+r.getListFilter("cure_tid",r.currentCure[3][0]).cure_path),r.currentAudio.addEventListener("ended",(function(){r.setState({gameState:!0,Worm:y.worm2_2})})),setTimeout((function(){return r.playSound()}),2e3)):r.tutorial(r.props.location.state.data)},r.tutorial=function(e){r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path),new Audio(ot+e.tut_voice[2].voc_path)],r.currentCure=e.sample_ques,r.setState({PicBoxList:[ot+r.currentCure[0].cure_path2,ot+r.currentCure[1].cure_path2,ot+r.currentCure[2].cure_path2]}),r.currentAudio=new Audio(ot+r.currentCure[0].cure_path),r.currentAudio.addEventListener("ended",(function(){r.setState({Worm:y.worm2_2}),setTimeout((function(){r.voice[1].play()}),1e3)})),r.voice[0].addEventListener("ended",(function(){setTimeout((function(){r.playSound()}),1e3)})),r.voice[1].addEventListener("ended",(function(){r.setState({gameState:"tutorial",Worm:y.worm2_2})})),r.voice[2].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,"consomatch",r.currentCure.cure_id);case 2:t=e.sent,n=t.data,console.log(n),"daily"===r.learning_type?r.daily():r.newRequest(),r.currentAudio=null,r.currentCure=null,r.voice=null;case 9:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0].play()}),2e3)},r.setCurrent=function(e){r.currentCure=r.answer[r.currentIndex],r.currentCure.is_first="T",r.currentAudio&&r.currentAudio.remove(),r.currentAudio=null,r.currentAudio=new Audio(ot+r.getListFilter("cure_tid",r.currentCure[3][0]).cure_path),r.currentAudio.addEventListener("ended",(function(){r.setState({gameState:!0,Worm:y.worm2_2})})),setTimeout((function(){r.setState({PicBoxList:[ot+r.getListFilter("cure_tid",r.currentCure[0]).cure_path2,ot+r.getListFilter("cure_tid",r.currentCure[1]).cure_path2,ot+r.getListFilter("cure_tid",r.currentCure[2]).cure_path2],currentIndex:r.currentIndex+1,Worm:y.worm2_2})}),e)},r.playSound=function(){r.currentAudio&&(r.setState({gameState:!1,Worm:y.worm2_1}),r.currentAudio.play())},r.gameDone=function(){console.log("done!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.onFrameTouchHandle=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,o,i,u,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tutorial"!==(n=r.state.gameState)){e.next=4;break}return 0===t&&(r.setState({gameState:!1}),setTimeout((function(){r.voice[2].play()}),1e3)),e.abrupt("return");case 4:if(n){e.next=6;break}return e.abrupt("return");case 6:return r.setState({gameState:!1}),a=r.props.user,o=a.student.s_id,i=[r.getListFilter("cure_tid",r.currentCure[0]).cure_id,r.getListFilter("cure_tid",r.currentCure[1]).cure_id,r.getListFilter("cure_tid",r.currentCure[2]).cure_id],e.next=12,Ht(o,i,r.getListFilter("cure_tid",r.currentCure[t]).cure_word,r.getListFilter("cure_tid",r.currentCure[3][0]).cure_word,"review"===r.learning_type?"T":"F","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 12:u=e.sent,c=u.data,console.log(c),e.t0=c.code,e.next=1===e.t0?18:2===e.t0?31:34;break;case 18:if("retry"!==c.correct_voice.voc_desc){e.next=26;break}return r.currentCure.is_first="F",r.retry_script=new Audio(ot+c.correct_voice.voc_path),r.retry_script.addEventListener("ended",(function(){r.setState({gameState:!0,Worm:y.worm2_2})})),setTimeout((function(){r.retry_script.play(),r.setState({gameState:!1,Worm:y.worm2_1})}),1e3),e.abrupt("return");case 26:r.setState({Worm:y.worm3_1}),r.good_script=new Audio(ot+c.correct_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script.play(),r.setState({gameState:!1})}),1e3);case 30:return e.abrupt("break",36);case 31:return console.log(c.message),r.gameDone(),e.abrupt("break",36);case 34:return r.props.history.push("/main/main"),e.abrupt("break",36);case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.nextStep=function(){r.currentIndex<r.answer.length-1?(r.currentIndex++,r.setCurrent(1e3),setTimeout((function(){r.playSound()}),2e3)):r.gameDone()},r.onWormTouchHandle=function(){r.state.gameState&&r.playSound()},r.pictursPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);try{for(var n in e){var a=new Image;a.src=ot+e[n].cure_path2,a.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),setTimeout((function(){return r.playSound()}),1e3),clearTimeout(t))}}}catch(o){console.log(o)}},r.imagesPreloading=function(e){for(var t in e)for(var n in e[t]){var a=new Image;a.src=e[t][n],a.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.learning_type=a.params.learning_type,r.cure=null,r.answer=null,r.currentCure=null,r.currentAudio=null,r.currentIndex=0,r.numOfLoadedImage=0,r.picture={T6:P,Characters:y},r.totalImages=Object.keys(P).length+Object.keys(y).length,r.state=Dc,r}return Object(f.a)(n,[{key:"componentDidCatch",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.imagesPreloading(this.picture),(t=this.props.user).user.u_id&&t.student.s_id){e.next=5;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.remove(),this.currentAudio=null),this.voice)for(var e=0;e<this.voice.length;e++)this.voice[e]&&(this.voice[e].pause(),this.voice[e].remove(),this.voice[e]=null)}},{key:"render",value:function(){var e=this.state,t=e.PicBoxList,n=e.Worm,r=e.isImageLoaded,o=e.showPopup,i=e.percent,u=e.gameState,c=e.showDailyPopup,s=e.showDonePopup,l=e.currentIndex,d=e.totalNum;return r?a.a.createElement(Rc,{Background:P.t6_background,Worm:n,onWormTouchHandle:this.onWormTouchHandle,frameList:t||[P.t6_excpic,P.t6_excpic,P.t6_excpic],onFrameTouchHandle:this.onFrameTouchHandle,showPopup:o,onContinueButtonHandle:this.onContinueButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,showDailyPopup:c,showDonePopup:s,gameState:u,currentIndex:l,totalNum:d}):a.a.createElement(_n,{percent:i})}}]),n}(a.a.Component);var Hc=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Lc));function Uc(){var e=Object(v.a)(["\n    width: auto;\n    height: 78%;\n"]);return Uc=function(){return e},e}function Nc(){var e=Object(v.a)(["\n    display: flex;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: auto 100%;\n    background-position: center;\n    width: 100%;\n    height: 100%;\n    justify-content:center;\n    align-items: center;\n"]);return Nc=function(){return e},e}var qc=x.c.div(Nc(),(function(e){return e.src})),zc=x.c.img(Uc()),Fc=function(e){var t=e.src;return a.a.createElement(qc,{src:R.t7_frame},a.a.createElement(zc,{src:t,alt:"\uadf8\ub9bc"}))};function Mc(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    flex-direction: row;\n    position: absolute;\n    bottom: 0;\n    margin-bottom: 2%;\n    width: calc(100vw - 11%);\n    height:75vh;\n"]);return Mc=function(){return e},e}function Gc(){var e=Object(v.a)(["\n    width: ",";\n    height: ",";\n    max-width: 300px;\n    margin-top: 3%;\n"]);return Gc=function(){return e},e}function Wc(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    height: 100vh;\n"]);return Wc=function(){return e},e}var Yc=x.c.div(Wc()),Qc=x.c.div(Gc(),(function(e){return e.picSize}),(function(e){return e.picSize})),Vc=x.c.div(Mc()),Jc=function(e){var t=e.props;return a.a.createElement(Yc,null,a.a.createElement(Qc,{picSize:"40vw"},a.a.createElement(Fc,{src:t.picBox})),a.a.createElement(Vc,null,a.a.createElement(uc,{src:t.Card[0],alt:"\uce74\ub4dc1",textSize:"6.5rem",cardSize:"22vw",text:t.CardTextList[0],onCardTouchHandle:t.onCardTouchHandle,gameState:t.gameState,index:0}),a.a.createElement(uc,{src:t.Card[1],alt:"\uce74\ub4dc2",textSize:"6.5rem",cardSize:"22vw",text:t.CardTextList[1],onCardTouchHandle:t.onCardTouchHandle,gameState:t.gameState,index:1})),t.showPopup?a.a.createElement(sr,{onContinueButtonHandle:t.onContinueButtonHandle}):null,t.showDonePopup?a.a.createElement(To,{onRestartButtonHandle:t.onRestartButtonHandle}):null,t.showDailyPopup?a.a.createElement(qo,null):null)},Xc=function(e){var t=e.Background,n=e.onPauseButtonHandle,r=Object(b.a)(e,["Background","onPauseButtonHandle"]);return a.a.createElement(Bn,{BackgroundImg:t,onPauseButtonHandle:n,currentIndex:r.currentIndex,totalNum:r.totalNum,Children:a.a.createElement(Jc,{props:r})})},Kc={gameState:!1,picBox:null,CardTextList:null,isImageLoaded:!1,showPopup:!1,showDonePopup:!1,showDailyPopup:!1,percent:0,currentIndex:1,totalNum:0},Zc=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r,a=e.match;return Object(p.a)(this,n),(r=t.call(this)).newRequest=Object(d.a)(l.a.mark((function e(){var t,n,a,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("new request"),t=r.props.user,n=t.student.s_id,e.next=5,Rt(n,"consocommon");case 5:if(a=e.sent,o=a.data,console.log(o),"tutorial"!==o.code){e.next=11;break}return r.tutorial(o),e.abrupt("return");case 11:if("specified"===o.code||1===o.code){for(i in r.currentIndex=0,r.cure=o.cure,r.totalImages+=r.cure.length,r.pictursPreloading(r.cure),r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.cure)r.cure[i].answer=Math.floor(2*Math.random());r.setState({gameState:!0,picBox:ot+r.currentCure.cure_path,CardTextList:0===r.currentCure.answer?[r.currentCure.cure_word,r.currentCure.cure_word2]:[r.currentCure.cure_word2,r.currentCure.cure_word],totalNum:r.cure.length,currentIndex:r.currentIndex+1})}else console.log("data message: "+o.message);case 12:case"end":return e.stop()}}),e)}))),r.daily=function(){"tutorial"!==r.props.location.state.data.code?(console.log(r.props.location.state.data.cure),r.cure=r.props.location.state.data.cure,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.setState({totalNum:r.cure.length,currentIndex:r.currentIndex+1,picBox:ot+r.currentCure.cure_path,CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2]})):r.tutorial(r.props.location.state.data)},r.tutorial=function(e){r.voice=[new Audio(ot+e.tut_voice[0].voc_path),new Audio(ot+e.tut_voice[1].voc_path)],r.currentCure=e.sample_ques,r.setState({picBox:ot+r.currentCure.cure_path,CardTextList:[r.currentCure.cure_word,r.currentCure.cure_word2]}),r.voice[0].addEventListener("ended",(function(){r.setState({gameState:"tutorial"})})),r.voice[1].addEventListener("ended",Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r.props.user.student.s_id,"consocommon",r.currentCure.cure_id);case 2:t=e.sent,n=t.data,console.log(n),r.setState({gameState:!1}),"daily"===r.learning_type?r.daily():r.newRequest(),r.voice=null;case 8:case"end":return e.stop()}}),e)})))),setTimeout((function(){r.voice[0].play()}),2e3)},r.playSound=function(){r.currentAudio&&r.setState({gameState:!1})},r.gameDone=function(){console.log("game doen!"),"daily"!==r.learning_type?r.setState({showDonePopup:!0}):r.setState({showDailyPopup:!0})},r.onCardTouchHandle=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,o,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("tutorial"!==(n=r.state.gameState)){e.next=4;break}return 0===t&&(r.setState({gameState:!1}),setTimeout((function(){r.voice[1].play()}),1e3)),e.abrupt("return");case 4:if(!1!==n){e.next=6;break}return e.abrupt("return");case 6:return r.setState({gameState:!1}),a=r.props.user,o=a.student.s_id,e.next=11,Dt(o,r.currentCure.cure_word,r.state.CardTextList[t],r.currentCure.cure_id,"review"===r.learning_type?"T":"F","consocommon","daily"===r.learning_type?"T":"F",r.currentCure.is_first);case 11:if(i=e.sent,u=i.data,console.log(u),1!==u.code){e.next=26;break}if("retry"!==u.correct_voice.voc_desc){e.next=23;break}return r.currentCure.is_first="F",r.retry_script=new Audio(ot+u.correct_voice.voc_path),r.retry_script.addEventListener("ended",(function(){r.setState({gameState:!0})})),setTimeout((function(){r.retry_script.play(),r.setState({gameState:!1})}),1e3),e.abrupt("return");case 23:r.good_script=new Audio(ot+u.correct_voice.voc_path),r.good_script.addEventListener("ended",(function(){return r.nextStep()})),setTimeout((function(){r.good_script.play(),r.setState({gameState:!1})}),1e3);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.nextStep=function(){r.currentIndex<r.cure.length-1?(r.currentIndex++,r.currentCure=r.cure[r.currentIndex],r.currentCure.is_first="T",r.setState({gameState:!0,picBox:ot+r.currentCure.cure_path,CardTextList:0===r.currentCure.answer?[r.currentCure.cure_word,r.currentCure.cure_word2]:[r.currentCure.cure_word2,r.currentCure.cure_word],currentIndex:r.currentIndex+1})):r.gameDone()},r.onTreeTouchEndHandle=function(){r.setState({isDragging:!1})},r.pictursPreloading=function(e){var t=setTimeout((function(){r.props.history.push("/main/main")}),1e4);try{for(var n in e){var a=new Image;a.src=ot+e[n].cure_path,a.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),clearTimeout(t))}}}catch(o){console.log(o)}},r.imagesPreloading=function(e){for(var t in e)for(var n in e[t]){var a=new Image;a.src=e[t][n],a.onload=function(){r.setState({percent:++r.numOfLoadedImage/r.totalImages*100}),r.numOfLoadedImage===r.totalImages&&(r.setState({isImageLoaded:!0}),"daily"!==r.learning_type?r.newRequest():r.daily())}}},r.onContinueButtonHandle=function(){r.setState({showPopup:!1})},r.onRestartButtonHandle=function(){r.setState({showDonePopup:!1}),r.newRequest(),setTimeout((function(){return r.playSound()}),2e3)},r.onPauseButtonHandle=function(){r.setState({showPopup:!0})},r.learning_type=a.params.learning_type,r.cure=null,r.currentCure=null,r.currentIndex=0,r.numOfLoadedImage=0,r.picture={T7:R,Characters:y},r.totalImages=Object.keys(R).length+Object.keys(y).length,r.state=Kc,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.user).user.u_id&&t.student.s_id){e.next=4;break}return this.props.history.push("/root/signin"),e.abrupt("return");case 4:this.imagesPreloading(this.picture);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if(this.voice)for(var e=0;e<this.voice.length;e++)this.voice[e]&&(this.voice[e].pause(),this.voice[e].remove(),this.voice[e]=null)}},{key:"render",value:function(){var e=this.state,t=e.CardTextList,n=e.picBox,r=e.isImageLoaded,o=e.showPopup,i=e.showDonePopup,u=e.showDailyPopup,c=e.percent,s=e.gameState,l=e.currentIndex,d=e.totalNum;return r?a.a.createElement(Xc,{Background:R.t7_background,Card:[y.card1,y.card2],CardTextList:t||["\u3131","\u3134"],picBox:n||R.t7_excpic,onCardTouchHandle:this.onCardTouchHandle,onContinueButtonHandle:this.onContinueButtonHandle,onRestartButtonHandle:this.onRestartButtonHandle,onPauseButtonHandle:this.onPauseButtonHandle,showPopup:o,showDailyPopup:u,showDonePopup:i,gameState:s,currentIndex:l,totalNum:d}):a.a.createElement(_n,{percent:c})}}]),n}(a.a.Component);var $c=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Zc));function es(){var e=Object(v.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    /* background-color: grey; */\n    z-index: 2;\n"]);return es=function(){return e},e}function ts(){var e=Object(v.a)(["\n    width: 100%;\n    padding-top: 3px;\n    text-align: center;\n    font-size: 0.45rem;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    color: #464646;\n    z-index: 1;\n"]);return ts=function(){return e},e}function ns(){var e=Object(v.a)(["\n    font-family: 'paybooc-Bold';\n    width: 100%;\n    text-align: center;\n    font-size: 1.4rem;\n    color: #464646;\n    z-index: 1;\n"]);return ns=function(){return e},e}function rs(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 2%;\n"]);return rs=function(){return e},e}function as(){var e=Object(v.a)(["\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    width: calc(100% - 90px);\n    height: calc(100% - 90px);\n    padding: 3%;\n    background-color: rgba(255,255,255,0.8);\n    border-radius: 40px 90px / 80px 40px;\n    z-index: 0;\n"]);return as=function(){return e},e}function os(){var e=Object(v.a)(["\n    width: 100vw;\n    height: 100vh;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n"]);return os=function(){return e},e}var is=x.c.div(os(),(function(e){return e.src})),us=x.c.div(as()),cs=x.c.div(rs()),ss=x.c.div(ns()),ls=x.c.div(ts()),ds=x.c.div(es());var ps=function(e){var t=e.background,n=e.title,r=e.Content,o=e.subTitle,i=e.goBack,u=e.showPopup,c=e.onButtonTouchEnd,s=e.text;return console.log(i),a.a.createElement(is,{src:t},!i||a.a.createElement(Jt,{link:"/",goBack:i}),a.a.createElement(us,null,a.a.createElement(cs,null,a.a.createElement(ss,null,n),o&&a.a.createElement(ls,null,o)),a.a.createElement(ds,null,a.a.createElement(r,null))),u?a.a.createElement(Xe,{text:s,onButtonTouchEnd:c}):null)};function fs(){var e=Object(v.a)(["\n    margin-top: 5px;\n"]);return fs=function(){return e},e}function ms(){var e=Object(v.a)(["\n    width: 100%;\n    margin-top: 3px;\n"]);return ms=function(){return e},e}function hs(){var e=Object(v.a)(["\n    width: 260px;\n    height: 36px;\n    border-radius: 10px;\n    margin: 5px 0px;\n    padding: 0px 15px;\n    background-color: #ffffff;\n    border-color: #ffffff;\n    color: #464646;\n"]);return hs=function(){return e},e}function gs(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return gs=function(){return e},e}function bs(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return bs=function(){return e},e}var vs=x.c.div(bs()),xs=x.c.div(gs()),_s=x.c.input(hs()),ws=x.c.div(ms()),ys=Object(x.c)(u.b)(fs()),ks={email:"",pw:""},Es=function(e){ks.email=e.target.value},Ts=function(e){ks.pw=e.target.value};var Ss=function(e){var t=e.handleSubmit;return a.a.createElement(vs,null,a.a.createElement(xs,null,a.a.createElement(_s,{type:"text",placeholder:"\uc774\uba54\uc77c",onChange:Es}),a.a.createElement(_s,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onChange:Ts}),a.a.createElement(ws,null,a.a.createElement(u.b,{to:"/root/forgotpassword"},"\ube44\ubc00\ubc88\ud638\ub97c \uc78a\uc73c\uc168\ub098\uc694?"))),a.a.createElement(Sa,{onClick:function(e){t(e,ks)},text:"\ud655\uc778",to:"/"}),a.a.createElement(ys,{to:"/root/signup"},"\ud68c\uc6d0 \uac00\uc785"))};var Os=function(e){var t=e.handleSubmit;return a.a.createElement(ps,{background:E.root_background,title:"\ub610\ubc15\uc774 \ub85c\uadf8\uc778",Content:function(){return Ss({handleSubmit:t})}})},js=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(p.a)(this,n),(r=t.call(this,e)).handleSubmit=function(e,t){var n=t.email,a=t.pw;e.preventDefault();r.props.user;var o=r.props.dispatch;if(!n||!a)return r.makeAlert("\ube60\uc9c4 \ubd80\ubd84 \uc5c6\uc774 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){r.enableAlert=!1,r.forceUpdate()})),!1;o(function(e,t){return{type:"USER_SIGNIN",promise:{method:"post",url:"user/sign_in",data:{email:e,pw:t}}}}(n,a)),r.isSigninCalled=!0};var a=r.props.dispatch;return r.enableAlert=!1,r.isSigninCalled=!1,a(function(){var e=window.localStorage.getItem("u_id");return{type:"USER_AUTOLOGIN",data:e?{u_id:e}:{}}}()),r}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;this.props.history;if(t.isLoggedIn)return this.props.history.push("/root/selectstd"),void(this.isSigninCalled=!1);this.isSigninCalled&&t.response.data&&1!==t.response.data.code&&(n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\uc774\uba54\uc77c\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),this.isSigninCalled=!1)}},{key:"render",value:function(){var e=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,e,a.a.createElement(Os,{handleSubmit:this.handleSubmit}))}}]),n}(a.a.Component);var Cs=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(js));function As(){var e=Object(v.a)(["\n    width: 260px;\n    height: 36px;\n    border-radius: 10px;\n    margin: 5px 0px;\n    padding: 0px 15px;\n    background-color: #ffffff;\n    border-color: #ffffff;\n    color: #464646;\n"]);return As=function(){return e},e}function Bs(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Bs=function(){return e},e}function Is(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Is=function(){return e},e}var Ps=x.c.div(Is()),Rs=x.c.div(Bs()),Ds=x.c.input(As()),Ls={name:"",email:"",pw:"",pw_check:""},Hs=function(e){Ls.name=e.target.value},Us=function(e){Ls.email=e.target.value},Ns=function(e){Ls.pw=e.target.value},qs=function(e){Ls.pw_check=e.target.value};var zs=function(e){var t=e.handleSubmit;return a.a.createElement(Ps,null,a.a.createElement(Rs,null,a.a.createElement(Ds,{type:"text",placeholder:"\ub2c9\ub124\uc784",onChange:Hs}),a.a.createElement(Ds,{type:"text",placeholder:"\uc774\uba54\uc77c",onChange:Us}),a.a.createElement(Ds,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onChange:Ns}),a.a.createElement(Ds,{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",onChange:qs})),a.a.createElement(Sa,{onClick:function(e){t(e,Ls)},text:"\ud68c\uc6d0 \uac00\uc785",to:"/root/addstd/1"}))};var Fs=function(e){var t=e.handleSubmit,n=e.goBack;return a.a.createElement(ps,{background:E.root_background,title:"\ub610\ubc15\uc774 \ud68c\uc6d0 \uac00\uc785",Content:function(){return a.a.createElement(zs,{handleSubmit:t})},goBack:n})},Ms=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).handleSubmit=function(t,n){var r=n.name,a=n.email,o=n.pw,i=n.pw_check;t.preventDefault();e.props.user;var u=e.props.dispatch;return r&&a&&o&&i?o!==i?(e.makeAlert("\ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc774 \uac19\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1):(u(function(e,t,n){return{type:"USER_REGISTER",promise:{method:"post",url:"user/register",data:{email:e,pw:t,name:n}}}}(a,o,r)),void(e.isRegisterCalled=!0)):(e.makeAlert("\ube60\uc9c4 \ubd80\ubd84 \uc5c6\uc774 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1)},e.goBack=function(){e.props.history.goBack()},e.enableAlert=!1,e.isRegisterCalled=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;this.props.history;if(t.user.u_id&&this.isRegisterCalled&&t.response.data&&1===t.response.data.code)return this.makeAlert("\ud68c\uc6d0 \uac00\uc785\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")})),void(this.isRegisterCalled=!1);this.isRegisterCalled&&t.response.data&&2===t.response.data.code&&(n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),this.isRegisterCalled=!1)}},{key:"render",value:function(){var e=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,e,a.a.createElement(Fs,{handleSubmit:this.handleSubmit,goBack:this.goBack}))}}]),n}(a.a.Component);var Gs=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Ms));function Ws(){var e=Object(v.a)(["\n    width: 260px;\n    height: 36px;\n    border-radius: 10px;\n    margin: 5px 0px;\n    padding: 0px 15px;\n    background-color: #ffffff;\n    border-color: #ffffff;\n    color: #464646;\n"]);return Ws=function(){return e},e}function Ys(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Ys=function(){return e},e}function Qs(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Qs=function(){return e},e}var Vs=x.c.div(Qs()),Js=x.c.div(Ys()),Xs=x.c.input(Ws());var Ks=function(e){var t=e.handleSubmit;return a.a.createElement(Vs,null,a.a.createElement(Js,null,a.a.createElement(Xs,{type:"text",placeholder:"\uc774\uba54\uc77c"})),a.a.createElement(Sa,{onClick:t,text:"\ud655\uc778",to:"/root/signin"}))};var Zs=function(e){e.handleSubmit,e.setId,e.setPassword;var t=e.goBack;return a.a.createElement(ps,{background:E.root_background,title:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30",Content:Ks,goBack:t})},$s=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={id:null,password:null},e.goBack=function(){e.props.history.goBack()},e}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(Zs,{goBack:this.goBack})}}]),n}(a.a.Component),el=Object(c.g)($s);function tl(){var e=Object(v.a)(["\n    border-color: #ffffff00;\n    background-color: rgba(0,0,0,0);\n    border-bottom-color: #d2d2d2;\n    height: 25px;\n    width: 60%;\n    /* opacity: 0%; */\n"]);return tl=function(){return e},e}function nl(){var e=Object(v.a)(["\n    font-size: 1rem;\n    padding-right: 20px;\n"]);return nl=function(){return e},e}function rl(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return rl=function(){return e},e}var al=x.c.div(rl()),ol=x.c.div(nl()),il=x.c.input(tl());var ul=function(e){var t=e.text,n=e.defaultValue,r=e.placeholder,o=e.handler;return a.a.createElement(al,null,a.a.createElement(ol,null,t),a.a.createElement(il,{type:"text",defaultValue:n,placeholder:r,onChange:o}))};function cl(){var e=Object(v.a)(["\n    margin: 2px 0 0 2px;\n    float: left;\n    clear: none;\n"]);return cl=function(){return e},e}function sl(){var e=Object(v.a)(["\n    width: 40%;\n    text-align: left;\n    padding: 0 5px;\n    display: inline-block;\n    float: left;\n    clear: none;\n"]);return sl=function(){return e},e}function ll(){var e=Object(v.a)(["\n    width: 60%;\n    text-align: left;\n"]);return ll=function(){return e},e}function dl(){var e=Object(v.a)(["\n    font-size: 1rem;\n    padding-right: 20px;\n"]);return dl=function(){return e},e}function pl(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return pl=function(){return e},e}function fl(){var e=Object(v.a)(["\n    border-radius: 100%;\n    background-color: grey;\n    width: 100px;\n    height: 100px;\n"]);return fl=function(){return e},e}function ml(){var e=Object(v.a)(["\n    display: flex;\n    flex: 2;\n    height: 100%;\n    flex-direction: column;\n    justify-content: space-evenly;\n    padding-left: 20px;\n"]);return ml=function(){return e},e}function hl(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return hl=function(){return e},e}function gl(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    width: 80%;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    /* background-color: antiquewhite; */\n"]);return gl=function(){return e},e}var bl=x.c.div(gl()),vl=x.c.div(hl()),xl=x.c.div(ml()),_l=x.c.img(fl()),wl=x.c.div(pl()),yl=x.c.div(dl()),kl=x.c.div(ll()),El=x.c.label(sl()),Tl=x.c.input(cl()),Sl={name:"",birth:"",gender:""},Ol=function(e){Sl.name=e.target.value},jl=function(e){Sl.birth=e.target.value},Cl=function(e){Sl.gender=e.target.value};var Al=function(e){var t=e.iconNum,n=e.state,r=e.handleSubmit,o=a.a.createElement(_l,{src:E.IconList[t],alt:"\ud504\ub85c\ud544 \uc0ac\uc9c4"});return E.IconList[t]||(o=a.a.createElement(_l,null)),a.a.createElement(bl,null,a.a.createElement(vl,null,a.a.createElement(u.b,{to:"/root/selecticon"},o),a.a.createElement(xl,null,a.a.createElement(ul,{text:"\ub2c9\ub124\uc784",placeholder:"\uac1c\ubbf8",defaultValue:n.name,handler:Ol}),a.a.createElement(ul,{text:"\ud0dc\uc5b4\ub09c \ub144\ub3c4",placeholder:"2010",defaultValue:n.birth,handler:jl}),a.a.createElement(wl,null,a.a.createElement(yl,null,"\uc131\ubcc4"),a.a.createElement(kl,null,a.a.createElement(Tl,{type:"radio",name:"gender",id:"radio_m",value:"m",onClick:Cl,defaultChecked:"m"===n.gender}),a.a.createElement(El,{htmlFor:"radio_m"},"\ub0a8\uc790"),a.a.createElement(Tl,{type:"radio",name:"gender",id:"radio_f",value:"f",onClick:Cl,defaultChecked:"f"===n.gender}),a.a.createElement(El,{htmlFor:"radio_f"},"\uc5ec\uc790"))))),a.a.createElement(Sa,{text:"\uac80\uc0ac \uc2dc\uc791",onClick:function(e){r(e,Sl)},to:"/"}))},Bl=function(e){var t=e.iconNum,n=e.handleSubmit,r=e.state,o=e.goBack;return a.a.createElement(ps,{background:E.root_background,title:"\ud559\uc2b5\uc790 \ucd94\uac00",subTitle:"\ud559\uc2b5\uc790 \ub4f1\ub85d\uc744 \uc644\ub8cc\ud558\uba74 \uac80\uc0ac\ub97c \uc2dc\uc791\ud569\ub2c8\ub2e4",Content:function(){return Al({state:r,iconNum:t,handleSubmit:n})},goBack:o})},Il=n(132),Pl=n.n(Il),Rl=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.handleSubmit=function(t,n){t.preventDefault();var r=e.props.user,a=e.props.dispatch,o=n.name,i=n.birth,u=n.gender;e.setState({name:o,birth:i,gender:u});var c=e.props.match.params.icon;return c?o&&i&&u?4!==i.length||isNaN(i)||!Pl()(i,"YYYY",!0).isValid()?(e.makeAlert("\uc62c\ubc14\ub978 \ub144\ub3c4\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1):(a(function(e,t,n,r,a){return{type:"STUDENT_ADD",promise:{method:"post",url:"student/add",data:{name:e,birth:t,gender:n,ic_id:r,u_id:a}}}}(o,i,u,c,r.user.u_id)),e.isStudentAddCalled=!0,!0):(e.makeAlert("\ube60\uc9c4 \ubd80\ubd84 \uc5c6\uc774 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1):(e.makeAlert("\uc544\uc774\ucf58\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1)},e.enableAlert=!1,e.isStudentAddCalled=!1,e.state={name:"",birth:"",gender:"m"},e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;this.props.user.user.u_id||this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")}))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;if(this.isStudentAddCalled&&t.student.s_id&&t.user.u_id)return n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\ud559\uc2b5\uc790 \ucd94\uac00\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/main/main")})),void(this.isStudentAddCalled=!1);this.isStudentAddCalled&&t.response.data&&2===t.response.data.code&&(n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud68c\uc6d0\uc785\ub2c8\ub2e4.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),this.isStudentAddCalled=!1),this.isStudentAddCalled&&t.response.data&&3===t.response.data.code&&(n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\ud559\uc2b5\uc790\ub294 3\uba85\uae4c\uc9c0 \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),this.isStudentAddCalled=!1)}},{key:"render",value:function(){var e=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,e,a.a.createElement(Bl,{handleSubmit:this.handleSubmit,iconNum:this.props.match.params.icon,state:this.state,goBack:this.goBack}))}}]),n}(a.a.Component);var Dl=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Rl));function Ll(){var e=Object(v.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return Ll=function(){return e},e}var Hl=x.c.div(Ll());var Ul=function(){return a.a.createElement(Hl,null,a.a.createElement(u.b,{to:"/root/addstd/1"},a.a.createElement(z,{iconNum:1,size:"120px"})),a.a.createElement(u.b,{to:"/root/addstd/2"},a.a.createElement(z,{iconNum:2,size:"120px"})),a.a.createElement(u.b,{to:"/root/addstd/3"},a.a.createElement(z,{iconNum:3,size:"120px"})))};var Nl=function(e){var t=e.goBack;return a.a.createElement(ps,{background:E.icon_background,title:"\uc544\uc774\ucf58 \uc120\ud0dd",Content:Ul,goBack:t})},ql=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goBack=function(){e.props.history.goBack()},e}return Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement(Nl,{handleSubmit:this.handleSubmit,goBack:this.goBack})}}]),n}(a.a.Component),zl=Object(c.g)(ql);function Fl(){var e=Object(v.a)(["\n    width: 90%;\n    height: 90%;\n"]);return Fl=function(){return e},e}function Ml(){var e=Object(v.a)(["\n    border-radius: 100%;\n    border: 0px solid;\n    width: 120px;\n    height: 120px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ml=function(){return e},e}function Gl(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.5em;  \n"]);return Gl=function(){return e},e}function Wl(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Wl=function(){return e},e}function Yl(){var e=Object(v.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return Yl=function(){return e},e}var Ql=x.c.div(Yl()),Vl=x.c.div(Wl()),Jl=x.c.div(Gl()),Xl=x.c.div(Ml()),Kl=x.c.img(Fl());var Zl=function(e){var t=e.students,n=e.handler,r=t.map((function(e){return a.a.createElement(u.b,{to:"",key:e.s_id,onClick:function(t){n(t,e.s_id)}},a.a.createElement(Vl,null,a.a.createElement(z,{iconNum:e.ic_id,size:"120px"}),a.a.createElement(Jl,null,e.name)))}));return a.a.createElement(Ql,null,r,a.a.createElement(u.b,{to:"/root/addstd/1",key:"0"},a.a.createElement(Vl,null,a.a.createElement(Xl,null,a.a.createElement(Kl,{src:E.IconList[0]})),a.a.createElement(Jl,null,"\ucd94\uac00"))))};var $l=function(e){var t=e.students,n=e.handler,r=e.goBack;return a.a.createElement(ps,{background:E.icon_background,title:"\ud559\uc2b5\uc790 \uc120\ud0dd",Content:function(){return Zl({students:t,handler:n})},goBack:r})},ed=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.handleSubmit=function(t,n){t.preventDefault();var r=e.props.user;(0,e.props.dispatch)(Gt(n,r.user.u_id)),e.isSelectStudentCalled=!0},e.enableAlert=!1,e.isSelectStudentCalled=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;t.user.u_id?n(Ft(t.user.u_id)):this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")}))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;return this.isSelectStudentCalled&&t.student.s_id&&t.response.data&&1===t.response.data.code?(n({type:"RESPONSE_CLEAR",data:{}}),this.props.history.push("/"),void(this.isSelectStudentCalled=!1)):this.isSelectStudentCalled&&t.response.data&&1!==t.response.data.code?(n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud68c\uc6d0\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")})),void(this.isSelectStudentCalled=!1)):void 0}},{key:"render",value:function(){var e=this.props.user;console.log(e);var t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement($l,{students:e.user.students||[],handler:this.handleSubmit,goBack:this.goBack}))}}]),n}(a.a.Component);var td=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(ed));function nd(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.1rem;\n    width: 150px;\n    height: 150px;\n    border-radius: 15px;\n    background-color: #FFFFFF;\n    border: 2px solid #DFD7C4;\n"]);return nd=function(){return e},e}function rd(){var e=Object(v.a)(["\n    display: flex;\n    height: 100vh;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return rd=function(){return e},e}function ad(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return ad=function(){return e},e}var od=x.c.div(ad()),id=x.c.div(rd()),ud=x.c.div(nd()),cd=function(e){var t=e.goBack;return a.a.createElement(od,null,a.a.createElement(nn,{title:"\ub9c8\uc774 \ud398\uc774\uc9c0",goBack:t}),a.a.createElement(id,null,a.a.createElement(u.b,{to:"/user/userinfo"},a.a.createElement(ud,null,"\ud68c\uc6d0 \uc815\ubcf4")),a.a.createElement(u.b,{to:"/user/stdstatistics"},a.a.createElement(ud,null,"\ud559\uc2b5\uc790 \ud1b5\uacc4")),a.a.createElement(u.b,{to:"/user/selectstd"},a.a.createElement(ud,null,"\ud559\uc2b5\uc790 \uad00\ub9ac"))))},sd=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goBack=function(){e.props.history.goBack()},e}return Object(f.a)(n,[{key:"render",value:function(){return console.log(this.props.history),a.a.createElement(cd,{goBack:this.goBack})}}]),n}(a.a.Component);var ld=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(sd));function dd(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-family: 'paybooc-Medium';\n    padding: 10px 30px;\n"]);return dd=function(){return e},e}function pd(){var e=Object(v.a)(["\n    border-radius: 26px;\n    border: 0px solid;\n    margin-top: 10px;\n    padding: 0 10px;\n    background-color: ",";\n    margin: 20px;\n    color: #ffffff;\n"]);return pd=function(){return e},e}var fd=x.c.button(pd(),(function(e){return e.isModify?"#ff5500":"#AC9BC9"})),md=x.c.div(dd());var hd=function(e){var t=e.isModify,n=e.text,r=e.onClick;return a.a.createElement(fd,{isModify:t,onTouchEnd:r},a.a.createElement(md,null,n))};function gd(){var e=Object(v.a)(["\n    border-color: #ffffff00;\n    background-color: rgba(0,0,0,0);\n    border-bottom-color: #d2d2d2;\n    height: 25px;\n    width: 60%;\n    /* opacity: 0%; */\n"]);return gd=function(){return e},e}function bd(){var e=Object(v.a)(["\n    font-size: 1rem;\n    padding-right: 20px;\n"]);return bd=function(){return e},e}function vd(){var e=Object(v.a)(["\n    margin: 10px;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return vd=function(){return e},e}var xd=x.c.div(vd()),_d=x.c.div(bd()),wd=x.c.input(gd());var yd=function(e){var t=e.text,n=e.placeholder,r=e.handler;return a.a.createElement(xd,null,a.a.createElement(_d,null,t),a.a.createElement(wd,{type:"password",placeholder:n,onChange:r}))};function kd(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return kd=function(){return e},e}function Ed(){var e=Object(v.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    margin: 30px;\n"]);return Ed=function(){return e},e}function Td(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 10% 20%;\n    justify-content: space-around;\n"]);return Td=function(){return e},e}function Sd(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return Sd=function(){return e},e}var Od=x.c.div(Sd()),jd=x.c.div(Td()),Cd=x.c.div(Ed()),Ad=x.c.div(kd()),Bd={pw:"",pw_check:""},Id=function(e){Bd.pw=e.target.value},Pd=function(e){Bd.pw_check=e.target.value},Rd=function(e){var t=e.goBack,n=e.handleSubmit;return a.a.createElement(Od,null,a.a.createElement(nn,{title:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd",goBack:t}),a.a.createElement(jd,null,a.a.createElement(Cd,null,a.a.createElement(yd,{text:"\ube44\ubc00\ubc88\ud638",placeholder:"****",handler:Id}),a.a.createElement(yd,{text:"\ube44\ubc00\ubc88\ud638 \ud655\uc548",placeholder:"****",handler:Pd})),a.a.createElement(Ad,null,a.a.createElement(hd,{isModify:!0,text:"\ubcc0\uacbd",onClick:function(e){n(e,Bd)}}),a.a.createElement(hd,{isModify:!1,text:"\ucde8\uc18c",onClick:t}))))},Dd=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).handleSubmit=function(t,n){var r=n.pw,a=n.pw_check;t.preventDefault();var o=e.props.user,i=e.props.dispatch;if(r!==a)return e.makeAlert("\ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc774 \uac19\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1;i(function(e,t,n,r){return{type:"USER_MODIFY",promise:{method:"post",url:"user/modify",data:{email:e,pw:t,name:n,u_id:r}}}}(o.user.email,r,o.user.name,o.user.u_id)),e.isModifyCalled=!0},e.goBack=function(){e.props.history.goBack()},e.enableAlert=!1,e.isModifyCalled=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;if(this.isModifyCalled&&t.response&&1===t.response.data.code)return n({type:"RESPONSE_CLEAR",data:{}}),this.makeAlert("\ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud588\uc2b5\ub2c8\ub2e4.",!1,(function(){n(Mt()),e.props.history.push("/root/signin")})),void(this.isModifyCalled=!1)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;if(!t.user.u_id)return this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")})),!1;n(Ft(t.user.u_id))}},{key:"render",value:function(){console.log(this.props.history);var e=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,e,a.a.createElement(Rd,{goBack:this.goBack,handleSubmit:this.handleSubmit}))}}]),n}(a.a.Component);var Ld=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Dd));function Hd(){var e=Object(v.a)(["\n    width: 90%;\n    height: 90%;\n"]);return Hd=function(){return e},e}function Ud(){var e=Object(v.a)(["\n    border-radius: 100%;\n    border: 0px solid;\n    width: 120px;\n    height: 120px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ud=function(){return e},e}function Nd(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.5em;  \n"]);return Nd=function(){return e},e}function qd(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return qd=function(){return e},e}function zd(){var e=Object(v.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return zd=function(){return e},e}var Fd=x.c.div(zd()),Md=x.c.div(qd()),Gd=x.c.div(Nd());x.c.div(Ud()),x.c.img(Hd());var Wd=function(e){var t=e.students,n=e.handleSubmit,r=t.map((function(e){return a.a.createElement(u.b,{to:"/",onClick:function(t){n(t,e.s_id)},key:e.s_id},a.a.createElement(Md,null,a.a.createElement(z,{iconNum:e.ic_id,size:"120px"}),a.a.createElement(Gd,null,e.name)))}));return a.a.createElement(Fd,null,r)};function Yd(){var e=Object(v.a)(["\n\t\twidth: 100%;\n\t\theight: calc(100% - 90px);\n\t\tpadding: 3%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n"]);return Yd=function(){return e},e}function Qd(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return Qd=function(){return e},e}x.c.div(Qd()),x.c.div(Yd());var Vd=function(e){var t=e.students,n=e.handleSubmit,r=e.goBack;return a.a.createElement(ps,{background:E.icon_background,title:"\ud559\uc2b5\uc790 \uc120\ud0dd",Content:function(){return Wd({students:t,handleSubmit:n})},goBack:r})},Jd=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.handleSubmit=function(t,n){t.preventDefault();e.props.user;return(0,e.props.dispatch)(function(e){return{type:"STUDENT_CHANGE",data:{s_id:e}}}(n)),e.props.history.push("/"),!0},e.enableAlert=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;t.user.u_id?n(Ft(t.user.u_id)):this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")}))}},{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user,t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement(Vd,{students:e.user.students||[],handleSubmit:this.handleSubmit,goBack:this.goBack}))}}]),n}(a.a.Component);var Xd=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Jd));function Kd(){var e=Object(v.a)(["\nposition: relative;\nwidth: ",";\nbackground-color: red;\nheight: 15px;\nborder-radius: 50px;\nbackground-color: ",";\n"]);return Kd=function(){return e},e}function Zd(){var e=Object(v.a)(["\nwidth: 100%;\nheight: 15px;\nmargin-top: 5px;\nbackground-color: #EEEAE0;\nborder-radius: 50px;\n"]);return Zd=function(){return e},e}function $d(){var e=Object(v.a)(["\ndisplay: flex;\nflex-direction: column;\n"]);return $d=function(){return e},e}function ep(){var e=Object(v.a)(["\nmargin-right: 10px;\n"]);return ep=function(){return e},e}function tp(){var e=Object(v.a)(["\ndisplay: flex;\nalign-items: center;\nflex: 0.75;\nright: -30%;\n"]);return tp=function(){return e},e}function np(){var e=Object(v.a)(["\nflex: 0.25;\nfont-weight: bold;\n"]);return np=function(){return e},e}function rp(){var e=Object(v.a)(["\ndisplay: flex;\nwidth: 100%;\nflex-direction: row;\nalign-items: center;\nfont-size: 1.1rem;\n"]);return rp=function(){return e},e}var ap=x.c.div(rp()),op=x.c.div(np()),ip=x.c.div(tp()),up=(x.c.div(ep()),function(e){var t=e.title,n=e.score;e.color,e.text;return a.a.createElement(ap,null,a.a.createElement(op,null,t||"\uc81c\ubaa9"),a.a.createElement(ip,null,n||"\ud559\uc2b5\uc744 \uc2dc\uc791\ud574\uc8fc\uc138\uc694."))}),cp=x.c.div($d()),sp=x.c.div(Zd()),lp=x.c.div(Kd(),(function(e){return e.per||"50%"}),(function(e){return e.color||"green"})),dp=function(e){var t=e.title,n=e.color,r=e.text,o=e.per,i=e.score;return a.a.createElement(cp,null,a.a.createElement(up,{title:t,color:n,text:r,score:i}),!o||a.a.createElement(sp,null,a.a.createElement(lp,{per:o,color:n})))};function pp(){var e=Object(v.a)(["\n    display: flex;\n    font-size: 1.4rem;\n    margin-left: 10px;\n    align-items: center;\n    text-align: center;\n"]);return pp=function(){return e},e}function fp(){var e=Object(v.a)(["\n    height: 37px;\n    background-color: #ffffff;\n    border-radius: 40px;\n    margin-left: 15px;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 0.8rem;\n    padding: 0px 15px;\n"]);return fp=function(){return e},e}function mp(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    background-color: #ffffff;\n    border-radius: 40px;\n    align-items: center;\n    padding: 2px;\n    flex:1;\n"]);return mp=function(){return e},e}function hp(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    height: 37px;\n    justify-content: space-between;\n    flex-direction: row;\n    margin-bottom: 15px;\n"]);return hp=function(){return e},e}var gp=x.c.div(hp()),bp=x.c.div(mp()),vp=Object(x.c)(u.b)(fp()),xp=x.c.div(pp()),_p=function(e){var t=e.student,n=e.goBack;return console.log("stdinfo - stdbox"),a.a.createElement(gp,null,a.a.createElement(Jt,{goBack:n,size:"43px"}),a.a.createElement(bp,null,a.a.createElement(z,{size:"33px",iconNum:t.ic_id}),a.a.createElement(xp,null,t.name)),a.a.createElement(vp,{to:"/user/stdchange"},"\ud559\uc2b5\uc790 \ubcc0\uacbd"))};function wp(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: space-between;\n"]);return wp=function(){return e},e}function yp(){var e=Object(v.a)(["\n    display: flex;\n    width: 95%;\n    justify-content: flex-end;\n    align-self: flex-end;\n"]);return yp=function(){return e},e}function kp(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    padding: 3% 4.5% 4% 4.5%;\n"]);return kp=function(){return e},e}var Ep=x.c.div(kp()),Tp=x.c.div(yp()),Sp=x.c.div(wp()),Op=function(e){var t=e.student,n=e.goBack,r=e.amount,o=e.score,i=e.voice_score,u=He.level3,c=u.color,s=u.text;return a.a.createElement(Ep,null,a.a.createElement(Tp,null,a.a.createElement(_p,{student:t,goBack:n})),a.a.createElement(Sp,null,a.a.createElement(wa,{Content:a.a.createElement(dp,{title:"\ucd1d \ud559\uc2b5\ub7c9",score:r&&r+" \ubd84"})}),a.a.createElement(wa,{Content:a.a.createElement(dp,{title:"\uc131\ucde8\ub3c4",color:c,text:s,per:o?o+"%":"0%",score:o&&o+"%"})}),a.a.createElement(wa,{Content:a.a.createElement(dp,{title:"\ubc1c\uc74c \uc815\ud655\ub3c4",color:c,text:s,per:i?i+"%":"0%",score:i&&i+" \uc810"})})))},jp=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.state={amount:0,score:0,voice_score:0},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.user,this.props.dispatch,t.user.u_id&&t.student.s_id){e.next=5;break}return this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){a.props.history.push("/root/signin")})),e.abrupt("return");case 5:return e.next=7,Nt(t.student.s_id,!0,"day");case 7:n=e.sent,r=n.data,console.log(r),this.setState({amount:r.amount[Object.keys(r.amount)[Object.keys(r.amount).length-1]],score:r.score[Object.keys(r.score)[Object.keys(r.score).length-1]],voice_score:r.voice_score[Object.keys(r.voice_score)[Object.keys(r.voice_score).length-1]]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user,t=this.state,n=t.amount,r=t.score,o=t.voice_score;return a.a.createElement(Op,{student:e.student,goBack:this.goBack,amount:n,score:r,voice_score:o})}}]),n}(a.a.Component);var Cp=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(jp));function Ap(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-family: 'paybooc-Medium';\n    padding: 10px 30px;\n"]);return Ap=function(){return e},e}function Bp(){var e=Object(v.a)(["\n    border-radius: 26px;\n    border: 0px solid;\n    margin-top: 10px;\n    padding: 0 10px;\n    background-color: ",";\n    margin: 20px;\n    color: #ffffff;\n"]);return Bp=function(){return e},e}var Ip=x.c.button(Bp(),(function(e){return e.isDelete?"#ff5500":"#AC9BC9"})),Pp=x.c.div(Ap());var Rp=function(e){var t=e.isDelete,n=e.text,r=e.onClick,o=e.to;return a.a.createElement(u.b,{to:o},a.a.createElement(Ip,{isDelete:t,onTouchEnd:r},a.a.createElement(Pp,null,n)))};function Dp(){var e=Object(v.a)(["\n    border-color: #ffffff00;\n    background-color: rgba(0,0,0,0);\n    border-bottom-color: #d2d2d2;\n    height: 25px;\n    width: 60%;\n    /* opacity: 0%; */\n"]);return Dp=function(){return e},e}function Lp(){var e=Object(v.a)(["\n    font-size: 1rem;\n    padding-right: 20px;\n"]);return Lp=function(){return e},e}function Hp(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return Hp=function(){return e},e}var Up=x.c.div(Hp()),Np=x.c.div(Lp()),qp=x.c.input(Dp());var zp=function(e){var t=e.text,n=e.placeholder,r=e.handler;return a.a.createElement(Up,null,a.a.createElement(Np,null,t),a.a.createElement(qp,{type:"text",defaultValue:n,onChange:r}))};function Fp(){var e=Object(v.a)(["\n    margin: 2px 0 0 2px;\n    float: left;\n    clear: none;\n"]);return Fp=function(){return e},e}function Mp(){var e=Object(v.a)(["\n    width: 40%;\n    text-align: left;\n    padding: 0 5px;\n    display: inline-block;\n    float: left;\n    clear: none;\n"]);return Mp=function(){return e},e}function Gp(){var e=Object(v.a)(["\n    width: 60%;\n    text-align: left;\n"]);return Gp=function(){return e},e}function Wp(){var e=Object(v.a)(["\n    font-size: 1rem;\n    padding-right: 20px;\n"]);return Wp=function(){return e},e}function Yp(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return Yp=function(){return e},e}function Qp(){var e=Object(v.a)(["\n    width: 50px;\n"]);return Qp=function(){return e},e}function Vp(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: space-evenly;\n"]);return Vp=function(){return e},e}function Jp(){var e=Object(v.a)(["\n    border-radius: 100%;\n    background-color: grey;\n    width: 100px;\n    height: 100px;\n"]);return Jp=function(){return e},e}function Xp(){var e=Object(v.a)(["\n    display: flex;\n    flex: 2;\n    height: 100%;\n    flex-direction: column;\n    justify-content: space-evenly;\n    padding-left: 20px;\n"]);return Xp=function(){return e},e}function Kp(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return Kp=function(){return e},e}function Zp(){var e=Object(v.a)(["\n    display: flex;\n    height: 100%;\n    width: 80%;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    /* background-color: antiquewhite; */\n"]);return Zp=function(){return e},e}var $p=x.c.div(Zp()),ef=x.c.div(Kp()),tf=x.c.div(Xp()),nf=x.c.img(Jp()),rf=x.c.div(Vp()),af=(x.c.div(Qp()),x.c.div(Yp())),of=x.c.div(Wp()),uf=x.c.div(Gp()),cf=x.c.label(Mp()),sf=x.c.input(Fp()),lf={name:"",birth:"",gender:""},df=function(e){lf.name=e.target.value},pf=function(e){lf.birth=e.target.value},ff=function(e){lf.gender=e.target.value};var mf=function(e){var t=e.student,n=e.iconNum,r=e.handleSubmit,o=a.a.createElement(nf,{src:n?E.IconList[n]:E.IconList[t.ic_id],alt:"\ud504\ub85c\ud544 \uc0ac\uc9c4"});return lf={name:t.name,birth:t.birth.toString(),gender:t.gender},a.a.createElement($p,null,a.a.createElement(ef,null,a.a.createElement(u.b,{to:"/user/selecticon/"+t.s_id},o),a.a.createElement(tf,null,a.a.createElement(zp,{key:lf.name,text:"\ub2c9\ub124\uc784",placeholder:lf.name,handler:df}),a.a.createElement(zp,{key:lf.birth,text:"\uc0dd\uc77c",placeholder:lf.birth,handler:pf}),a.a.createElement(af,null,a.a.createElement(of,null,"\uc131\ubcc4"),a.a.createElement(uf,null,a.a.createElement(sf,{type:"radio",name:"gender",id:"radio_m",value:"m",onClick:ff,defaultChecked:"m"===lf.gender}),a.a.createElement(cf,{htmlFor:"radio_m"},"\ub0a8\uc790"),a.a.createElement(sf,{type:"radio",name:"gender",id:"radio_f",value:"f",onClick:ff,defaultChecked:"f"===lf.gender}),a.a.createElement(cf,{htmlFor:"radio_f"},"\uc5ec\uc790"))))),a.a.createElement(rf,null,a.a.createElement(Rp,{isDelete:!1,text:"\uc800\uc7a5",onClick:function(e){r(e,"save",lf)},to:"/"}),a.a.createElement(Rp,{isDelete:!0,text:"\uc0ad\uc81c",onClick:function(e){r(e,"delete",lf)},to:"/"})))};function hf(){var e=Object(v.a)(["\n\t\twidth: 100%;\n\t\theight: calc(100% - 90px);\n\t\tpadding: 3%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n"]);return hf=function(){return e},e}function gf(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return gf=function(){return e},e}var bf=x.c.div(gf()),vf=x.c.div(hf()),xf=function(e){var t=e.student,n=e.handleSubmit,r=e.iconNum,o=e.goBack;return a.a.createElement(bf,null,a.a.createElement(nn,{title:"\ud559\uc2b5\uc790 \uc218\uc815",goBack:o}),a.a.createElement(vf,null,a.a.createElement(mf,{iconNum:r,student:t,handleSubmit:n})))},_f=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.handleSubmit=function(t,n,r){var a=r.name,o=r.birth,i=r.gender;t.preventDefault();var u=e.props.user,c=e.props.dispatch,s=e.props.match.params.student,l=e.props.match.params.icon||u.student.ic_id;return l?a&&o&&i?(console.log(o.length),4!==o.length||isNaN(o)||!Pl()(o,"YYYY",!0).isValid()?(e.makeAlert("\uc62c\ubc14\ub978 \ub144\ub3c4\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1):(c({type:"RESPONSE_CLEAR",data:{}}),"save"===n?e.makeAlert("\uc815\ub9d0 \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",!0,(function(){c(function(e,t,n,r,a,o){return{type:"STUDENT_MODIFY",promise:{method:"post",url:"student/modify",data:{name:e,birth:t,gender:n,ic_id:r,s_id:a,u_id:o}}}}(a,o,i,l,s,u.user.u_id))}),(function(){e.enableAlert=!1,e.forceUpdate()})):"delete"===n&&e.makeAlert("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",!0,(function(){var e,t;c((e=s,t=u.user.u_id,{type:"STUDENT_DELETE",promise:{method:"post",url:"student/delete",data:{s_id:e,u_id:t}}}))}),(function(){e.enableAlert=!1,e.forceUpdate()})),e.isModifyCalled=!0,!0)):(e.makeAlert("\ube60\uc9c4 \ubd80\ubd84 \uc5c6\uc774 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1):(e.makeAlert("\uc544\uc774\ucf58\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",!1,(function(){e.enableAlert=!1,e.forceUpdate()})),!1)},e.enableAlert=!1,e.isModifyCalled=!1,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user,t=this.props.dispatch,n=this.props.match.params.student;n&&e.user.u_id?t(Gt(n,e.user.u_id)):this.props.history.push("/root/signin")}},{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props.user;this.isModifyCalled&&e.response.data&&1===e.response.data.code&&(this.props.history.push("/root/selectstd"),this.isModifyCalled=!1)}},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user;if(!e.student.name)return null;var t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement(xf,{student:e.student,iconNum:this.props.match.params.icon||void 0,handleSubmit:this.handleSubmit,goBack:this.goBack}))}}]),n}(a.a.Component);var wf=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(_f)),yf=n(141),kf=n(243),Ef=n(408),Tf=n(415),Sf=n(416),Of=n(409),jf=n(410);function Cf(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tmargin: 5px;\n\t\tfont-weight: bold;\n"]);return Cf=function(){return e},e}function Af(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\tfont-weight: bold;\n"]);return Af=function(){return e},e}function Bf(){var e=Object(v.a)(["\n\t\twidth: 40px;\n\t\theight: 20px;\n\t\tbackground-color: ",";\n\t\tborder-radius: 5px;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin: 5px;\n"]);return Bf=function(){return e},e}function If(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tbackground-color: white;\n\t\tborder-radius: 0px 0px 10px 10px;\n\t\theight: 350px;\n"]);return If=function(){return e},e}function Pf(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tbackground-color: gray;\n\t\tborder-radius: 10px 10px 0 0px;\n\t\talign-items: center;\n\t\tpadding: 10px;\n\t\theight: 50px;\n\t\tfont-size: 0.8rem;\n\t\tbackground-color: #e1d7c2;\n"]);return Pf=function(){return e},e}function Rf(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmargin: 10px 5vw;\n\t\theight: 400px;\n\t\tz-index: 0;\n"]);return Rf=function(){return e},e}var Df=function(e){e.includes("~")&&(e=e.split("~")[0]);var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()},Lf=x.c.div(Rf()),Hf=x.c.div(Pf()),Uf=x.c.div(If()),Nf=x.c.div(Bf(),(function(e){return Object.entries(He).find((function(t){return t[1].text===e.level}))[1].color})),qf=x.c.div(Af()),zf=x.c.div(Cf()),Ff={data:{stroke:"#aaaaaa",strokeWidth:"0.03em"}},Mf={data:{fill:"#b099cc"}};var Gf=function(e){e.isCure;for(var t=e.title,n=e.target,r=e.classLevel,o=e.tickle,i=(e.axis,[]),u=0;u<=4;u++)i.push(o*u*5);return a.a.createElement(Lf,null,a.a.createElement(Hf,null,a.a.createElement(Nf,{level:r},r),a.a.createElement(qf,null,t),a.a.createElement(zf,null,"(\uc900\ube44\uc911) \uc0c1\uc138 \ub0b4\uc6a9 \ubcf4\uae30")),a.a.createElement(Uf,null,a.a.createElement(Ef.a,{maxDomain:{y:25*o},width:500,containerComponent:a.a.createElement(Tf.a,{style:{pointerEvents:"auto",userSelect:"auto",touchAction:"auto"}})},a.a.createElement(Sf.a,{offsetX:40,dependentAxis:!0,tickValues:i,style:{axis:{stroke:"none"}}}),a.a.createElement(Sf.a,{offsetY:40,crossAxis:!0,style:{axis:{stroke:"none"}}}),a.a.createElement(Of.a,{y:function(){return 0},style:Ff}),a.a.createElement(Of.a,{y:function(){return 5*o},style:Ff}),a.a.createElement(Of.a,{y:function(){return 10*o},style:Ff}),a.a.createElement(Of.a,{y:function(){return 15*o},style:Ff}),a.a.createElement(Of.a,{y:function(){return 20*o},style:Ff}),a.a.createElement(jf.a,{barWidth:10,style:Mf,categories:{x:Object.keys(n).map((function(e){return Df(e)}))},data:Object.entries(n).map((function(e){return{x:Df(e[0]),y:e[1]}}))}))))};function Wf(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.1rem;\n    width: 80px;\n    height: 30px;\n    border-radius: 10px;\n    background-color: ",";\n"]);return Wf=function(){return e},e}function Yf(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 0 25vw;\n    margin: 20px 0;\n"]);return Yf=function(){return e},e}function Qf(){var e=Object(v.a)(["\n\t\toverflow: auto;\n\t\tdisplay: flex;\n    flex-direction: column;\n"]);return Qf=function(){return e},e}function Vf(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return Vf=function(){return e},e}var Jf={cure:[{title:"\ud559\uc2b5\ub7c9",y_axis:"\ubd84"},{title:"\uc131\ucde8\ub3c4",y_axis:"\uc810"},{title:"\ubc1c\uc74c \uc815\ud655\ub3c4",y_axis:"%"}],test:[{title:"\uccad\uac01 \ucc98\ub9ac \uc18d\ub3c4",y_axis:"\uc810"},{title:"\uc5b4\uc74c \uccad\ucde8\ub825",y_axis:"\uc810"},{title:"\uc120\ud0dd\uc801 \uc9d1\uc911\ub825",y_axis:"\uc810"}]},Xf=x.c.div(Vf()),Kf=x.c.div(Qf()),Zf=x.c.div(Yf()),$f=x.c.div(Wf(),(function(e){return e.selected?"#b38878":"white"})),em=function(e){var t=e.goBack,n=(e.student,e.state),r=e.Stat,o=e.isReady,i=e.isCure,u=e.period,c=e.isFirstDiag;if(!o)return a.a.createElement(Xf,null);var s=i?[n.amount,n.score,n.voice_score]:[n.score_swp,n.score_swp,n.score_foc],l=s.map((function(e){return Math.ceil(Math.max.apply(Math,Object(kf.a)(Object.values(e)))/20)}));return a.a.createElement(Xf,null,a.a.createElement(nn,{title:"\ud559\uc2b5\uc790 \ud1b5\uacc4",goBack:t}),a.a.createElement(Kf,null,a.a.createElement(Zf,null,a.a.createElement($f,{selected:"day"===u,onClick:function(){return r(!0,"day")}},"\uc77c\uac04"),a.a.createElement($f,{selected:"week"===u,onClick:function(){return r(!0,"week")}},"\uc8fc\uac04"),a.a.createElement($f,{selected:"month"===u,onClick:function(){return r(!0,"month")}},"\uc6d4\uac04"),a.a.createElement($f,{onClick:c},"\uac80\uc0ac")),[0,1,2].map((function(e){return a.a.createElement(Gf,{key:e,isCure:i,title:i?Jf.cure[e].title:Jf.test[e].title,target:s[e],classLevel:n.class[e],tickle:l[e],axis:i?Jf.cure[e].y_axis:Jf.test[e].y_axis})}))))},tm=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(p.a)(this,n),(r=t.call(this,e)).goBack=function(){r.props.history.goBack()},r.Stat=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.user,e.next=3,Nt(a.student.s_id,t,n);case 3:"cure"===(o=e.sent).data.code?r.setState({amount:o.data.amount,score:o.data.score,voice_score:o.data.voice_score,class:o.data.class,code:o.data.code,period:n,is_ready:!0}):"diagnose"===o.data.code&&r.setState({score_swp:o.data.score_swp,score_ph:o.data.score_ph,score_foc:o.data.score_foc,class:o.data.class,code:o.data.code,is_ready:!0}),console.log(o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.isFirstDiag=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(r.props.user.student.s_id);case 2:t=e.sent,n=t.data,console.log(n),n.is_first?r.makeAlert("\uccab \ubc88\uc9f8 \uac80\uc0ac\ub97c \uc9c4\ud589\ud574\uc8fc\uc138\uc694",!1,(function(){r.enableAlert=!1,r.forceUpdate()})):r.props.history.push("/diagnose/result");case 6:case"end":return e.stop()}}),e)}))),r.state={amount:{},score:{},voice_score:{},class:{},score_swp:{},score_ph:{},score_foc:{},is_cure:!0,period:"day",is_ready:!1},r.enableAlert=!1;var a=e.user;return a.user.u_id&&a.student.s_id?(r.Stat(!0,"day"),r):(r.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.history.push("/root/signin")})),Object(yf.a)(r))}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user,t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement(em,{student:e.student,goBack:this.goBack,state:this.state,Stat:this.Stat,isReady:this.state.is_ready,isCure:this.state.is_cure,period:this.state.period,isFirstDiag:this.isFirstDiag}))}}]),n}(a.a.Component);var nm=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(tm));function rm(){var e=Object(v.a)(["\n    font-size: 1.1rem;\n    font-family: 'paybooc-Medium';\n    padding: 3px 20px;\n"]);return rm=function(){return e},e}function am(){var e=Object(v.a)(["\n    border-radius: 26px;\n    border: 1px solid;\n    margin-top: 10px;\n    padding: 0 10px;\n    background-color:#ffffff;\n    border-color: #000000;\n    color: #000000;\n"]);return am=function(){return e},e}var om=x.c.button(am()),im=x.c.div(rm());var um=function(e){var t=e.text,n=e.onClick;return a.a.createElement(om,{onTouchEnd:n},a.a.createElement(im,null,t))};function cm(){var e=Object(v.a)(["\n    height: 2px;\n    width: 100%;\n    margin-top: 2px;\n    background-color: #d2d2d2;\n"]);return cm=function(){return e},e}function sm(){var e=Object(v.a)(["\n    font-size: 1.3rem;\n    padding-left: 5px;\n"]);return sm=function(){return e},e}function lm(){var e=Object(v.a)(["\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    /* opacity: 0%; */\n"]);return lm=function(){return e},e}function dm(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    flex:1;\n"]);return dm=function(){return e},e}function pm(){var e=Object(v.a)(["\n    font-size: 1.4rem;\n    padding-right: 20px;\n"]);return pm=function(){return e},e}function fm(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    align-items: center;\n    margin-top: 20px;\n"]);return fm=function(){return e},e}function mm(){var e=Object(v.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    justify-content: space-between;\n    text-align: center;\n    align-items: center;\n"]);return mm=function(){return e},e}var hm=x.c.div(mm()),gm=x.c.div(fm()),bm=x.c.div(pm()),vm=x.c.div(dm()),xm=x.c.div(lm()),_m=x.c.div(sm()),wm=x.c.div(cm());var ym=function(e){var t=e.email;return a.a.createElement(hm,null,a.a.createElement(gm,null,a.a.createElement(bm,null,"\ub098\uc758 \uacc4\uc815"),a.a.createElement(vm,null,a.a.createElement(xm,null,a.a.createElement(_m,null,t||"test123@gmail.com"),a.a.createElement(um,{text:"\uc774\uba54\uc77c \uc778\uc99d"})),a.a.createElement(wm,null))),a.a.createElement(gm,null,a.a.createElement(bm,null,"\uc8fc\ubcc0 \uc13c\ud130"),a.a.createElement(um,{text:"\uc9c0\ub3c4 \ubcf4\uae30"})))};function km(){var e=Object(v.a)(["\n    font-size: 0.8rem;\n"]);return km=function(){return e},e}function Em(){var e=Object(v.a)(["\n    display: flex;\n    width: 150px;\n    margin: 0 20px 20px 0;\n    align-self: flex-end;\n    justify-content: space-around;\n"]);return Em=function(){return e},e}function Tm(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 60px;\n    flex: 1;\n    justify-content: space-around;\n    align-items: center;\n"]);return Tm=function(){return e},e}function Sm(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n"]);return Sm=function(){return e},e}var Om=x.c.div(Sm()),jm=x.c.div(Tm()),Cm=x.c.div(Em()),Am=x.c.div(km()),Bm=function(e){var t=e.email,n=e.handleSubmit,r=e.goBack;return a.a.createElement(Om,null,a.a.createElement(nn,{title:"\ud68c\uc6d0 \uc815\ubcf4",goBack:r}),a.a.createElement(jm,null,a.a.createElement(ym,{email:t}),a.a.createElement(Sa,{text:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd",to:"/user/pwchange"})),a.a.createElement(Cm,null,a.a.createElement(Am,{onClick:function(e){n(e,"\ud68c\uc6d0\ud0c8\ud1f4")}},"\ud68c\uc6d0 \ud0c8\ud1f4"),a.a.createElement(Am,{onClick:function(e){n(e,"\ub85c\uadf8\uc544\uc6c3")}},"\ub85c\uadf8\uc544\uc6c3")))},Im=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).handleSubmit=function(t,n){var r=e.props.user,a=e.props.dispatch;"\ud68c\uc6d0\ud0c8\ud1f4"===n?e.makeAlert("\uc815\ub9d0 \ud0c8\ud1f4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",!0,(function(){var t;a((t=r.user.u_id,window.localStorage.removeItem("u_id"),{type:"USER_DELETE",promise:{method:"post",url:"user/delete",data:{u_id:t}}})),e.props.history.push("/root/signin")}),(function(){e.enableAlert=!1,e.forceUpdate()})):"\ub85c\uadf8\uc544\uc6c3"===n&&e.makeAlert("\uc815\ub9d0 \ub85c\uadf8\uc544\uc6c3\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",!0,(function(){a(Mt(r.user.u_id)),e.props.history.push("/root/signin")}),(function(){e.enableAlert=!1,e.forceUpdate()}))},e.goBack=function(){e.props.history.goBack()},e.enableAlert=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;console.log(t),t.user.u_id||this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")})),t.user.email||n(Ft(t.user.u_id))}},{key:"render",value:function(){console.log(this.props.history);var e=this.props.user;if(!e.user.email)return null;var t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement(Bm,{email:e.user.email,handleSubmit:this.handleSubmit,goBack:this.goBack}))}}]),n}(a.a.Component);var Pm=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Im));function Rm(){var e=Object(v.a)(["\n    width: 90%;\n    height: 90%;\n"]);return Rm=function(){return e},e}function Dm(){var e=Object(v.a)(["\n    border-radius: 100%;\n    border: 0px solid;\n    width: 120px;\n    height: 120px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Dm=function(){return e},e}function Lm(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 1.5em;  \n"]);return Lm=function(){return e},e}function Hm(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Hm=function(){return e},e}function Um(){var e=Object(v.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return Um=function(){return e},e}var Nm=x.c.div(Um()),qm=x.c.div(Hm()),zm=x.c.div(Lm()),Fm=x.c.div(Dm()),Mm=x.c.img(Rm());var Gm=function(e){var t=e.students.map((function(e){return a.a.createElement(u.b,{to:"/user/stdmanaging/"+e.s_id,key:e.s_id},a.a.createElement(qm,null,a.a.createElement(z,{iconNum:e.ic_id,size:"120px"}),a.a.createElement(zm,null,e.name)))}));return a.a.createElement(Nm,null,t,a.a.createElement(u.b,{to:"/root/addstd/1",key:"0"},a.a.createElement(qm,null,a.a.createElement(Fm,null,a.a.createElement(Mm,{src:E.IconList[0]})),a.a.createElement(zm,null,"\ucd94\uac00"))))};var Wm=function(e){var t=e.students,n=e.goBack;return a.a.createElement(ps,{background:E.icon_background,title:"\ud559\uc2b5\uc790 \uc218\uc815",Content:function(){return Gm({students:t})},goBack:n})},Ym=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).goBack=function(){e.props.history.goBack()},e.enableAlert=!1,e}return Object(f.a)(n,[{key:"makeAlert",value:function(e,t,n,r){this.enableAlert=!0,this.alertText=e,this.isConfirm=t,this.onSubmit=n,this.onCancel=r,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=this.props.dispatch;t.user.u_id?n(Ft(t.user.u_id)):this.makeAlert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4.",!1,(function(){e.props.history.push("/root/signin")}))}},{key:"render",value:function(){var e=this.props.user,t=this.enableAlert?a.a.createElement(Xe,{text:this.alertText,isConfirm:this.isConfirm,onSubmit:this.onSubmit,onCancel:this.onCancel}):"";return a.a.createElement("div",null,t,a.a.createElement(Wm,{students:e.user.students||[],goBack:this.goBack}))}}]),n}(a.a.Component);var Qm=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Ym));function Vm(){var e=Object(v.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n"]);return Vm=function(){return e},e}var Jm=x.c.div(Vm());var Xm=function(e){var t=e.student;return a.a.createElement(Jm,null,a.a.createElement(u.b,{to:"/user/stdmanaging/"+t+"/1"},a.a.createElement(z,{iconNum:1,size:"120px"})),a.a.createElement(u.b,{to:"/user/stdmanaging/"+t+"/2"},a.a.createElement(z,{iconNum:2,size:"120px"})),a.a.createElement(u.b,{to:"/root/stdmanaging/"+t+"/3"},a.a.createElement(z,{iconNum:3,size:"120px"})))};var Km=function(e){var t=e.student,n=e.goBack;return a.a.createElement(ps,{background:E.icon_background,title:"\uc544\uc774\ucf58 \uc120\ud0dd",Content:function(){return Xm({student:t})},goBack:n})},Zm=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).goBack=function(){e.props.history.goBack()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.match.params.student;return a.a.createElement(Km,{student:e,handleSubmit:this.handleSubmit,goBack:this.goBack})}}]),n}(a.a.Component);var $m=Object(zt.b)((function(e){return{user:e.user}}))(Object(c.g)(Zm)),eh=function(){return a.a.createElement(u.a,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/user/setting",exact:!0,component:ld}),a.a.createElement(c.b,{path:"/user/stdchange",exact:!0,component:Xd}),a.a.createElement(c.b,{path:"/user/stdinfo",exact:!0,component:Cp}),a.a.createElement(c.b,{path:"/user/userinfo",exact:!0,component:Pm}),a.a.createElement(c.b,{path:"/user/pwchange",exact:!0,component:Ld}),a.a.createElement(c.b,{path:"/user/selectstd",exact:!0,component:Qm}),a.a.createElement(c.b,{path:"/user/selecticon/:student",exact:!0,component:$m}),a.a.createElement(c.b,{path:"/user/stdstatistics",exact:!0,component:nm}),a.a.createElement(c.b,{path:"/user/stdmanaging/:student/:icon",exact:!0,component:wf}),a.a.createElement(c.b,{path:"/user/stdmanaging/:student",exact:!0,component:wf}),a.a.createElement(c.b,{path:"/user/stdmanaging",exact:!0,component:wf}),a.a.createElement(c.b,{path:"/diagnose",component:rh}),a.a.createElement(c.b,{path:"/therapy",component:nh}),a.a.createElement(c.b,{path:"/root",component:th}),a.a.createElement(c.b,{path:"/main",component:ah}),a.a.createElement(c.a,{from:"*",to:"/main/main"})))},th=function(){return a.a.createElement(u.a,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/root/signin",exact:!0,component:Cs}),a.a.createElement(c.b,{path:"/root/signup",exact:!0,component:Gs}),a.a.createElement(c.b,{path:"/root/forgotpassword",exact:!0,component:el}),a.a.createElement(c.b,{path:"/root/addstd/:icon",exact:!0,component:Dl}),a.a.createElement(c.b,{path:"/root/addstd",exact:!0,component:Dl}),a.a.createElement(c.b,{path:"/root/selectstd/:student",exact:!0,component:td}),a.a.createElement(c.b,{path:"/root/selectstd",exact:!0,component:td}),a.a.createElement(c.b,{path:"/root/selecticon",exact:!0,component:zl}),a.a.createElement(c.b,{path:"/diagnose",component:rh}),a.a.createElement(c.b,{path:"/therapy",component:nh}),a.a.createElement(c.b,{path:"/main",component:ah}),a.a.createElement(c.b,{path:"/user",component:eh}),a.a.createElement(c.a,{from:"*",to:"/main/main"})))},nh=function(){return a.a.createElement(u.a,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/therapy/poem/:learning_type",exect:!0,component:ci}),a.a.createElement(c.b,{path:"/therapy/word/:type/:learning_type",exect:!0,component:Ku}),a.a.createElement(c.b,{path:"/therapy/selfpoem/:learning_type",exect:!0,component:ji}),a.a.createElement(c.b,{path:"/therapy/count/:learning_type",exect:!0,component:su}),a.a.createElement(c.b,{path:"/therapy/common/:learning_type",exect:!0,component:Cu}),a.a.createElement(c.b,{path:"/therapy/sound/:type/:learning_type",exect:!0,component:vc}),a.a.createElement(c.b,{path:"/therapy/consocommon/:learning_type",exect:!0,component:$c}),a.a.createElement(c.b,{path:"/therapy/consomatch/:learning_type",exect:!0,component:Hc}),a.a.createElement(c.b,{path:"/diagnose",component:rh}),a.a.createElement(c.b,{path:"/root",component:th}),a.a.createElement(c.b,{path:"/main",component:ah}),a.a.createElement(c.b,{path:"/user",component:eh}),a.a.createElement(c.a,{from:"*",to:"/main/main"})))},rh=function(){return a.a.createElement(u.a,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/diagnose/recognition",exect:!0,component:Ar}),a.a.createElement(c.b,{path:"/diagnose/attention",exect:!0,component:Wr}),a.a.createElement(c.b,{path:"/diagnose/sweep",exect:!0,component:va}),a.a.createElement(c.b,{path:"/diagnose/result",exect:!0,component:co}),a.a.createElement(c.b,{path:"/therapy",component:nh}),a.a.createElement(c.b,{path:"/root",component:th}),a.a.createElement(c.b,{path:"/main",component:ah}),a.a.createElement(c.b,{path:"/user",component:eh}),a.a.createElement(c.a,{from:"*",to:"/main/main"})))},ah=function(){return a.a.createElement(u.a,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/main/select",exact:!0,component:pn}),a.a.createElement(c.b,{path:"/main/main",exact:!0,component:Yt}),a.a.createElement(c.b,{path:"/main/loading",exact:!0,component:_n}),a.a.createElement(c.b,{path:"/diagnose",component:rh}),a.a.createElement(c.b,{path:"/therapy",component:nh}),a.a.createElement(c.b,{path:"/root",component:th}),a.a.createElement(c.b,{path:"/user",component:eh}),a.a.createElement(c.a,{from:"*",to:"/main/main"})))};function oh(){var e=Object(v.a)(["\n    a{\n        text-decoration:none;\n        color:inherit;\n    }\n    *{\n        box-sizing:border-box;\n        margin: 0px;\n        padding: 0px;\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n    }\n    body{\n        font-family: 'paybooc-Medium';\n        font-size:12px;\n        overflow: hidden;\n        background-color:#FDF5DB;\n    }\n@font-face { \n  font-family: 'paybooc-Bold'; \n  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-Bold.woff') format('woff'); \n  font-weight: bold; \n  font-style: normal; \n}\n\n@font-face { \n  font-family: 'paybooc-Light';\n  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-Light.woff') format('woff'); \n  font-weight: lighter; \n  font-style: normal; \n}\n\n@font-face { \n  font-family: 'paybooc-Medium';\n  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-Medium.woff') format('woff'); \n  font-weight: normal; \n  font-style: normal; \n}\n\n@font-face { \n  font-family: 'paybooc-ExtraBold';\n  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/paybooc-ExtraBold.woff') format('woff'); \n  font-weight: bolder; \n  font-style: normal; \n}\n\n@font-face {\n        font-family: 'NanumBarunGothic';\n        font-style: normal;\n        font-weight: 400;\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWeb.eot');\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWeb.eot?#iefix') format('embedded-opentype'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWeb.woff') format('woff'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWeb.ttf') format('truetype');\n    }\n\n    @font-face {\n        font-family: 'NanumBarunGothic';\n        font-style: normal;\n        font-weight: 700;\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebBold.eot');\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebBold.eot?#iefix') format('embedded-opentype'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebBold.woff') format('woff'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebBold.ttf') format('truetype')\n    }\n\n    @font-face {\n        font-family: 'NanumBarunGothic';\n        font-style: normal;\n        font-weight: 300;\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebLight.eot');\n        src: url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebLight.eot?#iefix') format('embedded-opentype'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebLight.woff') format('woff'), url('//cdn.jsdelivr.net/font-nanumlight/1.0/NanumBarunGothicWebLight.ttf') format('truetype');\n    }\n\n    .nanumbarungothic * {\n        font-family: 'NanumBarunGothic', sans-serif;\n    }\n"]);return oh=function(){return e},e}var ih=Object(x.a)(oh());var uh=function(){return a.a.createElement("div",null,a.a.createElement(ah,null),a.a.createElement(ih,null))},ch=(n(388),n(56)),sh={isLoggedIn:!1,fetchingUpdate:!1,user:{},student:{},response:{}},lh=Object(ch.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"USER_REGISTER_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,isLoggedIn:!0,user:{u_id:t.result.data.u_id},response:t.error||t.result});case"USER_REGISTER_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,isLoggedIn:!1,user:{},response:t.error||t.result});case"USER_SIGNIN_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"USER_SIGNIN_SUCCESS":return window.localStorage.setItem("u_id",t.result.data.u_id),Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,isLoggedIn:!0,user:{u_id:t.result.data.u_id},response:t.error||t.result});case"USER_SIGNIN_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,isLoggedIn:!1,response:t.error||t.result});case"USER_MODIFY_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"USER_MODIFY_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,user:Object(Ci.a)({},e.user),response:t.error||t.result});case"USER_MODIFY_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"USER_DELETE_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"USER_DELETE_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,user:Object(Ci.a)({},e.user),response:t.error||t.result});case"USER_DELETE_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"USER_GET_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"USER_GET_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,user:Object(Ci.a)(Object(Ci.a)({},e.user),{},{u_id:t.result.data.u_id,name:t.result.data.name,email:t.result.data.email,students:t.result.data.students.map((function(e){return{s_id:e.stu_id,name:e.stu_name,gender:e.stu_gender,birth:e.stu_birth,ic_id:e.ic_id}}))}),response:t.error||t.result});case"USER_GET_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"STUDENT_ADD_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"STUDENT_ADD_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,student:{s_id:t.result.data.s_id},response:t.error||t.result});case"STUDENT_ADD_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"STUDENT_MODIFY_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"STUDENT_MODIFY_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,student:{},response:t.error||t.result});case"STUDENT_MODIFY_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"STUDENT_DELETE_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"STUDENT_DELETE_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,student:{},response:t.error||t.result});case"STUDENT_DELETE_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"STUDENT_GET_REQUEST":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0});case"STUDENT_GET_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,student:Object(Ci.a)(Object(Ci.a)({},e.student),{},{s_id:t.result.data.s_id,name:t.result.data.name,birth:t.result.data.birth,gender:t.result.data.gender,ic_id:t.result.data.ic_id}),response:t.error||t.result});case"STUDENT_GET_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!1,response:t.error||t.result});case"USER_AUTOLOGIN_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{isLoggedIn:!0,fetchingUpdate:!1,user:{u_id:t.data.u_id}});case"USER_AUTOLOGIN_FAILURE":return Object(Ci.a)(Object(Ci.a)({},e),{},{isLoggedIn:!1,fetchingUpdate:!1});case"USER_LOGOUT_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{isLoggedIn:!1,fetchingUpdate:!1,user:{},student:{}});case"STUDENT_CHANGE_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{fetchingUpdate:!0,student:{s_id:t.data.s_id}});case"RESPONSE_CLEAR_SUCCESS":return Object(Ci.a)(Object(Ci.a)({},e),{},{response:{}});default:return e}}}),dh=function(){return function(e){return function(t){if(!t.promise){var n=t.type,r=t.data,a=Object(b.a)(t,["type","data"]);return"USER_AUTOLOGIN"===n?r.u_id?e(Object(Ci.a)(Object(Ci.a)({},a),{},{data:r,type:"".concat(n,"_SUCCESS")})):e(Object(Ci.a)(Object(Ci.a)({},a),{},{data:r,type:"".concat(n,"_FAILURE")})):e(Object(Ci.a)(Object(Ci.a)({},a),{},{data:r,type:"".concat(n,"_SUCCESS")}))}var o=t.promise,i=t.type,u=Object(b.a)(t,["promise","type"]);return e(Object(Ci.a)(Object(Ci.a)({},u),{},{type:"".concat(i,"_REQUEST")})),it.post(o.url,o.data).then((function(t){1===t.data.code?e(Object(Ci.a)(Object(Ci.a)({},u),{},{result:t,type:"".concat(i,"_SUCCESS")})):e(Object(Ci.a)(Object(Ci.a)({},u),{},{result:t,type:"".concat(i,"_FAILURE")}))})).catch((function(t){e(Object(Ci.a)(Object(Ci.a)({},u),{},{error:t,type:"".concat(i,"_FAILURE")}))}))}}};var ph=n(405),fh=n(240),mh=function(e){var t=Object(ch.d)(Object(ch.a)(dh));return Object(ch.e)(lh,e,t)}();ph.a({dsn:"https://c7d74fbcb6704ff7915d8983a48c7d5c@o1072853.ingest.sentry.io/6072226",integrations:[new fh.a.BrowserTracing],tracesSampleRate:1}),i.a.render(a.a.createElement(zt.a,{store:mh},a.a.createElement(uh,null)),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.4352a18b.chunk.js.map